/*! by joyone.cn 厦门展网信息技术有限公司  joyone 2015-04-30  1.0.20 */
!function(a,b){function c(a,b){var c={top:0,right:0,bottom:0,left:0};return b=b||0,"number"==typeof a?c[Ca]=c[Aa]=c[Z]=c[ra]=a:(c[Ca]=a[Ca]||b,c[Aa]=a[Aa]||b,c[Z]=a[Z]||b,c[ra]=a[ra]||b),c}function d(a,b,c){var d,e,f=b.tickX,g=b.tickY,h=b.position;return b.vertical?(d=Ma(f,h),e=Ma(f+c.size,h)):(d=Ma(h,g),e=Ma(h,g+c.size)),a.createLine(d.x,d.y,e.x,e.y,{strokeWidth:c.width,stroke:c.color,align:b._alignLines})}function e(a,b,c){var d,e,f=b.lineStart,g=b.lineEnd,h=b.position;return b.vertical?(d=Ma(f,h),e=Ma(g,h)):(d=Ma(h,f),e=Ma(h,g)),a.createLine(d.x,d.y,e.x,e.y,{data:{modelId:b.modelId},strokeWidth:c.width,stroke:c.color,dashType:c.dashType,zIndex:-1})}function f(a,b){return M.extend({init:function(a){this.view=a},decorate:function(c){var d,e=this,f=e.view,g=c.options.animation;return g&&g.type===a&&f.options.transitions&&(d=c._animation=new b(c,g),f.animations.push(d)),c}})}function g(a,b,c){return rb.current.measure(a,b,c)}function h(a,b){var c=t(b-a,fa-1);if(0===c){if(0===b)return.1;c=R.abs(b)}var d=R.pow(10,R.floor(R.log(c)/R.log(10))),e=t(c/d,fa),f=1;return f=1.904762>e?.2:4.761904>e?.5:9.523809>e?1:2,t(d*f,fa)}function i(a){var b=[];for(var c in a)b.push(c+a[c]);return b.sort().join(" ")}function j(){return nb.current.alloc()}function k(a,b,c,d,e){var f=e*ha;return new Ma(c+(a-c)*R.cos(f)+(b-d)*R.sin(f),d-(a-c)*R.sin(f)+(b-d)*R.cos(f))}function l(b,c){if(b.x1==c.x1&&b.y1==c.y1&&b.x2==c.x2&&b.y2==c.y2)return c;var d=R.min(b.x1,c.x1),e=R.max(b.x1,c.x1),f=R.min(b.x2,c.x2),g=R.max(b.x2,c.x2),h=R.min(b.y1,c.y1),i=R.max(b.y1,c.y1),j=R.min(b.y2,c.y2),k=R.max(b.y2,c.y2),l=[];return l[0]=Na(e,h,f,i),l[1]=Na(d,i,e,j),l[2]=Na(f,i,g,j),l[3]=Na(e,j,f,k),b.x1==d&&b.y1==h||c.x1==d&&c.y1==h?(l[4]=Na(d,h,e,i),l[5]=Na(f,j,g,k)):(l[4]=Na(f,h,g,i),l[5]=Na(d,j,e,k)),a.grep(l,function(a){return a.height()>0&&a.width()>0})[0]}function m(){return J.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function n(){return!!J.createElement("canvas").getContext}function o(a,b){return-1!=Q(a,b)}function p(a){return a[a.length-1]}function q(a,b){a.push.apply(a,b)}function r(a,b){return t(R.ceil(a/b)*b,fa)}function s(a,b){return t(R.floor(a/b)*b,fa)}function t(a,b){var c=R.pow(10,b||0);return R.round(a*c)/c}function u(a,b){return R.log(a)/R.log(b)}function v(a,b,c){var d=t(R.abs(a%b),fa),e=b*(1-c);return 0===d||d>e}function w(a,b,c){return t(a+(b-a)*c,_)}function x(a){return typeof a!==Ea}function y(a,b){return x(a)?a:b}function z(a,b){return a-b}function A(a,b,c){var d,e=a.length;for(d=0;e>d;d++)a[d][b]=c}function B(a,b){return a.match(ja)?K.format.apply(this,arguments):K.toString(b,a)}function C(a){return J.getElementById(a)}function D(a){for(var b=a.parentNode;b&&b.parentNode;)b=b.parentNode;return b!==J}function E(a,b){return-a.x*b.y+a.y*b.x<0}function F(a){if(!a||!a.indexOf||a.indexOf("&")<0)return a;var b=F._element;return b.innerHTML=a,b.textContent||b.innerText}function G(a,b){return a&&b?a.getTime()-b.getTime():0}function H(a,b,c){return R.max(R.min(a,c),b)}function I(a){var b=a.originalEvent,c=0;return b.wheelDelta&&(c=-b.wheelDelta/120,c=c>0?R.ceil(c):R.floor(c)),b.detail&&(c=t(b.detail/3)),c}var J=document,K=window.joy,L=K.dataviz={},M=K.Class,N=K.template,O=a.map,P=a.noop,Q=a.inArray,R=Math,S=K.deepExtend,T=function(a){return N(a,{useWithBlock:!1,paramName:"d"})},U="k-",V=10,W="axisLabelClick",X=1,Y="#000",Z="bottom",$="center",_=3,aa="clip",ba="circle",ca="cross",da="12px sans-serif",ea=400,fa=6,ga=600,ha=R.PI/180,ia="fadeIn",ja=/\{\d+:?/,ka="height",la="k",ma=1e3,na=1e4,oa=1e5,pa=600,qa="inside",ra="left",sa="linear",ta=Number.MAX_VALUE,ua=-Number.MAX_VALUE,va="none",wa="noteClick",xa="noteHover",ya="outside",za="radial",Aa="right",Ba="swing",Ca="top",Da="triangle",Ea="undefined",Fa=/([A-Z])/g,Ga="width",Ha="#fff",Ia="x",Ja="y",Ka=.2,La=M.extend({init:function(a,b,c,d,e,f){this.a=a||0,this.b=b||0,this.c=c||0,this.d=d||0,this.e=e||0,this.f=f||0},times:function(a){return new La(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)}});S(La,{translate:function(a,b){var c=new La;return c.a=1,c.b=0,c.c=0,c.d=1,c.e=a,c.f=b,c},unit:function(){return new La(1,0,0,1,0,0)},rotate:function(a,b,c){var d=new La;return d.a=R.cos(a*ha),d.b=R.sin(a*ha),d.c=-d.b,d.d=d.a,d.e=b-b*d.a+c*d.b||0,d.f=c-c*d.a-b*d.b||0,d},scale:function(a,b){var c=new La;return c.a=a,c.b=0,c.c=0,c.d=b,c.e=0,c.f=0,c}}),K.dataviz.Matrix=La;var Ma=function(a,b){var c=this;return c instanceof Ma?(c.x=a||0,void(c.y=b||0)):new Ma(a,b)};Ma.fn=Ma.prototype={clone:function(){var a=this;return new Ma(a.x,a.y)},equals:function(a){return a&&a.x===this.x&&a.y===this.y},rotate:function(a,b){var c=this,d=b*ha,e=R.cos(d),f=R.sin(d),g=a.x,h=a.y,i=c.x,j=c.y;return c.x=t(g+(i-g)*e+(j-h)*f,_),c.y=t(h+(j-h)*e-(i-g)*f,_),c},multiply:function(a){var b=this;return b.x*=a,b.y*=a,b},distanceTo:function(a){var b=this.x-a.x,c=this.y-a.y;return R.sqrt(b*b+c*c)},transform:function(a){var b=this;return b.x=a.a*b.x+a.c*b.y+a.e,b.y=a.b*b.x+a.d*b.y+a.f,b}},Ma.onCircle=function(a,b,c){return b*=ha,new Ma(a.x-c*R.cos(b),a.y-c*R.sin(b))};var Na=function(a,b,c,d){var e=this;return e instanceof Na?(e.x1=a||0,e.x2=c||0,e.y1=b||0,void(e.y2=d||0)):new Na(a,b,c,d)};Na.fn=Na.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(a,b){var c=this;return c.x1+=a,c.x2+=a,c.y1+=b,c.y2+=b,c},move:function(a,b){var c=this,d=c.height(),e=c.width();return x(a)&&(c.x1=a,c.x2=c.x1+e),x(b)&&(c.y1=b,c.y2=c.y1+d),c},wrap:function(a){var b=this;return b.x1=R.min(b.x1,a.x1),b.y1=R.min(b.y1,a.y1),b.x2=R.max(b.x2,a.x2),b.y2=R.max(b.y2,a.y2),b},wrapPoint:function(a){return this.wrap(new Na(a.x,a.y,a.x,a.y)),this},snapTo:function(a,b){var c=this;return b!=Ia&&b||(c.x1=a.x1,c.x2=a.x2),b!=Ja&&b||(c.y1=a.y1,c.y2=a.y2),c},alignTo:function(a,b){var c=this,d=c.height(),e=c.width(),f=b==Ca||b==Z?Ja:Ia,g=f==Ja?d:e;if(b===$){var h=a.center(),i=c.center();c.x1+=h.x-i.x,c.y1+=h.y-i.y}else c[f+1]=b===Ca||b===ra?a[f+1]-g:a[f+2];return c.x2=c.x1+e,c.y2=c.y1+d,c},shrink:function(a,b){var c=this;return c.x2-=a,c.y2-=b,c},expand:function(a,b){return this.shrink(-a,-b),this},pad:function(a){var b=this,d=c(a);return b.x1-=d.left,b.x2+=d.right,b.y1-=d.top,b.y2+=d.bottom,b},unpad:function(a){var b=this,d=c(a);return d.left=-d.left,d.top=-d.top,d.right=-d.right,d.bottom=-d.bottom,b.pad(d)},clone:function(){var a=this;return new Na(a.x1,a.y1,a.x2,a.y2)},center:function(){var a=this;return new Ma(a.x1+a.width()/2,a.y1+a.height()/2)},containsPoint:function(a){var b=this;return a.x>=b.x1&&a.x<=b.x2&&a.y>=b.y1&&a.y<=b.y2},points:function(){var a=this;return[new Ma(a.x1,a.y1),new Ma(a.x2,a.y1),new Ma(a.x2,a.y2),new Ma(a.x1,a.y2)]},getHash:function(){var a=this;return[a.x1,a.y1,a.x2,a.y2].join(",")},overlaps:function(a){return!(a.y2<this.y1||this.y2<a.y1||a.x2<this.x1||this.x2<a.x1)}};var Oa=M.extend({init:function(a,b,c,d,e){var f=this;f.c=a,f.ir=b,f.r=c,f.startAngle=d,f.angle=e},clone:function(){var a=this;return new Oa(a.c,a.ir,a.r,a.startAngle,a.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(a,b){var c=this;return b?c.ir=a:c.r=a,c},point:function(a,b){var c=this,d=a*ha,e=R.cos(d),f=R.sin(d),g=b?c.ir:c.r,h=t(c.c.x-e*g,_),i=t(c.c.y-f*g,_);return new Ma(h,i)},adjacentBox:function(a,b,c){var d=this.clone().expand(a),e=d.middle(),f=d.point(e),g=b/2,h=c/2,i=f.x-g,j=f.y-h,k=R.sin(e*ha),l=R.cos(e*ha);return R.abs(k)<.9&&(i+=g*-l/R.abs(l)),R.abs(l)<.9&&(j+=h*-k/R.abs(k)),new Na(i,j,i+b,j+c)},containsPoint:function(a){var b=this,c=b.c,d=b.ir,e=b.r,f=b.startAngle,g=b.startAngle+b.angle,h=a.x-c.x,i=a.y-c.y,j=new Ma(h,i),k=b.point(f),l=new Ma(k.x-c.x,k.y-c.y),m=b.point(g),n=new Ma(m.x-c.x,m.y-c.y),o=t(h*h+i*i,_);return(l.equals(j)||E(l,j))&&!E(n,j)&&o>=d*d&&e*e>=o},getBBox:function(){var a,b,c,d=this,e=new Na(ta,ta,ua,ua),f=t(d.startAngle%360),g=t((f+d.angle)%360),h=d.ir,i=[0,90,180,270,f,g].sort(z),j=Q(f,i),k=Q(g,i);for(a=f==g?i:k>j?i.slice(j,k+1):[].concat(i.slice(0,k+1),i.slice(j,i.length)),b=0;b<a.length;b++)c=d.point(a[b]),e.wrapPoint(c),e.wrapPoint(c,h);return h||e.wrapPoint(d.c),e},expand:function(a){return this.r+=a,this}}),Pa=Oa.extend({init:function(a,b,c,d){Oa.fn.init.call(this,a,0,b,c,d)},expand:function(a){return Oa.fn.expand.call(this,a)},clone:function(){var a=this;return new Pa(a.c,a.r,a.startAngle,a.angle)},radius:function(a){return Oa.fn.radius.call(this,a)},point:function(a){return Oa.fn.point.call(this,a)}}),Qa=M.extend({init:function(a){S(this,{height:40,rotation:90,radius:10,arcAngle:10},a)}}),Ra=M.extend({init:function(a){var b=this;b.children=[],b.options=S({},b.options,a),b.id=b.options.id},reflow:function(a){var b,c,d,e=this,f=e.children;for(c=0;c<f.length;c++)d=f[c],d.reflow(a),b=b?b.wrap(d.box):d.box.clone();e.box=b||a},getViewElements:function(a){var b,c,d,e=this,f=e.modelId,g=[],h=e.children,i=h.length;for(c=0;i>c;c++)d=h[c],d.discoverable||(d.options=d.options||{},d.modelId=f),g.push.apply(g,d.getViewElements(a));return e.discoverable&&(b=e.getRoot(),b&&(b.modelMap[f]=e)),g},enableDiscovery:function(){var a=this;a.modelId=nb.current.alloc(),a.discoverable=!0},destroy:function(){var a,c=this,d=c.children,e=c.getRoot(),f=c.modelId,g=c.id,h=nb.current;for(g&&h.free(g),f&&(h.free(f),e&&e.modelMap[f]&&(e.modelMap[f]=b)),a=0;a<d.length;a++)d[a].destroy()},getRoot:function(){var a=this.parent;return a?a.getRoot():null},translateChildren:function(a,b){var c,d=this,e=d.children,f=e.length;for(c=0;f>c;c++)e[c].box.translate(a,b)},append:function(){var a,b=this,c=arguments.length;for(q(b.children,arguments),a=0;c>a;a++)arguments[a].parent=b}}),Sa=Ra.extend({init:function(a){var b=this;b.modelMap={},Ra.fn.init.call(b,a)},options:{width:ga,height:ea,background:Ha,border:{color:Y,width:0},margin:c(5),zIndex:-2},reflow:function(){var a=this,b=a.options,c=a.children,d=new Na(0,0,b.width,b.height);a.box=d.unpad(b.margin);for(var e=0;e<c.length;e++)c[e].reflow(d),d=l(d,c[e].box)},getViewElements:function(a){var b=this,c=b.options,d=c.border||{},e=b.box.clone().pad(c.margin).unpad(d.width),f=[a.createRect(e,{stroke:d.width?d.color:"",strokeWidth:d.width,dashType:d.dashType,fill:c.background,fillOpacity:c.opacity,zIndex:c.zIndex})];return f.concat(Ra.fn.getViewElements.call(b,a))},getRoot:function(){return this}}),Ta=Ra.extend({options:{align:ra,vAlign:Ca,margin:{},padding:{},border:{color:Y,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(a){function b(){h.align(a,Ia,i.align),h.align(a,Ja,i.vAlign),h.paddingBox=d.clone().unpad(j).unpad(l)}var d,e,f,g,h=this,i=h.options,j=c(i.margin),k=c(i.padding),l=i.border.width,m=h.children;for(Ra.fn.reflow.call(h,a),d=i.width&&i.height?h.box=new Na(0,0,i.width,i.height):h.box,i.shrinkToFit?(b(),e=h.contentBox=h.paddingBox.clone().unpad(k)):(e=h.contentBox=d.clone(),d.pad(k).pad(l).pad(j),b()),h.translateChildren(d.x1-e.x1+j.left+l+k.left,d.y1-e.y1+j.top+l+k.top),f=0;f<m.length;f++)g=m[f],g.reflow(g.box)},align:function(a,b,c){var d=this,e=d.box,f=b+1,g=b+2,h=b===Ia?Ga:ka,i=e[h]();o(c,[ra,Ca])?(e[f]=a[f],e[g]=e[f]+i):o(c,[Aa,Z])?(e[g]=a[g],e[f]=e[g]-i):c==$&&(e[f]=a[f]+(a[h]()-i)/2,e[g]=e[f]+i)},hasBox:function(){var a=this.options;return a.border.width||a.background},getViewElements:function(a,b){var c=this,d=c.options,e=[];return d.visible?(c.hasBox()&&e.push(a.createRect(c.paddingBox,S(c.elementStyle(),b))),e.concat(Ra.fn.getViewElements.call(c,a))):[]},elementStyle:function(){var a=this,b=a.options,c=b.border||{};return{id:this.id,stroke:c.width?c.color:"",strokeWidth:c.width,dashType:c.dashType,strokeOpacity:y(c.opacity,b.opacity),fill:b.background,fillOpacity:b.opacity,animation:b.animation,zIndex:b.zIndex,data:{modelId:a.modelId}}}}),Ua=Ra.extend({init:function(a,b){var c=this;Ra.fn.init.call(c,b),c.content=F(a),c.reflow(Na())},options:{font:da,color:Y,align:ra,vAlign:""},reflow:function(a){var b,c,d=this,e=d.options;b=e.size=g(d.content,{font:e.font},e.rotation),d.baseline=b.baseline,e.align==ra?d.box=new Na(a.x1,a.y1,a.x1+b.width,a.y1+b.height):e.align==Aa?d.box=new Na(a.x2-b.width,a.y1,a.x2,a.y1+b.height):e.align==$&&(c=(a.width()-b.width)/2,d.box=new Na(t(a.x1+c,_),a.y1,t(a.x2-c,_),a.y1+b.height)),e.vAlign==$?(c=(a.height()-b.height)/2,d.box=new Na(d.box.x1,a.y1+c,d.box.x2,a.y2-c)):e.vAlign==Z?d.box=new Na(d.box.x1,a.y2-b.height,d.box.x2,a.y2):e.vAlign==Ca&&(d.box=new Na(d.box.x1,a.y1,d.box.x2,a.y1+b.height))},getViewElements:function(a){var b=this,c=b.options;return Ra.fn.getViewElements.call(this,a),[a.createText(b.content,S({},c,{id:b.id,x:b.box.x1,y:b.box.y1,baseline:b.baseline,data:{modelId:b.modelId}}))]}}),Va=Ta.extend({init:function(a,b){var c,d=this;Ta.fn.init.call(d,b),b=d.options,c=new Ua(a,S({},b,{align:ra,vAlign:Ca})),d.append(c),d.content=a,d.hasBox()&&(c.id=j()),d.reflow(new Na)}}),Wa=Ra.extend({init:function(a){var b=this;Ra.fn.init.call(b,a),a=b.options,b.append(new Va(a.text,S({},a,{vAlign:a.position})))},options:{color:Y,position:Ca,align:$,margin:c(5),padding:c(5)},reflow:function(a){var b=this;Ra.fn.reflow.call(b,a),b.box.snapTo(a,Ia)}});Wa.buildTitle=function(a,b,c){var d;return"string"==typeof a&&(a={text:a}),a=S({visible:!0},c,a),a&&a.visible&&a.text&&(d=new Wa(a),b.append(d)),d};var Xa=Va.extend({init:function(a,b,c,d,e){var f=this;f.text=b,f.value=a,f.index=c,f.dataItem=d,Va.fn.init.call(f,b,S({id:j()},e)),f.enableDiscovery()},click:function(b,c){var d=this;b.trigger(W,{element:a(c.target),value:d.value,text:d.text,index:d.index,dataItem:d.dataItem,axis:d.parent.options})}}),Ya=Ra.extend({init:function(a){var b=this;Ra.fn.init.call(b,a),b.options.visible||(b.options=S({},b.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),b.options.minorTicks=S({},{color:b.options.line.color,width:b.options.line.width,visible:b.options.minorTickType!=va},b.options.minorTicks,{size:b.options.minorTickSize,align:b.options.minorTickType}),b.options.majorTicks=S({},{color:b.options.line.color,width:b.options.line.width,visible:b.options.majorTickType!=va},b.options.majorTicks,{size:b.options.majorTickSize,align:b.options.majorTickType}),b.createLabels(),b.createTitle(),b.createNotes()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Y,visible:!0},title:{visible:!0,position:$},majorTicks:{align:ya,size:4,skip:0,step:1},minorTicks:{align:ya,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:ya,minorTickType:va,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Y,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0},createLabels:function(){var a=this,b=a.options,c=b.vertical?Aa:$,d=S({},b.labels,{align:c,zIndex:b.zIndex,modelId:a.modelId}),e=d.step;if(a.labels=[],d.visible){var f,g,h=a.labelsCount();for(g=d.skip;h>g;g+=e)f=a.createAxisLabel(g,d),f&&(a.append(f),a.labels.push(f))}},destroy:function(){var a,b=this,c=b.labels;for(a=0;a<c.length;a++)c[a].destroy();Ra.fn.destroy.call(b)},lineBox:function(){var a=this,b=a.options,c=a.box,d=b.vertical,e=a.labels,f=d?ka:Ga,g=b.justified,h=b.labels.mirror,i=h?c.x1:c.x2,j=h?c.y2:c.y1,k=0,l=b.line.width;return g&&e.length>1&&(k=e[0].box[f]()/2,l=p(e).box[f]()/2),d?Na(i,c.y1+k,i,c.y2-l):Na(c.x1+k,j,c.x2-l,j)},createTitle:function(){var a,b=this,c=b.options,d=S({rotation:c.vertical?-90:0,text:"",zIndex:1},c.title);d.visible&&d.text&&(a=new Va(d.text,d),b.append(a),b.title=a)},createNotes:function(){var a,b,c,d=this,e=d.options,f=e.notes,g=f.data||[];for(d.notes=[],a=0;a<g.length;a++)b=S({},f,g[a]),b.value=d.parseNoteValue(b.value),c=new Za(b.value,b.label.text,null,null,null,b),c.options.visible&&(x(c.options.position)?e.vertical&&!o(c.options.position,[ra,Aa])?c.options.position=e.reverse?ra:Aa:e.vertical||o(c.options.position,[Ca,Z])||(c.options.position=e.reverse?Z:Ca):c.options.position=e.vertical?e.reverse?ra:Aa:e.reverse?Z:Ca,d.append(c),d.notes.push(c))},parseNoteValue:function(a){return a},renderTicks:function(a){function b(b,c){var f,i=b.length;if(c.visible)for(f=c.skip;i>f;f+=c.step)f%c.skipUnit!==0&&(j.tickX=h?g.x2:g.x2-c.size,j.tickY=h?g.y1-c.size:g.y1,j.position=b[f],e.push(d(a,j,c)))}var c=this,e=[],f=c.options,g=c.lineBox(),h=f.labels.mirror,i=f.majorTicks.visible?f.majorUnit:0,j={_alignLines:f._alignLines,vertical:f.vertical};return b(c.getMajorTickPositions(),f.majorTicks),b(c.getMinorTickPositions(),S({},{skipUnit:i/f.minorUnit},f.minorTicks)),e},renderLine:function(a){var b,c=this,d=c.options,e=d.line,f=c.lineBox(),g=[];return e.width>0&&e.visible&&(b={strokeWidth:e.width,stroke:e.color,dashType:e.dashType,zIndex:e.zIndex,align:d._alignLines},g.push(a.createLine(f.x1,f.y1,f.x2,f.y2,b)),q(g,c.renderTicks(a))),g},getViewElements:function(a){var b=this,c=Ra.fn.getViewElements.call(b,a);return q(c,b.renderLine(a)),q(c,b.renderPlotBands(a)),q(c,b.renderBackground(a)),c},getActualTickSize:function(){var a=this,b=a.options,c=0;return b.majorTicks.visible&&b.minorTicks.visible?c=R.max(b.majorTicks.size,b.minorTicks.size):b.majorTicks.visible?c=b.majorTicks.size:b.minorTicks.visible&&(c=b.minorTicks.size),c},renderBackground:function(a){var b=this,c=b.options,d=c.background,e=b.box,f=[];return d&&f.push(a.createRect(e,{fill:d,zIndex:-1})),f},renderPlotBands:function(a){var b,c,d,e,f=this,g=f.options,h=g.plotBands||[],i=g.vertical,j=[],k=f.plotArea;return h.length&&(j=O(h,function(g){return d=y(g.from,ua),e=y(g.to,ta),i?(b=k.axisX.lineBox(),c=f.getSlot(g.from,g.to,!0)):(b=f.getSlot(g.from,g.to,!0),c=k.axisY.lineBox()),a.createRect(Na(b.x1,c.y1,b.x2,c.y2),{fill:g.color,fillOpacity:g.opacity,zIndex:-1})})),j},renderGridLines:function(a,b){function c(b,c){var f,h=b.length;if(c.visible)for(f=c.skip;h>f;f+=c.step)d=t(b[f]),o(d,q)||f%c.skipUnit===0||i&&n===d||(p.position=d,g.push(e(a,p,c)),q.push(d))}var d,f=this,g=[],h=f.options,i=b.options.line.visible,j=h.majorGridLines,k=j.visible?h.majorUnit:0,l=h.vertical,m=b.lineBox(),n=m[l?"y1":"x1"],p={lineStart:m[l?"x1":"y1"],lineEnd:m[l?"x2":"y2"],vertical:l,modelId:f.plotArea.modelId},q=[];return c(f.getMajorTickPositions(),h.majorGridLines),c(f.getMinorTickPositions(),S({},{skipUnit:k/h.minorUnit},h.minorGridLines)),g},reflow:function(a){var b,c,d=this,e=d.options,f=e.vertical,g=d.labels,h=g.length,i=d.getActualTickSize()+e.margin,j=0,k=0,l=d.title;for(c=0;h>c;c++)b=g[c],j=R.max(j,b.box.height()),k=R.max(k,b.box.width());l&&(f?k+=l.box.width():j+=l.box.height()),d.box=f?Na(a.x1,a.y1,a.x1+k+i,a.y2):Na(a.x1,a.y1,a.x2,a.y1+j+i),d.arrangeTitle(),d.arrangeLabels(),d.arrangeNotes()},arrangeLabels:function(){var a,b,c,d=this,e=d.options,f=d.labels,g=!e.justified,h=e.vertical,i=d.lineBox(),j=e.labels.mirror,k=d.getMajorTickPositions(),l=d.getActualTickSize()+e.margin;for(c=0;c<f.length;c++){var m,n,o,p,q=f[c],r=q.index,s=h?q.box.height():q.box.width(),t=k[r]-s/2;h?(g&&(m=k[r],n=k[r+1],o=m+(n-m)/2,t=o-s/2),p=i.x2,j?p+=l:p-=l+q.box.width(),a=q.box.move(p,t)):(g?(m=k[r],n=k[r+1]):(m=t,n=t+s),b=i.y1,j?b-=l+q.box.height():b+=l,a=Na(m,b,n,b+q.box.height())),q.reflow(a)}},arrangeTitle:function(){var a=this,b=a.options,c=b.labels.mirror,d=b.vertical,e=a.title;e&&(d?(e.options.align=c?Aa:ra,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=c?Ca:Z),e.reflow(a.box))},arrangeNotes:function(){var a,b,c,d,e=this;for(a=0;a<e.notes.length;a++)b=e.notes[a],d=b.options.value,x(d)?(e.shouldRenderNote(d)?b.show():b.hide(),c=e.getSlot(d)):b.hide(),b.reflow(c||e.lineBox())},alignTo:function(a){var b=this,c=a.lineBox(),d=b.options.vertical,e=d?Ja:Ia;b.box.snapTo(c,e),d?b.box.shrink(0,b.lineBox().height()-c.height()):b.box.shrink(b.lineBox().width()-c.width(),0),b.box[e+1]-=b.lineBox()[e+1]-c[e+1],b.box[e+2]-=b.lineBox()[e+2]-c[e+2]},axisLabelText:function(a,b,c){var d=a;if(c.template){var e=N(c.template);d=e({value:a,dataItem:b})}else c.format&&(d=c.format.match(ja)?K.format(c.format,a):K.toString(a,c.format,c.culture));return d}}),Za=Ta.extend({init:function(a,b,c,d,e,f){var g=this;Ta.fn.init.call(g,f),g.enableDiscovery(),g.value=a,g.text=b,g.dataItem=c,g.category=d,g.series=e,g.render()},options:{icon:{zIndex:1,visible:!0,type:ba},label:{zIndex:2,position:qa,visible:!0,align:$,vAlign:$},line:{visible:!0,zIndex:2},visible:!0,position:Ca},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var a,b,c,d,e=this,f=e.options,g=f.label,h=e.text,i=f.icon,j=i.size,k={data:{modelId:e.modelId}},l=Na();f.visible&&(x(g)&&g.visible&&(g.template?(d=N(g.template),h=d({dataItem:e.dataItem,category:e.category,value:e.value,text:h,series:e.series})):g.format&&(h=B(g.format,h)),e.label=new Va(h,S({},g,k)),e.append(e.label),g.position===qa&&(i.type===ba?j=R.max(e.label.box.width(),e.label.box.height()):(b=e.label.box.width(),c=e.label.box.height()),l.wrap(e.label.box))),i.width=b||j,i.height=c||j,a=new $a(S({},i,k)),e.marker=a,e.append(a),a.reflow(Na()),e.wrapperBox=l.wrap(a.box))},reflow:function(a){var b,c,d,e=this,f=e.options,g=a.center(),h=e.wrapperBox,i=f.line.length,j=f.position,k=e.label,l=e.marker;f.visible&&(o(j,[ra,Aa])?j===ra?(d=h.alignTo(a,j).translate(-i,a.center().y-h.center().y),f.line.visible&&(b=Ma(R.floor(a.x1),g.y),e.linePoints=[b,Ma(R.floor(d.x2),g.y)],c=d.clone().wrapPoint(b))):(d=h.alignTo(a,j).translate(i,a.center().y-h.center().y),f.line.visible&&(b=Ma(R.floor(a.x2),g.y),e.linePoints=[b,Ma(R.floor(d.x1),g.y)],c=d.clone().wrapPoint(b))):j===Z?(d=h.alignTo(a,j).translate(a.center().x-h.center().x,i),f.line.visible&&(b=Ma(R.floor(g.x),R.floor(a.y2)),e.linePoints=[b,Ma(R.floor(g.x),R.floor(d.y1))],c=d.clone().wrapPoint(b))):(d=h.alignTo(a,j).translate(a.center().x-h.center().x,-i),f.line.visible&&(b=Ma(R.floor(g.x),R.floor(a.y1)),e.linePoints=[b,Ma(R.floor(g.x),R.floor(d.y2))],c=d.clone().wrapPoint(b))),l&&l.reflow(d),k&&(k.reflow(d),l&&(f.label.position===ya&&k.box.alignTo(l.box,j),k.reflow(k.box))),e.contentBox=d,e.box=c||d)},getViewElements:function(a){var b=this,c=Ta.fn.getViewElements.call(b,a),d=a.createGroup({data:{modelId:b.modelId},zIndex:1});return b.options.visible&&q(c,b.createLine(a)),d.children=c,[d]},createLine:function(a){var b=this,c=b.options.line;return[a.createPolyline(b.linePoints,!1,{stroke:c.color,strokeWidth:c.width,dashType:c.dashType,zIndex:c.zIndex})]},click:function(a,b){var c=this.eventArgs(b);a.trigger(wa,c)||b.preventDefault()},hover:function(a,b){var c=this.eventArgs(b);a.trigger(xa,c)||b.preventDefault()},leave:function(a){a._unsetActivePoint()},eventArgs:function(b){var c=this,d=c.options;return{element:a(b.target),text:x(d.label)?d.label.text:"",dataItem:c.dataItem,series:c.series,value:c.value,category:c.category}}}),$a=Ta.extend({options:{type:ba,align:$,vAlign:$},getViewElements:function(a,b){var c,d,e,f,g=this,h=g.options,i=h.type,j=h.rotation,k=g.paddingBox,l=k.center(),m=k.width()/2;if(Ra.fn.getViewElements.call(this,a),!((b||{}).visible===!0||h.visible&&g.hasBox()))return[];if(d=S(g.elementStyle(),b),i===ba?c=a.createCircle(Ma(t(k.x1+m,_),t(k.y1+k.height()/2,_)),m,d):i===Da?e=[Ma(k.x1+m,k.y1),Ma(k.x1,k.y2),Ma(k.x2,k.y2)]:i===ca?(c=a.createGroup(),c.children.push(a.createPolyline([Ma(k.x1,k.y1),Ma(k.x2,k.y2)],!0,d)),c.children.push(a.createPolyline([Ma(k.x1,k.y2),Ma(k.x2,k.y1)],!0,d))):e=k.points(),e){if(j)for(f=0;f<e.length;f++)e[f].rotate(l,j);c=a.createPolyline(e,!0,d)}return[c]}}),_a=Ta.extend({init:function(a){var b=this;Ta.fn.init.call(b,a),b.createTextBox()},options:{arcAngle:300,border:{width:1,color:"red"},label:{zIndex:2,margin:c(2),border:{width:1,color:"green"}}},createTextBox:function(){var a=this,b=a.options,c=new Va(b.code,b.label);a.append(c),a.textBox=c},reflow:function(a){var b=this,c=b.textBox;b.box=Na(0,0,c.box.height(),1.5*c.box.height()),Ta.fn.reflow.call(b,a)},getViewElements:function(a){var b=this,c=b.options,d=b.box.center(),e=a.createPin(new Qa({origin:new Ma(d.x,d.y),radius:b.textBox.box.height()/2,height:1.5*b.textBox.box.height(),rotation:0,arcAngle:c.arcAngle}),S({},{fill:"red",zIndex:1,kur:1,id:"111"},c)),f=[e];return q(f,Ta.fn.getViewElements.call(b,a)),f}}),ab=Ya.extend({init:function(a,b,c){var d=this,e=d.initDefaults(a,b,c);Ya.fn.init.call(d,e)},startValue:function(){return 0},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Y},zIndex:1},initDefaults:function(a,b,c){var d,e=this,f=c.narrowRange,g=e.autoAxisMin(a,b,f),i=e.autoAxisMax(a,b,f),j=h(g,i),k={majorUnit:j};return c.roundToMajorUnit!==!1&&(0>g&&v(g,j,1/3)&&(g-=j),i>0&&v(i,j,1/3)&&(i+=j)),k.min=s(g,j),k.max=r(i,j),c&&(d=x(c.min)||x(c.max),d&&c.min===c.max&&(c.min>0?c.min=0:c.max=1),c.majorUnit?(k.min=s(k.min,c.majorUnit),k.max=r(k.max,c.majorUnit)):d&&(c=S(k,c),k.majorUnit=h(c.min,c.max))),k.minorUnit=(c.majorUnit||k.majorUnit)/5,S(k,c)},range:function(){var a=this.options;return{min:a.min,max:a.max}},autoAxisMax:function(a,b,c){var d,e;if(!a&&!b)return 1;if(0>=a&&0>=b){if(b=a==b?0:b,e=R.abs((b-a)/b),!c&&e>Ka)return 0;d=R.min(0,b-(a-b)/2)}else a=a==b?0:a,d=b;return d},autoAxisMin:function(a,b,c){var d,e;if(!a&&!b)return 0;if(a>=0&&b>=0){if(a=a==b?0:a,e=(b-a)/b,!c&&e>Ka)return 0;d=R.max(0,a-(b-a)/2)}else b=a==b?0:b,d=a;return d},getDivisions:function(a){var b=this.options,c=b.max-b.min;return R.floor(t(c/a,_))+1},getTickPositions:function(a,b){var c,d=this,e=d.options,f=e.vertical,g=e.reverse,h=d.lineBox(),i=f?h.height():h.width(),j=e.max-e.min,k=i/j,l=a*k,m=0,n=d.getDivisions(a),o=(f?-1:1)*(g?-1:1),p=1===o?1:2,q=h[(f?Ja:Ia)+p],r=[];for(b&&(m=b/a),c=0;n>c;c++)c%m!==0&&r.push(t(q,_)),q+=l*o;return r},getMajorTickPositions:function(){var a=this;return a.getTickPositions(a.options.majorUnit)},getMinorTickPositions:function(){var a=this;return a.getTickPositions(a.options.minorUnit)},getSlot:function(a,b,c){var d,e,f=this,g=f.options,h=g.reverse,i=g.vertical,j=i?Ja:Ia,k=f.lineBox(),l=k[j+(h?2:1)],m=i?k.height():k.width(),n=h?-1:1,o=n*(m/(g.max-g.min)),p=new Na(k.x1,k.y1,k.x1,k.y1);return x(a)||(a=b||0),x(b)||(b=a||0),c&&(a=R.max(R.min(a,g.max),g.min),b=R.max(R.min(b,g.max),g.min)),i?(d=g.max-R.max(a,b),e=g.max-R.min(a,b)):(d=R.min(a,b)-g.min,e=R.max(a,b)-g.min),p[j+1]=R.max(R.min(l+o*(h?e:d),oa),-oa),p[j+2]=R.max(R.min(l+o*(h?d:e),oa),-oa),p},getValue:function(a){var b,c=this,d=c.options,e=d.reverse,f=d.vertical,g=1*d.max,h=1*d.min,i=f?Ja:Ia,j=c.lineBox(),k=j[i+(e?2:1)],l=f?j.height():j.width(),m=e?-1:1,n=m*(a[i]-k),o=(g-h)/l,p=n*o;return 0>n||n>l?null:(b=f?g-p:h+p,t(b,fa))},translateRange:function(a){var b=this,c=b.options,d=b.lineBox(),e=c.vertical,f=c.reverse,g=e?d.height():d.width(),h=c.max-c.min,i=g/h,j=t(a/i,fa);return!e&&!f||e&&f||(j=-j),{min:c.min+j,max:c.max+j}},scaleRange:function(a){var b=this,c=b.options,d=-a*c.majorUnit;return{min:c.min-d,max:c.max+d}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(a,b){var c=this,d=c.options,e=t(d.min+a*d.majorUnit,fa),f=c.axisLabelText(e,null,b);return new Xa(e,f,a,null,b)},shouldRenderNote:function(a){var b=this.range();return b.min<=a&&a<=b.max}}),bb=Ya.extend({init:function(a,b,c){this.options=this._initOptions(a,b,c),Ya.fn.init.call(this,c)},startValue:function(){return this.options.min},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Y},zIndex:1},getSlot:function(a,b,c){var d,e,f=this,g=f.options,h=g.reverse,i=g.vertical,j=i?Ja:Ia,k=f.lineBox(),l=k[j+(h?2:1)],m=i?k.height():k.width(),n=h?-1:1,o=g.majorUnit,p=f.logMin,q=f.logMax,r=n*(m/(q-p)),s=new Na(k.x1,k.y1,k.x1,k.y1);return x(a)||(a=b||1),x(b)||(b=a||1),0>=a||0>=b?void 0:(c&&(a=R.max(R.min(a,g.max),g.min),b=R.max(R.min(b,g.max),g.min)),a=u(a,o),b=u(b,o),i?(d=q-R.max(a,b),e=q-R.min(a,b)):(d=R.min(a,b)-p,e=R.max(a,b)-p),s[j+1]=l+r*(h?e:d),s[j+2]=l+r*(h?d:e),s)},getValue:function(a){var b,c=this,d=c.options,e=d.reverse,f=d.vertical,g=c.lineBox(),h=d.majorUnit,i=c.logMin,j=c.logMax,k=f===e?1:-1,l=1===k?1:2,m=f?g.height():g.width(),n=(j-i)/m,o=f?Ja:Ia,p=g[o+l],q=k*(a[o]-p),r=q*n;return 0>q||q>m?null:(b=i+r,t(R.pow(h,b),fa))},range:function(){var a=this.options;return{min:a.min,max:a.max}},scaleRange:function(a){var b=this,c=b.options,d=c.majorUnit,e=-a;return{min:R.pow(d,b.logMin-e),max:R.pow(d,b.logMax+e)}},translateRange:function(a){var b=this,c=b.options,d=c.majorUnit,e=b.lineBox(),f=c.vertical,g=c.reverse,h=f?e.height():e.width(),i=(b.logMin,b.logMax,h/(b.logMax-b.logMin)),j=t(a/i,fa);return!f&&!g||f&&g||(j=-j),{min:R.pow(d,b.logMin+j),max:R.pow(d,b.logMax+j)}},labelsCount:function(){var a=this,b=R.floor(a.logMax),c=R.floor(b-a.logMin)+1;return c},getMajorTickPositions:function(){var a=this,b=[];return a.traverseMajorTicksPositions(function(a){b.push(a)},{step:1,skip:0}),b},renderTicks:function(a){function b(b,c){k.tickX=h?g.x2:g.x2-c.size,k.tickY=h?g.y1-c.size:g.y1,k.position=b,e.push(d(a,k,c))}var c=this,e=[],f=c.options,g=c.lineBox(),h=f.labels.mirror,i=f.majorTicks,j=f.minorTicks,k={_alignLines:f._alignLines,vertical:f.vertical};return i.visible&&c.traverseMajorTicksPositions(b,i),j.visible&&c.traverseMinorTicksPositions(b,j),e},renderGridLines:function(a,b){function c(b,c){o(b,m)||(l.position=b,f.push(e(a,l,c)),m.push(b))}var d=this,f=[],g=d.options,h=(b.options.line.visible,g.majorGridLines),i=g.minorGridLines,j=g.vertical,k=b.lineBox(),l={lineStart:k[j?"x1":"y1"],lineEnd:k[j?"x2":"y2"],vertical:j,modelId:d.plotArea.modelId},m=[];return h.visible&&d.traverseMajorTicksPositions(c,h),i.visible&&d.traverseMinorTicksPositions(c,i),f},traverseMajorTicksPositions:function(a,b){var c,d,e=this,f=e._lineOptions(),g=f.lineStart,h=f.step,i=e.logMin,j=e.logMax;for(c=R.ceil(i)+b.skip;j>=c;c+=b.step)d=t(g+h*(c-i),fa),a(d,b)},traverseMinorTicksPositions:function(a,b){var c,d,e,f,g=this,h=g.options,i=g._lineOptions(),j=i.lineStart,k=i.step,l=h.majorUnit,m=g.logMin,n=g.logMax,o=R.floor(m),p=h.max,q=h.min,r=h.minorUnit;for(c=o;n>c;c++){f=g._minorIntervalOptions(c);for(var s=b.skip;r>s&&(d=f.value+s*f.minorStep,!(d>p));s+=b.step)d>=q&&(e=t(j+k*(u(d,l)-m),fa),a(e,b))}},createAxisLabel:function(a,b){var c=this,d=c.options,e=R.floor(c.logMin+a),f=Math.pow(d.majorUnit,e),g=c.axisLabelText(f,null,b);return new Xa(f,g,a,null,b)},shouldRenderNote:function(a){var b=this.range();return b.min<=a&&a<=b.max},_throwNegativeValuesError:function(){throw new Error("Non positive values cannot be used for a logarithmic axis")},_initOptions:function(a,b,c){var d,e=this,f=S({},e.options,{min:a,max:b},c),g=f.min,h=f.max,i=f.majorUnit;return f.axisCrossingValue<=0&&e._throwNegativeValuesError(),x(c.max)?c.max<=0&&e._throwNegativeValuesError():(d=t(u(h,i),fa)%1,h=0>=h?i:0!==d&&(.3>d||d>.9)?R.pow(i,u(h,i)+.2):R.pow(i,R.ceil(u(h,i)))),x(c.min)?c.min<=0&&e._throwNegativeValuesError():0>=g?g=1>=h?R.pow(i,-2):1:c.narrowRange||(g=R.pow(i,R.floor(u(g,i)))),e.logMin=t(u(g,i),fa),e.logMax=t(u(h,i),fa),f.max=h,f.min=g,f.minorUnit=c.minorUnit||t(i-1,fa),f},_minorIntervalOptions:function(a){var b=this.options.majorUnit,c=R.pow(b,a),d=R.pow(b,a+1),e=d-c,f=e/this.options.minorUnit;return{value:c,minorStep:f}},_lineOptions:function(){var a=this,b=a.options,c=b.reverse,d=b.vertical,e=d?Ja:Ia,f=a.lineBox(),g=d===c?1:-1,h=1===g?1:2,i=d?f.height():f.width(),j=g*(i/(a.logMax-a.logMin)),k=f[e+h];return{step:j,lineStart:k,lineBox:f}}}),cb=M.extend({init:function(a){var b=this;b.children=[],b.options=S({},b.options,a)},render:function(){return this.template(this)},renderContent:function(){var a,b=this,c="",d=b.sortChildren(),e=d.length;for(a=0;e>a;a++)c+=d[a].render();return c},sortChildren:function(){var a,b,c=this,d=c.children;for(b=0,a=d.length;a>b;b++)d[b]._childIndex=b;return d.slice(0).sort(c.compareChildren)},refresh:a.noop,destroy:function(){var a,b,c=this,d=c.options.id,e=c.children;for(d&&nb.current.free(d),b=0,a=e.length;a>b;b++)e[b].destroy()},compareChildren:function(a,b){var c=a.options.zIndex||0,d=b.options.zIndex||0;return c!==d?c-d:a._childIndex-b._childIndex},renderId:function(){var a=this,b="";

return a.options.id&&(b=a.renderAttr("id",a.options.id)),b},renderAttr:function(a,b){return x(b)?" "+a+"='"+b+"' ":""},renderDataAttributes:function(){var a,b,c=this,d=c.options.data,e="";for(a in d)b="data-"+a.replace(Fa,"-$1").toLowerCase(),e+=c.renderAttr(b,d[a]);return e},renderCursor:function(){var a=this.options,b="";return x(a.cursor)&&a.cursor.style&&(b+="cursor: "+a.cursor.style+";"),b}}),db=cb.extend({init:function(a){var b=this;cb.fn.init.call(b,a),b.definitions={},b.decorators=[],b.animations=[]},destroy:function(){var a=this,b=a.animations,c=a._viewElement;for(cb.fn.destroy.call(this);b.length>0;)b.shift().destroy();c&&(a._freeIds(c),a._viewElement=null)},_freeIds:function(b){a("[id]",b).each(function(){nb.current.free(a(this).attr("id"))})},replace:function(a){var b=this,c=C(a.id);c&&c.parentNode.replaceChild(b.renderElement(a.getViewElements(b)[0]),c)},load:function(a){var b=this;b.children=a.getViewElements(b)},renderDefinitions:function(){var a,b=this.definitions,c="";for(a in b)b.hasOwnProperty(a)&&(c+=b[a].render());return c},decorate:function(a){var b,c,d=this.decorators,e=d.length;for(b=0;e>b;b++)c=d[b],this._decorateChildren(c,a),a=c.decorate.call(c,a);return a},_decorateChildren:function(a,b){var c,d=this,e=b.children,f=e.length;for(c=0;f>c;c++)d._decorateChildren(a,e[c]),e[c]=a.decorate.call(a,e[c])},setupAnimations:function(){for(var a=0;a<this.animations.length;a++)this.animations[a].setup()},playAnimations:function(){for(var a=0;a<this.animations.length;a++)this.animations[a].play()},buildGradient:function(a){var b,c,d,e=this,f=e._gradientCache;return f||(f=e._gradientCache=[]),a&&(b=i(a),c=f[b],d=L.Gradients[a.gradient],!c&&d&&(c=S({id:j()},d,a),f[b]=c)),c},setDefaults:function(a){var b=this.options;return a=a||{},x(a.inline)||(a.inline=b.inline),x(a.align)||(a.align=b.align),a}});L.Gradients={glass:{type:sa,rotation:0,stops:[{offset:0,color:Ha,opacity:0},{offset:.25,color:Ha,opacity:.3},{offset:1,color:Ha,opacity:0}]},sharpBevel:{type:za,stops:[{offset:0,color:Ha,opacity:.55},{offset:.65,color:Ha,opacity:0},{offset:.95,color:Ha,opacity:.25}]},roundedBevel:{type:za,stops:[{offset:.33,color:Ha,opacity:.06},{offset:.83,color:Ha,opacity:.2},{offset:.95,color:Ha,opacity:0}]},roundedGlass:{type:za,supportVML:!1,stops:[{offset:0,color:Ha,opacity:0},{offset:.5,color:Ha,opacity:.3},{offset:.99,color:Ha,opacity:0}]},sharpGlass:{type:za,supportVML:!1,stops:[{offset:0,color:Ha,opacity:.2},{offset:.15,color:Ha,opacity:.15},{offset:.17,color:Ha,opacity:.35},{offset:.85,color:Ha,opacity:.05},{offset:.87,color:Ha,opacity:.15},{offset:.99,color:Ha,opacity:0}]}};var eb=M.extend({init:function(a,b){var c=this;c.options=S({},c.options,b),c.element=a},options:{duration:pa,easing:Ba},play:function(){var b,c,d,e,f,g=this,h=g.options,i=g.element,j=i.options.id,k=h.delay||0,l=+new Date+k,m=h.duration,n=l+m,o=a.easing[h.easing];setTimeout(function(){var a=function(){g._stopped||(c=+new Date,d=R.min(c-l,m),e=d/m,f=o(e,d,0,1,m),g.step(f),(!b||D(b))&&(b=C(j)),i.refresh(b),n>c?L.requestFrame(a):g.destroy())};a()},k)},abort:function(){this._stopped=!0},destroy:function(){this.abort()},setup:P,step:P}),fb=eb.extend({options:{duration:200,easing:sa},setup:function(){var a=this,b=a.element.options;a.targetFillOpacity=b.fillOpacity,a.targetStrokeOpacity=b.strokeOpacity,b.fillOpacity=b.strokeOpacity=0},step:function(a){var b=this,c=b.element.options;c.fillOpacity=a*b.targetFillOpacity,c.strokeOpacity=a*b.targetStrokeOpacity}}),gb=eb.extend({options:{size:0,easing:sa},setup:function(){var a=this.element.points;a[1].x=a[2].x=a[0].x},step:function(a){var b=this.options,c=w(0,b.size,a),d=this.element.points;d[1].x=d[2].x=d[0].x+c},destroy:function(){eb.fn.destroy.call(this),this.element.destroy()}}),hb=eb.extend({options:{easing:sa,duration:900},setup:function(){var a,b,c=this,d=c.element,e=d.options,f=c.options,g=f.center;e.rotation&&(a=f.startAngle,b=e.rotation[0],f.duration=R.max(R.abs(a-b)/f.speed*1e3,1),c.endState=b,e.rotation=[a,g.x,g.y])},step:function(a){var b=this,c=b.element;c.options.rotation&&(c.options.rotation[0]=w(b.options.startAngle,b.endState,a))}}),ib=eb.extend({options:{easing:Ba},setup:function(){var a,b=this,c=b.element,d=c.points,e=c.options,f=e.vertical?Ja:Ia,g=e.stackBase,h=e.aboveAxis,i=b.endState={top:d[0].y,right:d[1].x,bottom:d[3].y,left:d[0].x};a=f===Ja?y(g,i[h?Z:Ca]):y(g,i[h?ra:Aa]),b.startPosition=a,A(d,f,a)},step:function(a){var b=this,c=b.startPosition,d=b.endState,e=b.element,f=e.points;e.options.vertical?(f[0].y=f[1].y=w(c,d.top,a),f[2].y=f[3].y=w(c,d.bottom,a)):(f[0].x=f[3].x=w(c,d.left,a),f[1].x=f[2].x=w(c,d.right,a))}}),jb=eb.extend({options:{easing:Ba,duration:1e3},setup:function(){var a,b,c,d=this,e=d.element,f=e.points,g=e.options.animation,h=g.vertical,i=g.reverse,j=d.axis=h?"y":"x",k=d.options.endPosition,l=d.initialState={top:f[0].y,right:f[1].x,bottom:f[3].y,left:f[0].x},m=!x(d.options.endPosition);h?(c=i?"y2":"y1",a=l[m&&!i?Z:Ca],b=m?l[i?Z:Ca]:k[c]):(c=i?"x1":"x2",a=l[m&&!i?ra:Aa],b=m?l[i?ra:Aa]:k[c]),d.start=a,d.end=b,m?A(f,j,d.start):g.speed&&(d.options.duration=R.max(R.abs(d.start-d.end)/g.speed*1e3,1))},step:function(a){var b=this,c=b.start,d=b.end,e=b.element,f=e.points,g=b.axis;e.options.animation.vertical?f[0][g]=f[1][g]=w(c,d,a):f[1][g]=f[2][g]=w(c,d,a)}}),kb=eb.extend({options:{easing:Ba,duration:1e3},setup:function(){var a,b,c,d=this,e=d.element,f=e.points,g=e.options.animation,h=g.vertical,i=g.reverse,j=h?"y":"x",k=j+(i?"1":"2"),l=j+(i?"2":"1"),m=g.startPosition[h?k:l],n=g.size/2,o=f.length,p=!x(d.options.endPosition),q=n;for(d.axis=j,d.endPositions=[],d.startPositions=[],p||(m=f[1][j],b=d.options.endPosition[h?l:k],g.speed&&(d.options.duration=R.max(R.abs(m-b)/g.speed*1e3,1))),c=0;o>c;c++)a=S({},f[c]),p?(d.endPositions[c]=a[j],f[c][j]=m-q):d.endPositions[c]=b-q,d.startPositions[c]=f[c][j],q-=n},step:function(a){var b,c=this,d=c.startPositions,e=c.endPositions,f=c.element,g=f.points,h=c.axis,i=g.length;for(b=0;i>b;b++)g[b][h]=w(d[b],e[b],a)}}),lb=f(ia,fb),mb=function(a){var b,c,d,e,f,g=this,h=mb.formats;if(1===arguments.length)for(a=g.resolveColor(a),e=0;e<h.length;e++)b=h[e].re,c=h[e].process,d=b.exec(a),d&&(f=c(d),g.r=f[0],g.g=f[1],g.b=f[2]);else g.r=arguments[0],g.g=arguments[1],g.b=arguments[2];g.r=g.normalizeByte(g.r),g.g=g.normalizeByte(g.g),g.b=g.normalizeByte(g.b)};mb.prototype={toHex:function(){var a=this,b=a.padDigit,c=a.r.toString(16),d=a.g.toString(16),e=a.b.toString(16);return"#"+b(c)+b(d)+b(e)},resolveColor:function(a){return a=a||Y,"#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase(),a=mb.namedColors[a]||a},normalizeByte:function(a){return 0>a||isNaN(a)?0:a>255?255:a},padDigit:function(a){return 1===a.length?"0"+a:a},brightness:function(a){var b=this,c=R.round;return b.r=c(b.normalizeByte(b.r*a)),b.g=c(b.normalizeByte(b.g*a)),b.b=c(b.normalizeByte(b.b*a)),b},percBrightness:function(){var a=this;return R.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b)}},mb.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],mb.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var nb=M.extend({init:function(a,b,c){this._pool=[],this._freed={},this._size=a,this._id=c,this._prefix=b},alloc:function(){var a,b=this,c=b._pool;return c.length>0?(a=c.pop(),b._freed[a]=!1):a=b._prefix+b._id++,a},free:function(a){var b=this,c=b._pool,d=b._freed;c.length<b._size&&!d[a]&&(c.push(a),d[a]=!0)}});nb.current=new nb(ma,la,na);var ob=M.extend({init:function(a){this._size=a,this._length=0,this._map={}},put:function(a,b){var c=this,d=c._map,e={key:a,value:b};d[a]=e,c._head?(c._tail.newer=e,e.older=c._tail,c._tail=e):c._head=c._tail=e,c._length>=c._size?(d[c._head.key]=null,c._head=c._head.newer,c._head.older=null):c._length++},get:function(a){var b=this,c=b._map[a];return c?(c===b._head&&c!==b._tail&&(b._head=c.newer,b._head.older=null),c!==b._tail&&(c.older&&(c.older.newer=c.newer,c.newer.older=c.older),c.older=b._tail,c.newer=null,b._tail.newer=c,b._tail=c),c.value):void 0}}),pb=function(){this._views=[]};pb.prototype={register:function(a,b,c){var d=this._views,e=d[0],f={name:a,type:b,order:c};!e||c<e.order?d.unshift(f):d.push(f)},create:function(a,b){var c=this._views,d=c[0];if(b){b=b.toLowerCase();for(var e=0;e<c.length;e++)if(c[e].name===b){d=c[e];break}}return d?new d.type(a):void K.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The joy.dataviz.(svg|vml|canvas).js scripts are not loaded")}},pb.current=new pb;var qb={svg:function(){if(L.SVGView){var a=this._getModel(),b=new L.SVGView(a.options);return b.load(a),b.render()}throw new Error("Unable to create SVGView. Check that joy.dataviz.svg.js is loaded.")},imageDataURL:function(){if(L.CanvasView){if(L.supportsCanvas()){var a=this._getModel(),b=document.createElement("div"),c=new L.CanvasView(a.options);return c.load(a),c.renderTo(b).toDataURL()}return K.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw new Error("Unable to create CanvasView. Check that joy.dataviz.canvas.js is loaded.")}},rb=M.extend({init:function(){this._cache=new ob(1e3)},measure:function(a,b,c){var d=i(b),e=a+d+c,f=this._cache.get(e);if(f)return f;var g={width:0,height:0,baseline:0},h=this._measureBox,j=this._baselineMarker.cloneNode(!1);for(var l in b)h.style[l]=b[l];if(h.innerHTML=a,h.appendChild(j),J.body.appendChild(h),(a+"").length&&(g={width:h.offsetWidth-X,height:h.offsetHeight,baseline:j.offsetTop+X}),c){var m=g.width,n=g.height,o=m/2,p=n/2,q=k(0,0,o,p,c),r=k(m,0,o,p,c),s=k(m,n,o,p,c),t=k(0,n,o,p,c);g.normalWidth=m,g.normalHeight=n,g.width=R.max(q.x,r.x,s.x,t.x)-R.min(q.x,r.x,s.x,t.x),g.height=R.max(q.y,r.y,s.y,t.y)-R.min(q.y,r.y,s.y,t.y)}return this._cache.put(e,g),h.parentNode.removeChild(h),g}});rb.fn._baselineMarker=a("<div class='"+U+"baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+X+"px; height: "+X+"px;overflow: hidden;' />")[0],rb.fn._measureBox=a("<div style='position: absolute; top: -4000px;line-height: normal; visibility: hidden;' />")[0],rb.current=new rb;var sb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,V)};L.requestFrame=function(a,b){return sb(a,b)},F._element=J.createElement("span");var tb=function(a){this.closed=a};tb.prototype=tb.fn={WEIGHT:.333,EXTREMUM_ALLOWED_DEVIATION:.01,process:function(a){var b,c,d,e,f,g,h,i=this,j=i.closed,k=a.slice(0),l=k.length,m=[];if(l>2&&(i.removeDuplicates(0,k),l=k.length),2>l||2==l&&k[0].equals(k[1]))return m;for(b=k[0],c=k[1],d=k[2],m.push(b);b.equals(k[l-1]);)j=!0,k.pop(),l--;if(2==l)return h=i.tangent(b,c,Ia,Ja),m.push(i.firstControlPoint(h,b,c,Ia,Ja),i.secondControlPoint(h,b,c,Ia,Ja),c),m;j?(b=k[l-1],c=k[0],d=k[1],e=i.controlPoints(b,c,d),f=e[1],g=e[0]):(h=i.tangent(b,c,Ia,Ja),f=i.firstControlPoint(h,b,c,Ia,Ja)),m.push(f);for(var n=0;l-3>=n;n++)i.removeDuplicates(n,k),l=k.length,l>=n+3&&(b=k[n],c=k[n+1],d=k[n+2],e=i.controlPoints(b,c,d),m.push(e[0],c,e[1]));return j?(b=k[l-2],c=k[l-1],d=k[0],e=i.controlPoints(b,c,d),m.push(e[0],c,e[1],g,d)):(h=i.tangent(c,d,Ia,Ja),m.push(i.secondControlPoint(h,c,d,Ia,Ja),d)),m},removeDuplicates:function(a,b){for(;b[a].equals(b[a+1])||b[a+1].equals(b[a+2]);)b.splice(a+1,1)},invertAxis:function(a,b,c){var d,e,f=this,g=!1;return a.x===b.x?g=!0:b.x===c.x?(b.y<c.y&&a.y<=b.y||c.y<b.y&&b.y<=a.y)&&(g=!0):(d=f.lineFunction(a,b),e=f.calculateFunction(d,c.x),a.y<=b.y&&c.y<=e||b.y<=a.y&&c.y>=e||(g=!0)),g},isLine:function(a,b,c){var d=this,e=d.lineFunction(a,b),f=d.calculateFunction(e,c.x);return a.x==b.x&&b.x==c.x||t(f,1)===t(c.y,1)},lineFunction:function(a,b){var c=(b.y-a.y)/(b.x-a.x),d=a.y-c*a.x;return[d,c]},controlPoints:function(a,b,c){var d,e,f,g,h=this,i=Ia,j=Ja,k=!1,l=!1,m=h.EXTREMUM_ALLOWED_DEVIATION;if(h.isLine(a,b,c))d=h.tangent(a,b,Ia,Ja);else if(e={x:h.isMonotonicByField(a,b,c,Ia),y:h.isMonotonicByField(a,b,c,Ja)},e.x&&e.y)d=h.tangent(a,c,Ia,Ja),k=!0;else if(h.invertAxis(a,b,c)&&(i=Ja,j=Ia),e[i])d=0;else{var n;n=c[j]<a[j]&&a[j]<=b[j]||a[j]<c[j]&&b[j]<=a[j]?h.sign((c[j]-a[j])*(b[i]-a[i])):-h.sign((c[i]-a[i])*(b[j]-a[j])),d=m*n,l=!0}if(g=h.secondControlPoint(d,a,b,i,j),l){var o=i;i=j,j=o}return f=h.firstControlPoint(d,b,c,i,j),k&&(h.restrictControlPoint(a,b,g,d),h.restrictControlPoint(b,c,f,d)),[g,f]},sign:function(a){return 0>=a?-1:1},restrictControlPoint:function(a,b,c,d){a.y<b.y?b.y<c.y?(c.x=a.x+(b.y-a.y)/d,c.y=b.y):c.y<a.y&&(c.x=b.x-(b.y-a.y)/d,c.y=a.y):c.y<b.y?(c.x=a.x-(a.y-b.y)/d,c.y=b.y):a.y<c.y&&(c.x=b.x+(a.y-b.y)/d,c.y=a.y)},tangent:function(a,b,c,d){var e,f=b[c]-a[c],g=b[d]-a[d];return e=0===f?0:g/f},isMonotonicByField:function(a,b,c,d){return c[d]>b[d]&&b[d]>a[d]||c[d]<b[d]&&b[d]<a[d]},firstControlPoint:function(a,b,c,d,e){var f=this,g=b[d],h=c[d],i=(h-g)*f.WEIGHT;return f.point(g+i,b[e]+i*a,d,e)},secondControlPoint:function(a,b,c,d,e){var f=this,g=b[d],h=c[d],i=(h-g)*f.WEIGHT;return f.point(h-i,c[e]-i*a,d,e)},point:function(a,b,c,d){var e=Ma();return e[c]=a,e[d]=b,e},calculateFunction:function(a,b){for(var c=0,d=a.length,e=0;d>e;e++)c+=Math.pow(b,e)*a[e];return c}},S(K.dataviz,{init:function(a){K.init(a,K.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(a){K.ui.plugin(a,L.ui)}},AXIS_LABEL_CLICK:W,COORD_PRECISION:_,DEFAULT_PRECISION:fa,DEFAULT_WIDTH:ga,DEFAULT_HEIGHT:ea,DEFAULT_FONT:da,INITIAL_ANIMATION_DURATION:pa,NOTE_CLICK:wa,NOTE_HOVER:xa,CLIP:aa,DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Axis:Ya,AxisLabel:Xa,Box2D:Na,BoxElement:Ta,ChartElement:Ra,Color:mb,CurveProcessor:tb,ElementAnimation:eb,ExpandAnimation:gb,ExportMixin:qb,ArrowAnimation:kb,BarAnimation:ib,BarIndicatorAnimatin:jb,FadeAnimation:fb,FadeAnimationDecorator:lb,IDPool:nb,LogarithmicAxis:bb,LRUCache:ob,Matrix:La,Note:Za,NumericAxis:ab,Point2D:Ma,PinElement:_a,Ring:Oa,Pin:Qa,RootElement:Sa,RotationAnimation:hb,Sector:Pa,ShapeElement:$a,Text:Ua,TextMetrics:rb,TextBox:Va,Title:Wa,ViewBase:db,ViewElement:cb,ViewFactory:pb,animationDecorator:f,append:q,autoFormat:B,autoMajorUnit:h,boxDiff:l,defined:x,decodeEntities:F,dateComparer:G,getElement:C,getSpacing:c,inArray:o,interpolateValue:w,last:p,limitValue:H,measureText:g,mwDelta:I,rotatePoint:k,round:t,ceil:r,floor:s,supportsCanvas:n,supportsSVG:m,renderTemplate:T,uniqueId:j,valueOrDefault:y})}(window.joy.jQuery),function(){function a(a){this.view=a}function b(a){this.view=a}function c(a){return g.round(a)+.5}function d(a,b){var c,d,e=[];if(a=a?a.toLowerCase():null,a&&a!=E){for(c=y[a],d=0;d<c.length;d++)e.push(c[d]*(b||1));return"stroke-dasharray='"+e.join(" ")+"' "}return""}var e=jQuery,f=document,g=Math,h=window.joy,i=h.Class,j=h.dataviz,k=j.Box2D,l=j.ExpandAnimation,m=j.Point2D,n=j.ViewBase,o=j.ViewElement,p=h.deepExtend,q=j.defined,r=j.round,s=j.renderTemplate,t=j.rotatePoint,u=j.uniqueId,v="butt",w=j.CLIP,x=j.COORD_PRECISION,y=j.DASH_ARRAYS,z=j.DEFAULT_WIDTH,A=j.DEFAULT_HEIGHT,B=j.DEFAULT_FONT,C="none",D="radial",E="solid",F="square",G="http://www.w3.org/2000/svg",H="transparent",I="undefined",J=n.extend({init:function(c){var d=this;n.fn.init.call(d,c),d.decorators.push(new a(d),new b(d)),j.ui.Chart&&d.decorators.push(new j.BarAnimationDecorator(d),new j.PieAnimationDecorator(d),new j.BubbleAnimationDecorator(d)),d.decorators.push(new $(d),new j.FadeAnimationDecorator(d)),j.Gauge&&d.decorators.push(new j.RadialPointerAnimationDecorator(d),new j.ArrowPointerAnimationDecorator(d),new j.BarIndicatorAnimationDecorator(d)),d.defsId=u(),d.template=J.template,d.display=d.options.inline?"inline":"block",d.template||(d.template=J.template=s("<?xml version='1.0' ?><svg xmlns='"+G+"' version='1.1' width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'>#= d.renderDefinitions() ##= d.renderContent() #</svg>"))},options:{width:z,height:A},renderTo:function(a){var b,c=this;return c.setupAnimations(),j.renderSVG(a,c.render()),b=a.firstElementChild,c.alignToScreen(b),c.playAnimations(),c._viewElement=b,b},renderDefinitions:function(){var a=this,b=a.defsId,c=n.fn.renderDefinitions.call(a);return"<defs id='"+b+"'>"+c+"</defs>"},renderElement:function(a){var b,c,d=this,e=f.createElement("div"),g=f.getElementById(d.defsId);return j.renderSVG(e,"<?xml version='1.0' ?><svg xmlns='"+G+"' version='1.1'>"+d.renderDefinitions()+a.render()+"</svg>"),b=e.firstElementChild.firstChild,c=e.firstElementChild.lastChild,g&&g.textContent!==b.textContent&&g.parentNode.replaceChild(b,g),c},createGroup:function(a){return this.decorate(new U(a))},createClipPath:function(a,b){var c=this,d=c.definitions[a];return d||(d=new V({id:a}),d.children.push(c.createRect(b,{})),c.definitions[a]=d),d},createText:function(a,b){return this.decorate(new L(a,b))},createRect:function(a,b){return this.decorate(new O(a.points(),!0,this.setDefaults(b)))},createCubicCurve:function(a,b,c){return this.decorate(new N(a,b,c))},createLine:function(a,b,c,d,e){return this.decorate(new O([new m(a,b),new m(c,d)],!1,this.setDefaults(e)))},createMultiLine:function(a,b){return this.decorate(new P(a,!1,this.setDefaults(b)))},createPolyline:function(a,b,c){return this.decorate(new O(a,b,this.setDefaults(c)))},createCircle:function(a,b,c){return this.decorate(new T(a,b,c))},createSector:function(a,b){return this.decorate(new S(a,b))},createRing:function(a,b){return this.decorate(new Q(a,b))},createPin:function(a,b){return this.decorate(new R(a,b))},createGradient:function(a){return a.type===D?q(a.ir)?new Z(a):new Y(a):new X(a)},alignToScreen:function(a){var b;try{b=a.getScreenCTM?a.getScreenCTM():null}catch(c){}if(b){var d=-b.e%1,e=-b.f%1,f=a.style;(0!==d||0!==e)&&(f.left=d+"px",f.top=e+"px")}}}),K=o.extend({renderClipPath:function(){var a=this,b=a.options.clipPathId,c="";return b&&(c=a.renderAttr("clip-path","url(#"+b+")")),c}}),L=K.extend({init:function(a,b){var c=this;K.fn.init.call(c,b),c.content=a,c.template=L.template,c.template||(c.template=L.template=s("<text #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' #= d.options.rotation ? d.renderRotation() : '' # style='font: #= d.options.font #; #= d.renderCursor() #' fill='#= d.options.color #'>${ d.content }</text>"))},options:{x:0,y:0,baseline:0,font:B,size:{width:0,height:0},fillOpacity:1,cursor:{}},refresh:function(a){var b=this.options;e(a).attr({"fill-opacity":b.fillOpacity})},clone:function(){var a=this;return new L(a.content,p({},a.options))},renderRotation:function(){var a=this,b=a.options,c=b.size,d=r(b.x+c.normalWidth/2,x),e=r(b.y+c.normalHeight/2,x),f=r(b.x+c.width/2,x),g=r(b.y+c.height/2,x),h=r(f-d,x),i=r(g-e,x);return"transform='translate("+h+","+i+") rotate("+b.rotation+","+d+","+e+")'"}}),M=K.extend({init:function(a){var b=this;K.fn.init.call(b,a),b.template=M.template,b.template||(b.template=M.template=s("<path #= d.renderId() ##= d.renderClipPath() #style='display: #= d.renderDisplay() #; #= d.renderCursor() #' #= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],strokeLineCap:F,visible:!0,cursor:{}},refresh:function(a){var b=this.options;e(a).attr({d:this.renderPoints(),"fill-opacity":b.fillOpacity,"stroke-opacity":b.strokeOpacity}).css("display",this.renderDisplay())},clone:function(){return new M(p({},this.options))},renderPoints:function(){},renderDashType:function(){var a=this,b=a.options;return d(b.dashType,b.strokeWidth)},renderLinecap:function(){var a=this.options,b=a.dashType,c=a.strokeLineCap;return b&&b!=E?v:c},renderFill:function(){var a=this.options.fill;return a&&a!==H?a:C},renderDisplay:function(){return this.options.visible?"block":"none"},destroy:function(){}}),N=M.extend({init:function(a,b,c){var d=this;M.fn.init.call(d,b),d.areaPoints=c,d.points=a},renderPoints:function(){for(var a=this,b=a.points,c=[],d=a.areaPoints,e=0;e<b.length;e++)e%3==1&&c.push("C"),c.push(r(b[e].x,x)+" "+r(b[e].y,x));if(d&&d.length){for(e=0;e<d.length;e++)c.push("L "+d[e].x+" "+d[e].y);c.push("z")}return"M "+c.join(" ")}}),O=M.extend({init:function(a,b,c){var d=this;M.fn.init.call(d,c),d.points=a,d.closed=b},renderPoints:function(){var a=this,b=a.points;return a._renderPoints(b)},_renderPoints:function(a){var b,c=this,d=c.options.rotation,e=new m(d[1],d[2]),f=-d[0],g=[];for(b=0;b<a.length;b++)g.push(c._print(a[b].clone().rotate(e,f)));return c.closed&&g.push("z"),"M"+g.join(" ")},clone:function(){var a=this;return new O(p([],a.points),a.closed,p({},a.options))},_print:function(a){var b=this,d=b.options,e=d.strokeWidth,f=d.align!==!1&&e&&e%2!==0,g=f?c:r;return g(a.x,x)+" "+g(a.y,x)}}),P=O.extend({renderPoints:function(){var a,b=this,c=b.points,d=[];for(a=0;a<c.length;a++)d.push(b._renderPoints(c[a]));return d.join(" ")}}),Q=M.extend({init:function(a,b){var c=this;M.fn.init.call(c,b),c.pathTemplate=Q.pathTemplate,c.pathTemplate||(c.pathTemplate=Q.pathTemplate=s("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")),c.config=a||{}},renderPoints:function(){var a,b,c=this,d=c.config,e=d.startAngle,f=d.angle+e,h=f-e>180,i=g.max(d.r,0),j=g.max(d.ir,0),k=d.c,l=d.point(e),m=d.point(e,!0);return r(e)%360===r(f)%360&&(f-=.05),a=d.point(f),b=d.point(f,!0),c.pathTemplate({firstOuterPoint:l,secondOuterPoint:a,isReflexAngle:h,r:i,ir:j,cx:k.x,cy:k.y,firstInnerPoint:m,secondInnerPoint:b})},clone:function(){var a=this;return new Q(p({},a.config),p({},a.options))}}),R=M.extend({init:function(a,b){var c=this;M.fn.init.call(c,b),c.pathTemplate=R.pathTemplate,c.pathTemplate||(c.pathTemplate=R.pathTemplate=s("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")),c.config=a||new j.Pin},renderPoints:function(){var a=this,b=a.config,c=b.radius,d=g.PI/180,e=b.arcAngle,f=c*g.sin(e*d/2),h=b.height-c*(1-g.cos(e*d/2)),i=b.origin,j={x:i.x+f,y:i.y-h},k={x:i.x-f,y:i.y-h},l=function(c,d){var e=a.options.rotation,f=b.rotation;return c=t(c.x,c.y,e[1],e[2],-e[0]),d&&(c=t(c.x,c.y,i.x,i.y,f)),c};return i=l(i),a.pathTemplate({origin:i,as:l(j,!0),ae:l(k,!0),r:c,isReflexAngle:e>180})}}),S=Q.extend({init:function(a,b){var c=this;Q.fn.init.call(c,a,b),c.pathTemplate=S.pathTemplate,c.pathTemplate||(c.pathTemplate=S.pathTemplate=s("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,strokeLineCap:F},clone:function(){var a=this;return new S(p({},a.config),p({},a.options))}}),T=o.extend({init:function(a,b,c){var d=this;o.fn.init.call(d,c),d.c=a,d.r=b,d.template=T.template,d.template||(d.template=T.template=s("<circle #= d.renderId() # #= d.renderDataAttributes() #cx='#= d.c.x #' cy='#= d.c.y #' r='#= d.r #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1},refresh:function(a){e(a).attr({r:g.max(0,this.r),"fill-opacity":this.options.fillOpacity})},clone:function(){var a=this;return new T(p({},a.c),a.r,p({},a.options))}}),U=K.extend({init:function(a){var b=this;o.fn.init.call(b,a),b.template=U.template,b.template||(b.template=U.template=s("<g#= d.renderId() ##= d.renderDataAttributes() ##= d.renderClipPath() #>#= d.renderContent() #</g>"))}}),V=o.extend({init:function(a){var b=this;o.fn.init.call(b,a),b.template=V.template,b.template||(b.template=V.template=s('<clipPath#= d.renderAttr("id", d.options.id) #>#= d.renderContent() #</clipPath>'))}}),W=o.extend({init:function(a){var b=this;o.fn.init.call(b,a)},options:{id:""},renderStops:function(){var a,b,c=this,d=c.options.stops,e=c.stopTemplate,f=d.length,g="";for(a=0;f>a;a++)b=d[a],g+=e(b);return g}}),X=W.extend({init:function(a){var b=this;W.fn.init.call(b,a),b.template=X.template,b.stopTemplate=X.stopTemplate,b.template||(b.template=X.template=s("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>"),b.stopTemplate=X.stopTemplate=s("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{rotation:0}}),Y=W.extend({init:function(a){var b=this;W.fn.init.call(b,a),b.template=Y.template,b.stopTemplate=Y.stopTemplate,b.template||(b.template=Y.template=s("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),b.stopTemplate=Y.stopTemplate=s("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))}}),Z=o.extend({init:function(a){var b=this;o.fn.init.call(b,a),b.template=Z.template,b.stopTemplate=Z.stopTemplate,b.template||(b.template=Z.template=s("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),b.stopTemplate=Z.stopTemplate=s("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{id:""},renderStops:function(){var a,b,c=this,d=c.options,e=d.stops,f=c.stopTemplate,g=d.ir/d.r*100,h=e.length,i="";for(b=p({},e[0]),b.offset=g,i+=f(b),a=1;h>a;a++)b=p({},e[a]),b.offset=b.offset*(100-g)+g,i+=f(b);return i}});a.prototype={decorate:function(a){var b,c,d=this,e=d.view,f=a.options,g=f.id;return f.overlay?(a.options.id=u(),b=e.createGroup(),c=a.clone(),b.children.push(a,c),c.options.id=g,c.options.fill=f.overlay,b):a}},b.prototype={decorate:function(a){var b=this,c=a.options;return c.fill=b.getPaint(c.fill),a},getPaint:function(a){var b,c,d,e=this,f=e.view,g=f.definitions;return a&&q(a.gradient)?(b=f.buildGradient(a),b?(c=b.id,d=g[c],d||(d=f.createGradient(b),g[c]=d),"url("+e.baseUrl()+"#"+d.options.id+")"):C):a},baseUrl:function(){var a=f.getElementsByTagName("base")[0],b="",c=f.location.href,d=c.indexOf("#");return a&&!h.support.browser.msie&&(-1!==d&&(c=c.substring(0,d)),b=c),b}};var $=i.extend({init:function(a){this.view=a},decorate:function(a){var b,c,d=this,e=d.view,f=d.clipId,g=e.options,h=a.options.animation,i=e.definitions;return h&&h.type===w&&g.transitions&&(f||(d.clipId=f=u()),b=i[f],b||(b=new V({id:f}),c=e.createRect(new k(0,0,g.width,g.height),{id:u()}),b.children.push(c),i[f]=b,e.animations.push(new l(c,{size:g.width}))),a.options.clipPathId=f),a}}),_=function(a,b){a.innerHTML=b};!function(){var a="<svg xmlns='"+G+"'></svg>",b=f.createElement("div"),c=typeof DOMParser!=I;b.innerHTML=a,c&&b.firstChild.namespaceURI!=G&&(_=function(a,b){var c=new DOMParser,d=c.parseFromString(b,"text/xml"),e=f.adoptNode(d.documentElement);a.innerHTML="",a.appendChild(e)})}(),j.supportsSVG()&&j.ViewFactory.current.register("svg",J,10),p(j,{renderSVG:_,SVGCircle:T,SVGClipAnimationDecorator:$,SVGClipPath:V,SVGGradientDecorator:b,SVGGroup:U,SVGLine:O,SVGMultiLine:P,SVGLinearGradient:X,SVGOverlayDecorator:a,SVGPath:M,SVGRadialGradient:Y,SVGDonutGradient:Z,SVGRing:Q,SVGSector:S,SVGText:L,SVGView:J})}(window.joy.jQuery),function(){function a(a){this.view=a}function b(a){this.view=a}function c(a){this.view=a}function d(){return k.support.browser.msie&&!z()&&"undefined"!=typeof window.performance}function e(a,b,c){var d=new o(a),e=new o(b),g=f(d.r,e.r,c),h=f(d.g,e.g,c),i=f(d.b,e.b,c);return new o(g,h,i).toHex()}function f(a,b,c){return j.round(c*b+(1-c)*a)}function g(a,b){var c,d,f,g=b.stops,h=g.length,i=m({},b);for(i.stops=[],c=0;h>c;c++)d=g[c],f=i.stops[c]=m({},g[c]),f.color=e(a,d.color,d.opacity),f.opacity=0;return i}var h=jQuery,i=document,j=Math,k=window.joy,l=k.Class,m=k.deepExtend,n=k.dataviz,o=n.Color,p=n.Box2D,q=n.Point2D,r=n.ExpandAnimation,s=n.ViewBase,t=n.ViewElement,u=n.defined,v=n.renderTemplate,w=n.uniqueId,x=n.rotatePoint,y=n.round,z=n.supportsSVG,A="#000",B=n.CLIP,C=n.COORD_PRECISION,D=n.DEFAULT_WIDTH,E=n.DEFAULT_HEIGHT,F=n.DEFAULT_FONT,G="object",H="linear",I="radial",J="transparent",K=s.extend({init:function(e){var f=this;s.fn.init.call(f,e),f.decorators.push(new a(f),new b(f),new c(f)),n.ui.Chart&&f.decorators.push(new n.BarAnimationDecorator(f),new n.PieAnimationDecorator(f),new n.BubbleAnimationDecorator(f)),f.decorators.push(new _(f)),d()||f.decorators.push(new n.FadeAnimationDecorator(f)),n.Gauge&&f.decorators.push(new n.RadialPointerAnimationDecorator(f),new n.ArrowPointerAnimationDecorator(f),new n.BarIndicatorAnimationDecorator(f)),f.template=K.template,f.tagName=f.options.inline?"span":"div",f.template||(f.template=K.template=v("<#= d.tagName # style='width:#= d.options.width #px; height:#= d.options.height #px; position: relative;'>#= d.renderContent() #</#= d.tagName #>"))},options:{width:D,height:E},renderTo:function(a){var b,c=this;return i.namespaces&&i.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),c.setupAnimations(),a.innerHTML=c.render(),c.playAnimations(),b=a.firstChild,c._viewElement=b,b},renderElement:function(a){var b,c=i.createElement("div");return c.style.display="none",i.body.appendChild(c),c.innerHTML=a.render(),b=c.firstChild,i.body.removeChild(c),b},createText:function(a,b){return this.decorate(b&&b.rotation?new M(a,b):new L(a,b))},createRect:function(a,b){return this.decorate(new R(a.points(),!0,this.setDefaults(b)))},createCubicCurve:function(a,b,c){return new Q(a,b,c)},createLine:function(a,b,c,d,e){return this.decorate(new R([new q(a,b),new q(c,d)],!1,this.setDefaults(e)))},createMultiLine:function(a,b){return this.decorate(new S(a,!1,this.setDefaults(b)));

},createPolyline:function(a,b,c){return this.decorate(new R(a,b,this.setDefaults(c)))},createCircle:function(a,b,c){return this.decorate(new V(a,b,c))},createSector:function(a,b){return this.decorate(new U(a,b))},createRing:function(a,b){return this.decorate(new T(a,this.setDefaults(b)))},createGroup:function(a){return this.decorate(new W(this.setDefaults(a)))},createClipPath:function(a,b){var c=this,d=c.definitions[a];return d||(d=c.decorate(new X(b,{id:a})),c.definitions[a]=d),d},createGradient:function(a){var b=u(a.cx)&&u(a.cy)&&u(a.bbox);return a.type===I&&b?new $(a):a.type===H?new Z(a):A}}),L=t.extend({init:function(a,b){var c=this;t.fn.init.call(c,b),c.content=a,c.template=L.template,c.template||(c.template=L.template=v("<kvml:textbox #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; left: #= d.options.x #px; top: #= d.options.y #px; font: #= d.options.font #; color: #= d.options.color #; visibility: #= d.renderVisibility() #; white-space: nowrap; #= d.renderCursor() #'>${ d.content }</kvml:textbox>"))},options:{x:0,y:0,font:F,color:A,fillOpacity:1,cursor:{}},refresh:function(a){h(a).css("visibility",this.renderVisibility())},clone:function(){var a=this;return new L(a.content,m({},a.options))},renderVisibility:function(){return this.options.fillOpacity>0?"visible":"hidden"},renderCursor:function(){var a=this.options,b="";return u(a.cursor.style)&&(b+="cursor: "+a.cursor.style+";"),b}}),M=t.extend({init:function(a,b){var c=this;t.fn.init.call(c,b),c.content=a,c.template=M.template,c.template||(c.template=M.template=v("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; top: 0px; left: 0px; width: 1px; height: 1px;' stroked='false' coordsize='1,1'>#= d.renderPath() #<kvml:fill color='#= d.options.color #' /><kvml:textpath on='true' style='font: #= d.options.font #;' fitpath='false' string='${ d.content }' /></kvml:shape>"))},options:{x:0,y:0,font:F,color:A,size:{width:0,height:0}},renderPath:function(){var a=this,b=a.options,c=b.size.width,d=b.size.height,e=b.x+c/2,f=b.y+d/2,g=-b.rotation,h=x(b.x,f,e,f,g),i=x(b.x+c,f,e,f,g);return"<kvml:path textpathok='true' v='m "+y(h.x)+","+y(h.y)+" l "+y(i.x)+","+y(i.y)+"' />"}}),N=t.extend({init:function(a){var b=this;t.fn.init.call(b,a),b.template=N.template,b.template||(b.template=N.template=v('<kvml:stroke on=\'#= !!d.options.stroke && !!d.options.strokeWidth #\' #= d.renderAttr("color", d.options.stroke) #weight=\'#= d.options.strokeWidth || 0 #px\' #= d.renderAttr("dashstyle", d.options.dashType) ##= d.renderAttr("opacity", d.options.strokeOpacity) # />'))},refresh:function(a){try{a.opacity=this.options.strokeOpacity}catch(b){}}}),O=t.extend({init:function(a){var b=this;t.fn.init.call(b,a),b.template=O.template,b.template||(b.template=O.template=v('<kvml:fill on=\'#= d.isEnabled() #\' #= d.renderAttr("color", d.options.fill) ##= d.renderAttr("weight", d.options.fillWidth) ##= d.renderAttr("opacity", d.options.fillOpacity) # />'))},isEnabled:function(){var a=this.options.fill;return!!a&&a.toLowerCase()!==J},refresh:function(a){try{a.opacity=this.options.fillOpacity}catch(b){}}}),P=t.extend({init:function(a){var b=this;t.fn.init.call(b,a),b.template=P.template,b.template||(b.template=P.template=v("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; #= d.renderSize() # display:#= d.renderDisplay() #; #= d.renderCursor() #' coordorigin='0 0' #= d.renderCoordsize() #><kvml:path v='#= d.renderPoints() # e' />#= d.fill.render() + d.stroke.render() #</kvml:shape>")),b.stroke=new N(b.options),b.fill=new O(b.options)},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],visible:!0,cursor:{}},renderCoordsize:function(){var a=this.options.align===!1?1e4:1;return"coordsize='"+a+" "+a+"'"},renderSize:function(){var a=this.options.align===!1?100:1;return"width:"+a+"px; height:"+a+"px;"},render:function(){var a=this;return a.fill.options.fillOpacity=a.options.fillOpacity,a.stroke.options.strokeOpacity=a.options.strokeOpacity,t.fn.render.call(a)},renderDisplay:function(){return this.options.visible?"block":"none"},renderPoints:function(){},refresh:function(a){if(a){var b=this,c=h(a),d=c[0].parentNode,e=b.fill,f=b.stroke;d&&(c.find("path")[0].v=this.renderPoints(),e.options=f.options=b.options,e.refresh(c.find("fill")[0]),f.refresh(c.find("stroke")[0]),c.css("display",b.renderDisplay()),d.style.cssText=d.style.cssText)}},renderCursor:function(){var a=this.options,b="";return u(a.cursor.style)&&(b+="cursor: "+a.cursor.style+";"),b}}),Q=P.extend({init:function(a,b,c){var d=this;P.fn.init.call(d,b),d.points=a,d.areaPoints=c},renderPoints:function(){var a,b,c,d=this,e=d.areaPoints,f=d.points,g=[];for(a=1;a<f.length;a+=3){c=[];for(var h=0;3>h;h++)b=f[a+h],c.push(y(b.x)+","+y(b.y));g.push("C "+c.join(" "))}if(e&&e.length){for(a=0;a<e.length;a++)g.push("L "+y(e[a].x)+","+y(e[a].y));g.push("X")}return"M "+j.round(f[0].x)+","+j.round(f[0].y)+" "+g.join(" ")+" E"}}),R=P.extend({init:function(a,b,c){var d=this;P.fn.init.call(d,c),d.points=a,d.closed=b},renderPoints:function(){var a=this,b=a.points;return a._renderPoints(b)},_renderPoints:function(a){var b,c=this,d=a.length,e=function(a){var b=c.options.rotation;return x(a.x,a.y,b[1],b[2],-b[0])},f="m "+c._print(e(a[0]));if(d>1)for(f+=" l ",b=1;d>b;b++)f+=c._print(e(a[b])),d-1>b&&(f+=", ");return c.closed&&(f+=" x"),f},clone:function(){var a=this;return new R(m([],a.points),a.closed,m({},a.options))},_print:function(a){var b=this.options.align===!1?100:1;return j.round(a.x*b)+","+j.round(a.y*b)}}),S=R.extend({renderPoints:function(){var a,b=this,c=b.points,d=[];for(a=0;a<c.length;a++)d.push(b._renderPoints(c[a]));return d.join(" ")}}),T=P.extend({init:function(a,b){var c=this;P.fn.init.call(c,b),c.pathTemplate=T.pathTemplate,c.pathTemplate||(c.pathTemplate=T.pathTemplate=v("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.iep.x #,#= d.iep.y # AT #= d.ibb.l #,#= d.ibb.t # #= d.ibb.r #,#= d.ibb.b # #= d.iep.x #,#= d.iep.y # #= d.isp.x #,#= d.isp.y # X E")),c.config=a},renderPoints:function(){function a(a){return new q(y(a.x),y(a.y))}var b,c,d,e,f=this,g=f.config,h=j.max(y(g.r),0),i=j.max(y(g.ir),0),k=y(g.c.x),l=y(g.c.y),m=g.startAngle,n=g.angle+m,o=n-m,p={l:k-h,t:l-h,r:k+h,b:l+h},r={l:k-i,t:l-i,r:k+i,b:l+i};return 1>=o?n+=1-o:o>359&&(n-=1-o),b=a(g.point(m)),c=a(g.point(m,!0)),e=a(g.point(n)),d=a(g.point(n,!0)),f.pathTemplate({obb:p,ibb:r,osp:b,isp:c,oep:e,iep:d,cx:k,cy:l})},clone:function(){var a=this;return new T(m({},a.config),m({},a.options))}}),U=T.extend({init:function(a,b){var c=this;T.fn.init.call(c,a,b),c.pathTemplate=U.pathTemplate,c.pathTemplate||(c.pathTemplate=U.pathTemplate=v("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.cx #,#= d.cy # X E"))},clone:function(){var a=this;return new U(m({},a.config),m({},a.options))}}),V=t.extend({init:function(a,b,c){var d=this;t.fn.init.call(d,c),d.c=a,d.r=b,d.template=V.template,d.template||(d.template=V.template=v("<kvml:oval #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; width:#= d.r * 2 #px; height:#= d.r * 2 #px; top:#= d.c.y - d.r #px; left:#= d.c.x - d.r #px;'>#= d.fill.render() + d.stroke.render() #</kvml:oval>")),d.stroke=new N(d.options),d.fill=new O(d.options)},options:{fill:"",fillOpacity:1},refresh:function(a){var b=this,c=b.c,d=j.max(0,b.r),e=2*d,f=h(a);f.css({width:e,height:e,top:c.y-d,left:c.x-d}),b.fill.options=b.options,b.fill.refresh(f.find("fill")[0])},clone:function(){var a=this;return new V(m({},a.c),a.r,m({},a.options))}}),W=t.extend({init:function(a){var b=this;t.fn.init.call(b,a),b.tagName=b.options.inline?"span":"div",b.template=W.template,b.template||(b.template=W.template=v("<#= d.tagName # #= d.renderId() ##= d.renderDataAttributes() #style='position: absolute; white-space: nowrap;'>#= d.renderContent() #</#= d.tagName #>"))}}),X=t.extend({init:function(a,b){var c=this;t.fn.init.call(c,b),c.tagName=c.options.inline?"span":"div",c.template=X.template,c.clipTemplate=X.clipTemplate,c.template||(c.template=X.template=v("<#= d.tagName # #= d.renderId() #style='position:absolute;width:#= d.box.width() #px; height:#= d.box.height() + d.box.y1#px; top:0px; left:0px; clip:#= d._renderClip() #;' >#= d.renderContent() #</#= d.tagName #>"),c.clipTemplate=X.clipTemplate=v("rect(#= d.points[0].y #px #= d.points[1].x #px #= d.points[2].y #px #= d.points[0].x #px)")),c.box=a,c.points=a.points()},clone:function(){var a=this;return new X(a.box,m({},a.options))},refresh:function(a){a&&(a.style.clip=this._renderClip())},_renderClip:function(){return this.clipTemplate(this)},destroy:function(){h("#"+this.options.id+">*").unwrap()}}),Y=t.extend({init:function(a){var b=this;t.fn.init.call(b,a)},options:{opacity:1},renderColors:function(){var a,b,c=this,d=c.options,e=d.stops,f=e.length,g=[],h=j.round;for(b=0;f>b;b++)a=e[b],g.push(h(100*a.offset)+"% "+a.color);return g.join(",")}}),Z=Y.extend({init:function(a){var b=this;Y.fn.init.call(b,a),b.template=Z.template,b.template||(b.template=Z.template=v("<kvml:fill type='gradient' angle='#= 270 - d.options.rotation #' colors='#= d.renderColors() #' opacity='#= d.options.opacity #' />"))},options:{rotation:0}}),$=Y.extend({init:function(a){var b=this;Y.fn.init.call(b,a),b.template=$.template,b.template||(b.template=$.template=v("<kvml:fill type='gradienttitle' focus='100%' focusposition='#= d.focusPosition() #'colors='#= d.renderColors() #' color='#= d.firstColor() #' color2='#= d.lastColor() #' opacity='#= d.options.opacity #' />"))},focusPosition:function(){var a=this.options,b=a.bbox,c=a.cx,d=a.cy,e=Math.max(0,Math.min(1,(c-b.x1)/b.width())),f=Math.max(0,Math.min(1,(d-b.y1)/b.height()));return y(e,C)+" "+y(f,C)},firstColor:function(){var a=this.options.stops;return a[0].color},lastColor:function(){var a=this.options.stops;return a[a.length-1].color}});a.prototype={decorate:function(a){var b,c,d=a.options,e=this.view;return d.overlay&&(c=d.overlay.bbox,b=e.buildGradient(m({},d.overlay,{_overlayFill:d.fill,_bboxHash:u(c)?c.getHash():""}))),b?(delete d.overlay,d.fill=m(g(d.fill,b),{opacity:d.fillOpacity}),a):a}},b.prototype={decorate:function(a){var b=this,c=b.view,d=a.options,e=d.fill;return e&&e.supportVML!==!1&&(e.gradient&&(e=c.buildGradient(e)),typeof e===G&&(a.fill=c.createGradient(e))),a}},c.prototype={decorate:function(a){var b=this,c=b.view,d=c.definitions[a.options.clipPathId];return d?(d=d.clone(),d.options.id=w(),d.children.push(a),d):a}};var _=l.extend({init:function(a){this.view=a},decorate:function(a){var b,c=this,d=c.view,e=d.options,f=a.options.animation;return f&&f.type===B&&e.transitions?(b=new X(new p(0,0,e.width,e.height),{id:w(),inline:e.inline}),d.animations.push(new r(b,{size:e.width})),b.children.push(a),b):a}});k.support.browser.msie&&n.ViewFactory.current.register("vml",K,20),m(n,{VMLCircle:V,VMLClipAnimationDecorator:_,VMLClipDecorator:c,VMLClipRect:X,VMLFill:O,VMLGroup:W,VMLLine:R,VMLMultiLine:S,VMLLinearGradient:Z,VMLOverlayDecorator:a,VMLPath:P,VMLRadialGradient:$,VMLRing:T,VMLRotatedText:M,VMLSector:U,VMLStroke:N,VMLText:L,VMLView:K,blendColors:e,blendGradient:g})}(window.joy.jQuery),function(){var a=window.joy,b=a.dataviz.ui,c=a.deepExtend,d=1.5,e=.4,f="#000",g="Arial,Helvetica,sans-serif",h="11px "+g,i="12px "+g,j="16px "+g,k="#fff",l={title:{font:j},legend:{labels:{font:i}},seriesDefaults:{visible:!0,labels:{font:h},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:.4,markers:{visible:!1,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:!1}},radarArea:{opacity:.5,markers:{visible:!1,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:f},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:k,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:d,spacing:e},column:{gap:d,spacing:e},bullet:{gap:d,spacing:e,target:{color:"#ff0000"}},verticalBullet:{gap:d,spacing:e,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:f},mean:{width:1,color:f},median:{width:1,color:f},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:k,highlight:{whiskers:{width:2},mean:{width:2},median:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:i},line:{length:10,width:1},visible:!0}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:i},title:{font:j,margin:5},crosshair:{tooltip:{font:i}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:i},line:{length:10,width:1},visible:!0}},tooltip:{font:i},navigator:{pane:{height:90,margin:{top:10}}}},m={scale:{labels:{font:i}}},n={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}},rotate:{thumb:{width:14}},handles:{type:"rectangle"},select:{stroke:{width:1,dashType:"dot"}}},connectionDefaults:{stroke:{width:2},select:{handles:{width:8,height:8}}}},o=b.themes,p=b.registerTheme=function(a,b){var d={};d.chart=c({},l,b.chart),d.gauge=c({},m,b.gauge),d.diagram=c({},n,b.diagram);var e=d.chart.seriesDefaults;e.verticalLine=c({},e.line),e.verticalArea=c({},e.area),e.polarArea=c({},e.radarArea),e.polarLine=c({},e.radarLine),o[a]=d};p("black",{chart:{title:{color:k},legend:{labels:{color:k},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:k},errorBars:{color:k},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:k},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},candlestick:{downColor:"#555",line:{color:k},border:{_brightness:1.5,opacity:1},highlight:{border:{color:k,opacity:.2}}},ohlc:{line:{color:k}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:k},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:k},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:k},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:k},minorTicks:{color:k},majorTicks:{color:k},line:{color:k}}},diagram:{shapeDefaults:{background:"#0066cc",connectorDefaults:{background:k,stroke:{color:"#384049"},hover:{background:"#3d3d3d",stroke:{color:"#efefef"}}},content:{color:k}},editable:{resize:{handles:{background:"#3d3d3d",stroke:{color:k},hover:{background:k,stroke:{color:k}}}},rotate:{thumb:{stroke:{color:k},background:k}},select:{stroke:{color:k}}},connectionDefaults:{stroke:{color:k},content:{color:k},select:{handles:{background:"#3d3d3d",stroke:{color:"#efefef"}}}}}}),p("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:f,background:k,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{background:"#7ec6e3",connectorDefaults:{background:"#003f59",stroke:{color:k},hover:{background:k,stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{background:k,stroke:{color:"#003f59"},hover:{background:"#003f59",stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},background:"#003f59"}},select:{stroke:{color:"#003f59"}}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},select:{handles:{background:"#3d3d3d",stroke:{color:"#efefef"}}}}}}),p("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{background:"#a7018f",connectorDefaults:{background:k,stroke:{color:"#2c232b"},hover:{background:"#2c232b",stroke:{color:k}}},content:{color:k}},editable:{resize:{handles:{background:"#2c232b",stroke:{color:k},hover:{background:k,stroke:{color:k}}}},rotate:{thumb:{stroke:{color:k},background:k}},select:{stroke:{color:k}}},connectionDefaults:{stroke:{color:k},content:{color:k},select:{handles:{background:"#2c232b",stroke:{color:k}}}}}}),p("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:f,background:k,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{background:"#e15613",connectorDefaults:{background:"#282828",stroke:{color:k},hover:{background:k,stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{background:k,stroke:{color:"#282828"},hover:{background:"#282828",stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},background:"#282828"}},select:{stroke:{color:"#a7018f"}}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},select:{handles:{background:k,stroke:{color:"#282828"}}}}}}),p("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{background:"#1c82c2",connectorDefaults:{background:"#515967",stroke:{color:k},hover:{background:k,stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{background:k,stroke:{color:"#515967"},hover:{background:"#515967",stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},background:"#515967"}},select:{stroke:{color:"#515967"}}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},select:{handles:{background:k,stroke:{color:"#515967"}}}}}}),p("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:f},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{background:"#8ebc00",connectorDefaults:{background:f,stroke:{color:k},hover:{background:k,stroke:{color:f}}},content:{color:"#777"}},editable:{resize:{handles:{background:k,stroke:{color:"#787878"},hover:{background:"#787878",stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},background:"#787878"}},select:{stroke:{color:"#515967"}}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},select:{handles:{background:k,stroke:{color:"#787878"}}}}}}),p("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{background:"#00aba9",connectorDefaults:{background:k,stroke:{color:"#0e0e0e"},hover:{background:"#0e0e0e",stroke:{color:k}}},content:{color:k}},editable:{resize:{handles:{background:"#0e0e0e",stroke:{color:"#787878"},hover:{background:"#787878",stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:k},background:k}},select:{stroke:{color:"#787878"}}},connectionDefaults:{stroke:{color:k},content:{color:k},select:{handles:{background:"#0e0e0e",stroke:{color:k}}}}}}),p("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:k,opacity:.2}}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:k},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{background:"#f3ae03",connectorDefaults:{background:k,stroke:{color:"#414550"},hover:{background:"#414550",stroke:{color:k}}},content:{color:k}},editable:{resize:{handles:{background:"#414550",stroke:{color:k},hover:{background:k,stroke:{color:k}}}},rotate:{thumb:{stroke:{color:k},background:k}},select:{stroke:{color:k}}},connectionDefaults:{stroke:{color:k},content:{color:k},select:{handles:{background:"#414550",stroke:{color:k}}}}}}),p("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{background:"#d1d1d1",connectorDefaults:{background:"#686868",stroke:{color:k},hover:{background:k,stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{background:k,stroke:{color:"#686868"},hover:{background:"#686868",stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},background:"#686868"}},select:{stroke:{color:"#686868"}}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},select:{handles:{background:k,stroke:{color:"#686868"}}}}}}),p("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{background:"#428bca",connectorDefaults:{background:"#333333",stroke:{color:k},hover:{background:k,stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{background:k,stroke:{color:"#333333"},hover:{background:"#333333",stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},background:"#333333"}},select:{stroke:{color:"#333333"}}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},select:{handles:{background:k,stroke:{color:"#333333"}},stroke:{color:"#333333"}}}}}),p("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{background:"#10c4b2",connectorDefaults:{background:"#363940",stroke:{color:k},hover:{background:k,stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{background:k,stroke:{color:"#363940"},hover:{background:"#363940",stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},background:"#363940"}},select:{stroke:{color:"#363940"}
}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},select:{handles:{background:k,stroke:{color:"#363940"}},stroke:{color:"#363940"}}}}})}(window.joy.jQuery),function(){function a(a){return(a+540)%360*w}function b(a){return e.round(a)+.5}function c(a,b){var c,d,e,f=b.length;for(c=0;f>c;c++)d=b[c],e=new i(d.color),a.addColorStop(d.offset,"rgba("+e.r+","+e.g+","+e.b+","+d.opacity+")")}var d=jQuery,e=Math,f=window.joy,g=f.dataviz,h=g.Box2D,i=g.Color,j=g.Point2D,k=g.Ring,l=g.ViewBase,m=g.ViewElement,n=f.deepExtend,o=g.round,p=g.renderTemplate,q="butt",r=g.COORD_PRECISION,s=g.DASH_ARRAYS,t=g.DEFAULT_WIDTH,u=g.DEFAULT_HEIGHT,v=g.DEFAULT_FONT,w=e.PI/180,x=2*e.PI,y="linear",z="radial",A="solid",B="square",C=p("<canvas width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'></canvas>"),D=l.extend({init:function(a){var b=this;l.fn.init.call(b,a),b.display=b.options.inline?"inline":"block"},options:{width:t,height:u},renderTo:function(a){var b,c=this,e=c.options;return b=a.firstElementChild,b&&"canvas"===b.tagName.toLowerCase()?(d(b).siblings().remove(),b.width=e.width,b.height=e.height):(a.innerHTML=C(this),b=a.firstElementChild),c._viewElement=b,c.renderContent(b.getContext("2d")),b},replace:function(a){var b,c=this,d=c._viewElement,e=a.box;d&&e&&(b=d.getContext("2d"),b.clearRect(e.x1,e.y1,e.width(),e.height()),a.getViewElements(c)[0].render(b))},renderContent:function(a){var b,c=this,d=c.sortChildren(),e=d.length,f=c.clipPath;for(f&&(a.save(),f.render(a)),b=0;e>b;b++)d[b].render(a);f&&a.restore()},applyDefinitions:function(a){return a.options.clipPathId&&(a.clipPath=this.definitions[a.options.clipPathId]),a},createGroup:function(a){return this.applyDefinitions(new F(a))},createClipPath:function(a,b){var c=this,d=c.definitions[a];return d||(d=new E({id:a}),d.children.push(c.createRect(b,{fill:"none"})),c.definitions[a]=d),d},createText:function(a,b){return new N(a,b)},createRect:function(a,b){return new I(a.points(),!0,this.setDefaults(b))},createCubicCurve:function(a,b,c){return new H(a,b,c)},createLine:function(a,b,c,d,e){return new I([new j(a,b),new j(c,d)],!1,this.setDefaults(e))},createMultiLine:function(a,b){return this.decorate(new J(a,!1,this.setDefaults(b)))},createPolyline:function(a,b,c){return new I(a,b,this.setDefaults(c))},createCircle:function(a,b,c){return new L(a,b,c)},createSector:function(a,b){return new K(a,b)},createRing:function(a,b){return new K(a,b)},createPin:function(a,b){return new M(a,b)}}),E=m.extend({render:function(a){var b=this,c=b.children,d=0,e=c.length;for(a.beginPath();e>d;d++)c[d].renderPoints(a);a.clip()}}),F=m.extend({render:function(a){this.renderContent(a)},renderContent:D.fn.renderContent}),G=m.extend({options:{fillOpacity:1,strokeOpacity:1,strokeLineCap:B},render:function(a){var b=this,c=b.options;a.save(),a.beginPath(),b.renderPoints(a),b.setLineDash(a),b.setLineCap(a),c.fill&&"transparent"!==c.fill&&(b.setFill(a),a.globalAlpha=c.fillOpacity,a.fill()),c.stroke&&c.strokeWidth&&(a.strokeStyle=c.stroke,a.lineWidth=c.strokeWidth,a.lineJoin="round",a.globalAlpha=c.strokeOpacity,a.stroke()),b.renderOverlay(a),a.restore()},setLineDash:function(a){var b,c=this.options.dashType;c=c?c.toLowerCase():null,c&&c!=A&&(b=s[c],a.setLineDash?a.setLineDash(b):(a.mozDash=b,a.webkitLineDash=b))},setLineCap:function(a){var b=this.options,c=b.dashType;a.lineCap=c&&c!==A?q:b.strokeLineCap},setFill:function(a){var b=this.options,c=b.fill;a.fillStyle=c},renderOverlay:function(a){var b,c,d=this.options,e=d.overlay;e&&e.gradient&&(c=g.Gradients[e.gradient],b=this.buildGradient(a,c),b&&(a.fillStyle=b,a.fill()))},renderPoints:d.noop,buildGradient:d.noop}),H=G.extend({init:function(a,b,c){var d=this;G.fn.init.call(d,b),d.points=a,d.areaPoints=c},renderPoints:function(a){var b,c=this,d=c.areaPoints,e=c.points;for(a.moveTo(e[0].x,e[0].y),b=1;b<e.length;b+=3)a.bezierCurveTo(o(e[b].x,r),o(e[b].y,r),o(e[b+1].x,r),o(e[b+1].y,r),o(e[b+2].x,r),o(e[b+2].y,r));if(d&&d.length){for(b=0;b<d.length;b++)a.lineTo(o(d[b].x,r),o(d[b].y,r));a.closePath()}}}),I=G.extend({init:function(a,b,c){var d=this;G.fn.init.call(d,c),d.points=a,d.closed=b},options:{rotation:[0,0,0]},renderPoints:function(a){var b=this,c=b.points;b._renderPoints(a,c)},_renderPoints:function(a,c){var d,e,f=this,g=f.options,h=g.strokeWidth,i=g.align!==!1&&h&&h%2!==0,j=i?b:o;if(0!==c.length&&(g.fill||g.stroke)){for(0!==g.rotation[0]&&f.setRotation(a),e=c[0],a.moveTo(j(e.x,r),j(e.y,r)),d=1;d<c.length;d++)e=c[d],a.lineTo(j(e.x,r),j(e.y,r));f.closed&&a.closePath()}},buildGradient:function(a,b){var d,e=this.bbox(),f=this.options.overlay.rotation,g=e.x2,h=e.y1;return 90===f&&(g=e.x1,h=e.y2),b&&b.type===y&&(d=a.createLinearGradient(e.x1,e.y1,g,h),c(d,b.stops)),d},bbox:function(){var a,b=this.points,c=new h;if(b.length>0)for(c.move(b[0].x,b[0].y),a=1;a<b.length;a++)c.wrapPoint(b[a]);return c},setRotation:function(a){var b=this,c=b.options,d=c.rotation,e=d[1],f=d[2];a.translate(e,f),a.rotate(d[0]*w),a.translate(-e,-f)}}),J=I.extend({renderPoints:function(a){var b,c=this,d=c.points;for(b=0;b<d.length;b++)c._renderPoints(a,d[b])}}),K=G.extend({init:function(a,b){var c=this;G.fn.init.call(c,b),c.config=a||{}},options:{strokeLineCap:B},renderPoints:function(b){var c=this,d=c.config,f=d.startAngle,g=d.angle+f,h=e.max(d.r,0),i=e.max(d.ir,0),j=d.c,k=a(f),l=a(g);k===l&&(f=0,g=360,k=0,l=2*Math.PI);var m=d.point(f),n=d.point(g,!0);b.moveTo(m.x,m.y),b.arc(j.x,j.y,h,k,l),i>0?(b.lineTo(n.x,n.y),b.arc(j.x,j.y,i,l,k,!0)):b.lineTo(j.x,j.y)},buildGradient:function(a,b){var d,e=this.config,f=e.c;return b&&b.type===z&&(d=a.createRadialGradient(f.x,f.y,e.ir,f.x,f.y,e.r),c(d,b.stops)),d}}),L=G.extend({init:function(a,b,c){var d=this;G.fn.init.call(d,c),d.config=new k(a,0,b)},renderPoints:function(a){var b=this.config,c=b.c;a.arc(c.x,c.y,b.r,0,x,!1)},buildGradient:K.fn.buildGradient}),M=G.extend({init:function(a,b){var c=this;G.fn.init.call(c,b),c.config=a},renderPoints:function(b){var c=this,d=c.config,f=d.radius,g=e.PI/180,h=d.arcAngle,i=d.height-f*(1-e.cos(h*g/2)),j=d.origin,k=c.options.rotation;b.translate(k[1],k[2]),b.rotate(a(k[0])),b.translate(k[1]-j.x,k[2]-j.y),b.rotate(a(-c.config.rotation)),b.moveTo(0,0),b.arc(0,-i,f,a(90-h/2),a(90+h/2)),b.lineTo(0,0),b.closePath()}}),N=m.extend({init:function(a,b){var c=this;m.fn.init.call(c,b),c.content=a},options:{x:0,y:0,baseline:0,font:v,size:{width:0,height:0},fillOpacity:1},render:function(a){var b=this,c=b.options,d=b.content,e=c.x,f=c.y+c.baseline;a.save(),0!==c.rotation&&b.setRotation(a),a.font=c.font,a.fillStyle=c.color,a.globalAlpha=c.fillOpacity,a.fillText(d,e,f),a.restore()},setRotation:function(a){var b=this,c=b.options,d=c.size,e=c.x+d.normalWidth/2,f=c.y+d.normalHeight/2,g=c.x+d.width/2,h=c.y+d.height/2,i=g-e,j=h-f;a.translate(i,j),a.translate(e,f),a.rotate(c.rotation*w),a.translate(-e,-f)}});g.supportsCanvas()&&g.ViewFactory.current.register("canvas",D,30),n(g,{CanvasCircle:L,CanvasClipPath:E,CanvasGroup:F,CanvasLine:I,CanvasMultiLine:J,CanvasPath:G,CanvasRing:K,CanvasText:N,CanvasView:D})}(window.joy.jQuery),function(a,b){function c(a,b,c){return a.substring(b,b+c)}var d=window.joy,e=a.extend,f=d.deepExtend,g=a.inArray,h=a.isPlainObject,i=d.dataviz,j=d.ui.Widget,k=i.Box2D,l=i.Text,m=300,n=100,o=10,p=/^\d+$/,q=/^[a-z0-9]+$/i,r="Character '{0}'  is not valid for symbology {1}",s=d.Class.extend({init:function(a){this.setOptions(a)},setOptions:function(a){var b=this;b.options=e({},b.options,a),b.quietZoneLength=b.options.addQuietZone?2*b.options.quietZoneLength:0},encode:function(a,c,d){var e=this;return a!==b&&(a+=""),e.initValue(a,c,d),e.options.addQuietZone&&e.addQuietZone(),e.addData(),e.options.addQuietZone&&e.addQuietZone(),{baseUnit:e.baseUnit,pattern:e.pattern}},options:{quietZoneLength:o,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||o)},addData:function(){},invalidCharacterError:function(a){throw new Error(d.format(r,a,this.name))}}),t={},u=s.extend({minBaseUnitLength:.7,addData:function(){var a=this,b=a.value;a.addStart();for(var c=0;c<b.length;c++)a.addCharacter(b.charAt(c));a.options.addCheckSum&&a.pushCheckSum(),a.addStop(),a.prepareValues()},addCharacter:function(a){var b=this,c=b.characterMap[a];c||b.invalidCharacterError(a),b.addBase(c)},addBase:function(){}}),v={addCharacter:function(a){var b=this;b.characterMap[a]?b.addBase(b.characterMap[a]):a.charCodeAt(0)>127?b.invalidCharacterError(a):b.addExtended(a.charCodeAt(0))},addExtended:function(a){for(var b,c=this,d=0;d<c.extendedMappings.length;d++)if(b=c.extendedMappings[d].call(c,a)){for(var e=0;e<b.length;e++)c.addBase(b[e]);return void(c.dataLength+=b.length-1)}},extendedMappings:[function(a){if(a>=97&&122>=a){var b=this;return[b.characterMap[b.shiftCharacters[0]],b.characterMap[String.fromCharCode(a-32)]]}},function(a){if(a>=33&&58>=a){var b=this;return[b.characterMap[b.shiftCharacters[1]],b.characterMap[String.fromCharCode(a+32)]]}},function(a){if(a>=1&&26>=a){var b=this;return[b.characterMap[b.shiftCharacters[2]],b.characterMap[String.fromCharCode(a+64)]]}},function(a){var b,c,d=this;if(d.specialAsciiCodes[a]){b=[];for(var e=0;e<d.specialAsciiCodes[a].length;e++)b.push(d.characterMap[d.shiftCharacters[3]]),b.push(d.characterMap[d.specialAsciiCodes[a][e]])}else c=6*Math.floor(a/32)+(a-27)%32+64,b=[d.characterMap[d.shiftCharacters[3]],d.characterMap[String.fromCharCode(c)]];return b}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};t.code39=u.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(a,b,c){var d=this;d.width=b,d.height=c,d.value=a,d.dataLength=a.length,d.pattern=[],d.patternString=""},prepareValues:function(){var a,b=this,c=b.minBaseUnitLength,d=b.maxRatio,e=b.minRatio,f=Math.max(.15*b.width,24);if(b.height<f)throw new Error("Insufficient Height. The minimum height for value: "+b.value+" is: "+f);for(;(a=b.getBaseUnit(d))<c&&d>e;)d=parseFloat((d-.1).toFixed(1));if(c>a){var g=Math.ceil(b.getBaseWidth(e)*c);throw new Error("Insufficient width. The minimum width for value: "+b.value+" is: "+g)}b.ratio=d,b.baseUnit=a,b.patternString=b.patternString.substring(0,b.patternString.length-1),b.pattern=b.pattern.concat(b.patternString.replace(/ratio/g,d).split(b.splitCharacter))},getBaseUnit:function(a){return this.width/this.getBaseWidth(a)},getBaseWidth:function(a){var b=this,c=3*(a+2);return b.quietZoneLength+c*(b.dataLength+2)+b.gapWidth*(b.dataLength+1)},addStart:function(){var a=this;a.addPattern(a.characterMap.START.pattern),a.addCharacterGap()},addBase:function(a){this.addPattern(a.pattern),this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(a){for(var b=0;b<a.length;b++)this.patternString+=this.patternMappings[a.charAt(b)]},addCharacterGap:function(){var a=this;a.patternString+=a.gapWidth+a.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}}),t.code39extended=t.code39.extend(f({},v,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),t.code93=u.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(a,b,c){var d=this;d.value=a,d.width=b,d.height=c,d.pattern=[],d.values=[],d.dataLength=a.length},prepareValues:function(){var a=this,b=Math.max(.15*a.width,24);if(a.height<b)throw new Error("Insufficient Height");if(a.setBaseUnit(),a.baseUnit<a.minBaseUnitLength)throw new Error("Insufficient Width")},setBaseUnit:function(){var a=this,b=2;a.baseUnit=a.width/(9*(a.dataLength+2+b)+a.quietZoneLength+1)},addStart:function(){var a=this.characterMap.START.pattern;this.addPattern(a)},addStop:function(){var a=this;a.addStart(),a.pattern.push(a.characterMap.TERMINATION_BAR)},addBase:function(a){this.addPattern(a.pattern),this.values.push(a.value)},pushCheckSum:function(){var a,b=this,c=b._getCheckValues();b.checksum=c.join("");for(var d=0;d<c.length;d++)a=b.characterMap[b._findCharacterByValue(c[d])],b.addPattern(a.pattern)},_getCheckValues:function(){var a,b,c,d=this,e=d.values,f=e.length,g=0;for(c=f-1;c>=0;c--)g+=d.weightedValue(e[c],f-c,d.cCheckSumTotal);for(a=g%d.checkSumMod,g=d.weightedValue(a,1,d.kCheckSumTotal),c=f-1;c>=0;c--)g+=d.weightedValue(e[c],f-c+1,d.kCheckSumTotal);return b=g%d.checkSumMod,[a,b]},_findCharacterByValue:function(a){for(var b in this.characterMap)if(this.characterMap[b].value===a)return b},weightedValue:function(a,b,c){return(b%c||c)*a},addPattern:function(a){for(var b,c=0;c<a.length;c++)b=parseInt(a.charAt(c),10),this.pattern.push(b)},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),t.code93extended=t.code93.extend(f({},v,{name:"Code 93 extended",pushCheckSum:function(){var a,b=this,c=b._getCheckValues();b.checksum=c.join("");for(var d=0;d<c.length;d++)a=c[d],b.shiftValuesAsciiCodes[a]?b.addExtended(b.shiftValuesAsciiCodes[a]):b.addPattern(b.characterMap[b._findCharacterByValue(a)].pattern)}}));var w=d.Class.extend({init:function(a){this.encoding=a},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),x=w.extend({FNC4:"FNC4",init:function(a,b){var c=this;c.encoding=a,c.states=b,c._initMoves(b)},addStart:function(){this.encoding.addPattern(this.START)},is:function(a,b){var c=a.charCodeAt(b);return this.isCode(c)},move:function(a){for(var b=this,c=0;!b._moves[c].call(b,a)&&c<b._moves.length;)c++},pushState:function(a){var b,c=this,d=c.states,e=a.value,f=e.length;if(g("C",d)>=0){var h=e.substr(a.index).match(/\d{4,}/g);h&&(f=e.indexOf(h[0],a.index))}for(;(b=a.value.charCodeAt(a.index))>=0&&c.isCode(b)&&a.index<f;)c.encoding.addPattern(c.getValue(b)),a.index++},_initMoves:function(a){var b=this;b._moves=[],g(b.FNC4,a)>=0&&b._moves.push(b._moveFNC),g(b.shiftKey,a)>=0&&b._moves.push(b._shiftState),b._moves.push(b._moveState)},_moveFNC:function(a){return a.fnc?(a.fnc=!1,a.previousState==this.key):void 0},_shiftState:function(a){var b=this;return a.previousState==b.shiftKey&&(a.index+1>=a.value.length||b.encoding[b.shiftKey].is(a.value,a.index+1))?(b.encoding.addPattern(b.SHIFT),a.shifted=!0,!0):void 0},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),y={};y.A=x.extend({key:"A",shiftKey:"B",isCode:function(a){return a>=0&&96>a},getValue:function(a){return 32>a?a+64:a-32},MOVE:101,START:103}),y.B=x.extend({key:"B",shiftKey:"A",isCode:function(a){return a>=32&&128>a},getValue:function(a){return a-32},MOVE:100,START:104}),y.C=w.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(a,b){var d=c(a,b,4);return(b+4<=a.length||2==a.length)&&p.test(d)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(a){for(var b;(b=c(a.value,a.index,2))&&p.test(b)&&2==b.length;)this.encoding.addPattern(parseInt(b,10)),a.index+=2},getValue:function(a){return a},MOVE:99,START:105}),y.FNC4=w.extend({key:"FNC4",dependentStates:["A","B"],init:function(a,b){this.encoding=a,this._initSubStates(b)},addStart:function(a){var b=a.value.charCodeAt(0)-128,c=this._getSubState(b);this.encoding[c].addStart()},is:function(a,b){var c=a.charCodeAt(b);return this.isCode(c)},isCode:function(a){return a>=128&&256>a},pushState:function(a){var b=this,c=b._initSubState(a),d=b.encoding,e=c.value.length;if(a.index+=e,3>e)for(var f;c.index<e;c.index++)f=c.value.charCodeAt(c.index),c.state=b._getSubState(f),c.previousState!=c.state&&(c.previousState=c.state,d[c.state].move(c)),d.addPattern(d[c.state].MOVE),d.addPattern(d[c.state].getValue(f));else c.state!=c.previousState&&d[c.state].move(c),b._pushStart(c),d.pushData(c,b.subStates),a.index<a.value.length&&b._pushStart(c);a.fnc=!0,a.state=c.state},_pushStart:function(a){var b=this;b.encoding.addPattern(b.encoding[a.state].MOVE),b.encoding.addPattern(b.encoding[a.state].MOVE)},_initSubState:function(a){var b=this,c={value:b._getAll(a.value,a.index),index:0};return c.state=b._getSubState(c.value.charCodeAt(0)),c.previousState=a.previousState==b.key?c.state:a.previousState,c},_initSubStates:function(a){var b=this;b.subStates=[];for(var c=0;c<a.length;c++)g(a[c],b.dependentStates)>=0&&b.subStates.push(a[c])},_getSubState:function(a){for(var b=this,c=0;c<b.subStates.length;c++)if(b.encoding[b.subStates[c]].isCode(a))return b.subStates[c]},_getAll:function(a,b){for(var c,d="";(c=a.charCodeAt(b++))&&this.isCode(c);)d+=String.fromCharCode(c-128);return d}}),y.FNC1=w.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(a,b){this.encoding=a,this.states=b},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return g(this.key,this.states)>=0},pushState:function(a){var b,c,d,e=this,f=e.encoding,g=a.value.replace(/\s/g,""),h=new RegExp("["+e.startAI+e.endAI+"]","g"),i=a.index,j={state:e.startState};for(f.addPattern(e.START);;){if(j.index=0,d=g.charAt(i)===e.startAI?2:0,b=d>0?e.getBySeparator(g,i):e.getByLength(g,i),b.ai.length)c=i+d+b.id.length+b.ai.length;else if(c=g.indexOf(e.startAI,i+1),0>c){if(i+b.ai.max+b.id.length+d<g.length)throw new Error("Separators are required after variable length identifiers");c=g.length}if(j.value=g.substring(i,c).replace(h,""),e.validate(b,j.value),f.pushData(j,e.dependentStates),c>=g.length)break;i=c,j.state!=e.startState&&(f[e.startState].move(j),j.state=e.startState),b.ai.length||f.addPattern(e.START)}a.index=a.value.length},validate:function(a,b){var c=b.substr(a.id.length),d=a.ai;if(!d.type&&!p.test(c))throw new Error("Application identifier "+a.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==d.type&&!q.test(c))throw new Error("Application identifier "+a.id+" is alphanumeric only but contains non alphanumeric character(s).");if(d.length&&d.length!==c.length)throw new Error("Application identifier "+a.id+" must be "+d.length+" characters long.");if(d.min&&d.min>c.length)throw new Error("Application identifier "+a.id+" must be at least "+d.min+" characters long.");if(d.max&&d.max<c.length)throw new Error("Application identifier "+a.id+" must be at most "+d.max+" characters long.")},getByLength:function(a,b){for(var d,e,f=this,g=2;4>=g;g++)if(d=c(a,b,g),e=f.getAI(d)||f.getAI(d.substring(0,d.length-1)))return{id:d,ai:e};f.unsupportedAIError(d)},unsupportedAIError:function(a){throw new Error(d.format("'{0}' is not a supported Application Identifier"),a)},getBySeparator:function(a,b){var c=this,d=a.indexOf(c.startAI,b),e=a.indexOf(c.endAI,d),f=a.substring(d+1,e),g=c.getAI(f)||c.getAI(f.substr(f.length-1));return g||c.unsupportedAIError(f),{ai:g,id:f}},getAI:function(a){var b=this.applicationIdentifiers,c=b.multiKey;if(b[a])return b[a];for(var d=0;d<c.length;d++){if(c[d].ids&&g(a,c[d].ids)>=0)return c[d].type;if(c[d].ranges)for(var e=c[d].ranges,f=0;f<e.length;f++)if(e[f][0]<=a&&a<=e[f][1])return c[d].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});var z=s.extend({init:function(a){s.fn.init.call(this,a),this._initStates()},_initStates:function(){for(var a=this,b=0;b<a.states.length;b++)a[a.states[b]]=new y[a.states[b]](a,a.states)},initValue:function(a,b,c){var d=this;d.pattern=[],d.value=a,d.width=b,d.height=c,d.checkSum=0,d.totalUnits=0,d.index=0,d.position=1},addData:function(){var a=this,b={value:a.value,index:0,state:""};0!==a.value.length&&(b.state=b.previousState=a.getNextState(b,a.states),a.addStart(b),a.pushData(b,a.states),a.addCheckSum(),a.addStop(),a.setBaseUnit())},pushData:function(a,b){for(var c=this;;){if(c[a.state].pushState(a),a.index>=a.value.length)break;if(a.shifted){var d=a.state;a.state=a.previousState,a.previousState=d,a.shifted=!1}else a.previousState=a.state,a.state=c.getNextState(a,b),c[a.state].move(a)}},addStart:function(a){this[a.state].addStart(a),this.position=1},addCheckSum:function(){var a=this;a.checksum=a.checkSum%103,a.addPattern(a.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var a=this;a.baseUnit=a.width/(a.totalUnits+a.quietZoneLength)},addPattern:function(a){for(var b,c=this,d=c.characterMap[a].toString(),e=0;e<d.length;e++)b=parseInt(d.charAt(e),10),c.pattern.push(b),c.totalUnits+=b;c.checkSum+=a*c.position++},getNextState:function(a,b){for(var c=0;c<b.length;c++)if(this[b[c]].is(a.value,a.index))return b[c];this.invalidCharacterError(a.value.charAt(a.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});t.code128a=z.extend({name:"Code 128 A",states:["A"]}),t.code128b=z.extend({name:"Code 128 B",states:["B"]}),t.code128c=z.extend({name:"Code 128 C",states:["C"]}),t.code128=z.extend({name:"Code 128",states:["C","B","A","FNC4"]}),t["gs1-128"]=z.extend({name:"Code GS1-128",states:["FNC1","C","B"]});var A=s.extend({initValue:function(a,b){var c=this;c.pattern=[],c.value=a,c.checkSumLength=0,c.width=b},setBaseUnit:function(){var a=this,b=7;a.baseUnit=a.width/(12*(a.value.length+a.checkSumLength)+a.quietZoneLength+b)},addData:function(){var a=this,b=a.value;a.addPattern(a.START);for(var c=0;c<b.length;c++)a.addCharacter(b.charAt(c));a.options.addCheckSum&&a.addCheckSum(),a.addPattern(a.STOP),a.setBaseUnit()},addCharacter:function(a){var b=this,c=b.characterMap[a];c||b.invalidCharacterError(a),b.addPattern(c)},addPattern:function(a){for(var b=0;b<a.length;b++)this.pattern.push(parseInt(a.charAt(b),10))},addCheckSum:function(){var a,b=this,c=b.checkSums[b.checkSumType];a=c.call(b.checkSums,b.value),b.checksum=a.join("");for(var d=0;d<a.length;d++)b.checkSumLength++,b.addPattern(b.characterMap[a[d]])},checkSums:{Modulo10:function(a){var b,c,d,e=[0,""],f=a.length%2;for(b=0;b<a.length;b++)e[(b+f)%2]+=parseInt(a.charAt(b),10);for(d=e[0],c=(2*e[1]).toString(),b=0;b<c.length;b++)d+=parseInt(c.charAt(b),10);return[(10-d%10)%10]},Modulo11:function(a){for(var b,c,d=0,e=11,f=a.length,g=0;f>g;g++)b=((f-g)%6||6)+1,d+=b*a.charAt(g);return c=(e-d%e)%e,10!=c?[c]:[1,0]},Modulo11Modulo10:function(a){var b,c=this.Modulo11(a);return b=a+c[0],c.concat(this.Modulo10(b))},Modulo10Modulo10:function(a){var b,c=this.Modulo10(a);return b=a+c[0],c.concat(this.Modulo10(b))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});t.msimod10=A.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),t.msimod11=A.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),t.msimod1110=A.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),t.msimod1010=A.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),t.code11=s.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(a,b){var c=this;c.pattern=[],c.value=a,c.width=b,c.totalUnits=0},addData:function(){var a=this,b=a.value;a.addPattern(a.START);for(var c=0;c<b.length;c++)a.addCharacter(b.charAt(c));a.options.addCheckSum&&a.addCheckSum(),a.addPattern(a.STOP),a.setBaseUnit()},setBaseUnit:function(){var a=this;a.baseUnit=a.width/(a.totalUnits+a.quietZoneLength)},addCheckSum:function(){var a,b=this,c=b.value,d=c.length;if(a=b.getWeightedSum(c,d,b.cCheckSumTotal)%b.checkSumMod,b.checksum=a+"",b.addPattern(b.characterMap[a]),d++,d>=b.kCheckSumMinLength){var e=(a+b.getWeightedSum(c,d,b.kCheckSumTotal))%b.checkSumMod;b.checksum+=e,b.addPattern(b.characterMap[e])}},getWeightedSum:function(a,b,c){for(var d=0,e=0;e<a.length;e++)d+=this.weightedValue(this.getValue(a.charAt(e)),b,e,c);return d},weightedValue:function(a,b,c,d){var e=(b-c)%d||d;return e*a},getValue:function(a){var b=this;return isNaN(a)?(a!==b.DASH&&b.invalidCharacterError(a),b.DASH_VALUE):parseInt(a,10)},addCharacter:function(a){var b=this,c=b.getValue(a),d=b.characterMap[c];b.addPattern(d)},addPattern:function(a){for(var b,c=0;c<a.length;c++)b=parseInt(a.charAt(c),10),this.pattern.push(b),this.totalUnits+=b},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),t.postnet=s.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(a,b,c){var d=this;d.height=c,d.width=b,d.baseHeight=c/2,d.value=a.replace(new RegExp(d.DIGIT_SEPARATOR,"g"),""),d.pattern=[],d.validate(d.value),d.checkSum=0,d.setBaseUnit()},addData:function(){var a=this,b=a.value;a.addPattern(a.START);for(var c=0;c<b.length;c++)a.addCharacter(b.charAt(c));a.options.addCheckSum&&a.addCheckSum(),a.addPattern(a.START),a.pattern.pop()},addCharacter:function(a){var b=this,c=b.characterMap[a];b.checkSum+=parseInt(a,10),b.addPattern(c)},addCheckSum:function(){var a=this;a.checksum=(10-a.checkSum%10)%10,a.addCharacter(a.checksum)},setBaseUnit:function(){var a=this,b=3;a.baseUnit=a.width/(10*(a.value.length+1)+b+a.quietZoneLength)},validate:function(a){var b=this;if(p.test(a)||b.invalidCharacterError(a.match(/[^0-9]/)[0]),g(a.length,b.VALID_CODE_LENGTHS)<0)throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+b.VALID_CODE_LENGTHS.join(","))},addPattern:function(a){for(var b,c=this,d=0;d<a.length;d++)b=c.height-c.baseHeight*a.charAt(d),c.pattern.push({width:1,y1:b,y2:c.height}),c.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),t.ean13=s.extend({initValue:function(a,b,c){if(a+="",12!=a.length||/\D/.test(a))throw new Error('The value of the "EAN13" encoding should be 12 symbols');var d=this;d.pattern=[],d.options.height=c,d.baseUnit=b/(95+d.quietZoneLength),d.value=a,d.checksum=d.calculateChecksum(),d.leftKey=a[0],d.leftPart=a.substr(1,6),d.rightPart=a.substr(7)+d.checksum},addData:function(){var a=this;a.addPieces(a.characterMap.start),a.addSide(a.leftPart,a.leftKey),a.addPieces(a.characterMap.middle),a.addSide(a.rightPart),a.addPieces(a.characterMap.start)},addSide:function(a,b){for(var c=this,d=0;d<a.length;d++)b&&parseInt(c.keyTable[b].charAt(d),10)?c.addPieces(Array.prototype.slice.call(c.characterMap.digits[a.charAt(d)]).reverse(),!0):c.addPieces(c.characterMap.digits[a.charAt(d)],!0)},addPieces:function(a,b){for(var c=this,d=0;d<a.length;d++)c.pattern.push(b?{y1:0,y2:.95*c.options.height,width:a[d]}:a[d])},calculateChecksum:function(){for(var a=0,b=0,c=this.value.split("").reverse().join(""),d=0;d<c.length;d++)d%2?b+=parseInt(c.charAt(d),10):a+=parseInt(c.charAt(d),10);var e=(10-(3*a+b)%10)%10;return e},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),t.ean8=t.ean13.extend({initValue:function(a,b,c){var d=this;if(7!=a.length||/\D/.test(a))throw new Error("Invalid value provided");d.value=a,d.options.height=c,d.checksum=d.calculateChecksum(d.value),d.leftPart=d.value.substr(0,4),d.rightPart=d.value.substr(4)+d.checksum,d.pattern=[],d.baseUnit=b/(67+d.quietZoneLength)}});var B=j.extend({init:function(b,c){var d=this;j.fn.init.call(d,b,c),
d.element=a(b),d.wrapper=d.element,d.element.addClass("k-barcode"),d.view=i.ViewFactory.current.create({},d.options.renderAs),d.setOptions(c)},setOptions:function(c){var d=this;if(d.type=(c.type||d.options.type).toLowerCase(),"upca"==d.type&&(d.type="ean13",c.value="0"+c.value),"upce"==d.type&&(d.type="ean8",c.value="0"+c.value),!t[d.type])throw new Error("Encoding "+d.type+"is not supported.");d.encoding=new t[d.type],d.options=a.extend(!0,d.options,c),c.value!==b&&d.redraw()},redraw:function(){var a=this,b=a.view;a._redraw(b),b.renderTo(a.element[0])},svg:function(){if(i.SVGView){var a=new i.SVGView;return this._redraw(a),a.render()}throw new Error("Unable to create SVGView. Check that joy.dataviz.svg.js is loaded.")},imageDataURL:function(){if(i.CanvasView){if(i.supportsCanvas()){var a=document.createElement("div"),b=new i.CanvasView;return this._redraw(b),b.renderTo(a).toDataURL()}return d.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw new Error("Unable to create CanvasView. Check that joy.dataviz.canvas.js is loaded.")},getSize:function(){return d.dimensions(this.element)},_resize:function(){this.redraw()},_redraw:function(a){var c,d,e=this,f=e.options,g=f.text,h=e._getSize(),j=f.border||{},l=e.encoding,m=k(0,0,h.width,h.height).unpad(j.width).unpad(f.padding),n=m.height();e.contentBox=m,a.children=[],e._renderBackground(a,h);var o=i.measureText(m,{font:f.text.font}).height;g.visible&&(n-=o),c=l.encode(f.value,h.width-(f.padding.left+f.padding.right),n),g.visible&&(d=f.value,f.checksum&&l.checksum!==b&&(d+=" "+l.checksum),e._renderTextElement(a,d)),e.barHeight=n,a.options.width=h.width,a.options.height=h.height,e._renderElements(a,c.pattern,c.baseUnit)},_getSize:function(){var a=this,b=a.element,c={width:m,height:n};return b.width()>0&&(c.width=b.width()),b.height()>0&&(c.height=b.height()),a.options.width&&(c.width=a.options.width),a.options.height&&(c.height=a.options.height),c},value:function(a){var c=this;return a===b?c.options.value:(c.options.value=a+"",void c.redraw())},_renderElements:function(a,b,c){for(var d,e,f=this,g=0+f.options.padding.left,i=0;i<b.length;i++)e=h(b[i])?b[i]:{width:b[i],y1:0,y2:f.barHeight},d=e.width*c,i%2&&a.children.push(a.createRect(new k(g,e.y1+f.contentBox.y1,g+d,e.y2+f.contentBox.y1),{fill:f.options.color})),g+=d},_renderBackground:function(a,b){var c=this,d=c.options,e=d.border||{},f=k(0,0,b.width,b.height).unpad(e.width/2),g=a.createRect(f,{fill:d.background,stroke:e.width?e.color:"",strokeWidth:e.width,dashType:e.dashType});a.children.push(g)},_renderTextElement:function(a,b){var c=this,d=c.options.text,e=new l(b,{font:d.font,color:d.color,align:"center",vAlign:"bottom"});c.text=e,e.reflow(c.contentBox),e.box.unpad(d.margin),a.children.push(a.createText(b,{baseline:e.baseline,x:e.box.x1,y:e.box.y1,color:d.color,font:d.font}))},options:{name:"Barcode",renderAs:"canvas",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});d.ui.plugin(B),d.deepExtend(i,{encodings:t,Encoding:s})}(window.joy.jQuery),function(a,b){function c(){this._defaults={}}function d(a){return f(a).min}function e(a){return f(a).max}function f(a){var c,d,e=Vb,f=Wb,g=a.length;for(c=0;g>c;c++)d=a[c],null!==d&&isFinite(d)&&(e=V.min(e,d),f=V.max(f,d));return{min:e===Vb?b:e,max:f===Wb?b:f}}function g(a,b,c,d){var e,f,g=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x),h=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);return 0!==h&&(f=g/h,e=new sa(a.x+f*(b.x-a.x),a.y+f*(b.y-a.y))),e}function h(a,b){var c,d,e=a.series,f=e.length,g=a.seriesDefaults,h=ba({},a.seriesDefaults),j=b?ba({},b.seriesDefaults):{},k=ba({},j);for(i(h),i(k),c=0;f>c;c++){d=e[c].type||a.seriesDefaults.type;var l=ba({data:[]},k,j[d],{tooltip:a.tooltip},h,g[d]);e[c]._defaults=l,e[c]=ba({},l,e[c])}}function i(a){delete a.bar,delete a.column,delete a.line,delete a.verticalLine,delete a.pie,delete a.donut,delete a.area,delete a.verticalArea,delete a.scatter,delete a.scatterLine,delete a.bubble,delete a.candlestick,delete a.ohlc,delete a.boxPlot,delete a.bullet,delete a.verticalBullet,delete a.polarArea,delete a.polarLine,delete a.radarArea,delete a.radarLine}function j(a){var b,c,d,e,f=a.series,g=a.seriesColors||[];for(b=0;b<f.length;b++)c=f[b],d=g[b%g.length],c.color=c.color||d,e=c._defaults,e&&(e.color=e.color||d)}function k(a){var b;S([db,Uc,$c,_c],function(){b=this+"Axes",a[b]&&(a[this+"Axis"]=a[b],delete a[b])})}function l(b,c){var d=(c||{}).axisDefaults||{};S([db,Uc,$c,_c],function(){var c=this+"Axis",e=[].concat(b[c]),f=b.axisDefaults||{};e=a.map(e,function(a){var b=(a||{}).color,e=ba({},d,d[c],f,f[c],{line:{color:b},labels:{color:b},title:{color:b}},a);return delete e[c],e}),b[c]=e.length>1?e:e[0]})}function m(a){var b,c=a.length,d=0;for(b=0;c>b;b++)d=V.max(d,a[b].data.length);return d}function n(a){return a*a}function o(a,b){if(null===b)return b;var c=ca(a,!0);return c(b)}function p(a,b){if(null===b)return b;var c="_date_"+a,d=b[c];return d||(d=q(ca(a,!0)(b)),b[c]=d),d}function q(a){var b,c;if(a instanceof Date)b=a;else if(typeof a===Fc)b=Y.parseDate(a)||new Date(a);else if(a)if(T(a))for(b=[],c=0;c<a.length;c++)b.push(q(a[c]));else b=new Date(a);return b}function r(a){return T(a)?U(a,r):a?q(a).getTime():void 0}function s(a,b,c,d){var e,f=a;return a&&(a=q(a),e=a.getHours(),c===ad?f=new Date(a.getFullYear()+b,0,1):c===Yb?f=new Date(a.getFullYear(),a.getMonth()+b,1):c===Yc?(f=s(t(a,d),7*b,pb),Y.date.adjustDST(f,e)):c===pb?(f=new Date(a.getFullYear(),a.getMonth(),a.getDate()+b),Y.date.adjustDST(f,e)):c===Jb?(f=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()+b),b>0&&C(a,f)&&(f=s(a,b+1,c,d))):c===Xb?(f=new Date(a.getTime()+b*Hc),f.setSeconds(0)):c===vc&&(f=new Date(a.getTime()+b*Gc)),f.getMilliseconds()>0&&f.setMilliseconds(0)),f}function t(a,b){var c=a.getDay(),d=0;if(!isNaN(c))for(b=b||0;c!==b;)0===c?c=6:c--,d++;return x(a,-d*Jc)}function u(a,b,c){return a=q(a),s(a,0,b,c)}function v(a,b,c){return a=q(a),a&&u(a,b,c).getTime()===a.getTime()?a:s(a,1,b,c)}function w(a,b){var c=a.getTime()-b,d=a.getTimezoneOffset()-b.getTimezoneOffset();return c-d*Hc}function x(a,b){var c=a.getTimezoneOffset(),d=new Date(a.getTime()+b),e=d.getTimezoneOffset()-c;return new Date(d.getTime()+e*Hc)}function y(a,b,c){var d;return d=c===ad?b.getFullYear()-a.getFullYear():c===Yb?12*y(a,b,ad)+b.getMonth()-a.getMonth():V.floor(c===pb?w(b,a)/Jc:(b-a)/Nc[c])}function z(a){return 1===a.length?a[0]:a}function A(a){var b,c,d,e=a.length;if(e>0)for(c=0;e>c;c++)d=a[c].box,b?b.wrap(d):b=d.clone();return b||ja()}function B(a,b){return a&&b?a.toLowerCase()===b.toLowerCase():a===b}function C(a,b){return a&&b?r(a)===r(b):a===b}function D(a,b){null!==b&&a.push(b)}function E(a,b){for(var c,d,e=0,f=b.length-1;f>=e;)if(c=V.floor((e+f)/2),d=b[c],a>d)e=c+1;else{if(!(d>a)){for(;C(b[c-1],a);)c--;return c}f=c-1}return b[c]<=a?c:c-1}function F(a){return"number"==typeof a&&!isNaN(a)}function G(a){var b,c,d=a.length,e=0;for(b=0;d>b;b++)c=a[b],F(c)&&e++;return e}function H(a){return G(a)===a.length}function I(a){var b,c,d,e={};for(b=0;b<a.length;b++)c=a[b],d=c.options.name,d&&(e[d]=c.range());return e}function J(a,b,c,d){var e,f,g,h,i,j=!1;if(c=c||{},g=c.excluded=c.excluded||[],h=c.defaults=c.defaults||{},i=c.depth=c.depth||0,!(i>Ub)){for(e in a)!Ga(e,c.excluded)&&a.hasOwnProperty(e)&&(f=a[e],da(f)?(j=!0,d||(a[e]=Oa(f(b),h[e]))):typeof f===ic&&(c.defaults=h[e],c.depth++,j=J(f,b,c,d)||j,c.depth--));return j}}function K(a,c){var d,e,f,g=[],h=a.groupNameTemplate,i=c.length;for(Ca(h)?(Y.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),h&&(d=ea(h))):(d=ea(a.name||""),0===d._slotCount&&(d=ea(Ca(a.name)?"#= group.value #: #= series.name #":"#= group.value #"))),e=0;i>e;e++)f=ba({},a),f.color=b,f._groupIx=e,g.push(f),d&&(f.name=d({series:f,group:c[e]}));return g}function L(a,b){var c,d,e=[];for(b=[].concat(b),c=0;c<a.length;c++)d=a[c],Ga(d.type,b)&&e.push(d);return e}function M(b,c){if(b instanceof Date){for(var d=0,e=c.length;e>d;d++)if(C(c[d],b))return d;return-1}return a.inArray(b,c)}function N(a,b){b=b||Da;for(var c=1,d=a.length;d>c;c++)if(b(a[c],a[c-1])<0){a.sort(b);break}return a}function O(a,b){var c,d=N(a,b),e=d.length,f=e>0?[d[0]]:[];for(b=b||Da,c=1;e>c;c++)0!==b(d[c],Ia(f))&&f.push(d[c]);return f}function P(a,b){var c=a.type,d=b instanceof Date;return!c&&d||B(c,ob)}function Q(a){var b,c,d,e,f=[],g=a.length;for(b=0;g>b;b++)for(c=a[b],e=c.length,d=0;e>d;d++)f[d]=f[d]||[],f[d].push(c[d]);return f}function R(a,b){if(a.indexOf(".")>-1)for(var c,d=a.split("."),e="";d.length>1;)e+=d.shift(),c=Y.getter(e)(b)||{},Y.setter(e)(b,c),e+="."}var S=a.each,T=a.isArray,U=a.map,V=Math,W=a.extend,X=a.proxy,Y=window.joy,Z=Y.Class,$=Y.Observable,_=Y.data.DataSource,aa=Y.ui.Widget,ba=Y.deepExtend,ca=Y.getter,da=Y.isFunction,ea=Y.template,fa=Y.dataviz,ga=fa.Axis,ha=fa.AxisLabel,ia=fa.BarAnimation,ja=fa.Box2D,ka=fa.BoxElement,la=fa.ChartElement,ma=fa.Color,na=fa.CurveProcessor,oa=fa.ElementAnimation,pa=fa.Note,qa=fa.LogarithmicAxis,ra=fa.NumericAxis,sa=fa.Point2D,ta=fa.RootElement,ua=fa.Ring,va=fa.ShapeElement,wa=fa.Text,xa=fa.TextBox,ya=fa.Title,za=fa.animationDecorator,Aa=fa.append,Ba=fa.autoFormat,Ca=fa.defined,Da=fa.dateComparer,Ea=fa.getElement,Fa=fa.getSpacing,Ga=fa.inArray,Ha=fa.interpolateValue,Ia=fa.last,Ja=fa.limitValue,Ka=fa.mwDelta,La=fa.round,Ma=fa.renderTemplate,Na=fa.uniqueId,Oa=fa.valueOrDefault,Pa=".joyChart",Qa="above",Ra="area",Sa="auto",Ta="fit",Ua=fa.AXIS_LABEL_CLICK,Va="bar",Wa=.8,Xa="below",Ya="#000",Za="both",$a="bottom",_a="boxPlot",ab="bubble",bb="bullet",cb="candlestick",db="category",eb="center",fb="change",gb="circle",hb=fa.CLIP,ib="color",jb="column",kb=fa.COORD_PRECISION,lb="cross",mb="k-",nb="dataBound",ob="date",pb="days",qb=fa.DEFAULT_FONT,rb=fa.DEFAULT_HEIGHT,sb=fa.DEFAULT_PRECISION,tb=fa.DEFAULT_WIDTH,ub=4,vb="donut",wb=50,xb="drag",yb="dragEnd",zb="dragStart",Ab="errorLow",Bb="errorHigh",Cb="xErrorLow",Db="xErrorHigh",Eb="yErrorLow",Fb="yErrorHigh",Gb="fadeIn",Hb="funnel",Ib="glass",Jb="hours",Kb=fa.INITIAL_ANIMATION_DURATION,Lb="insideBase",Mb="insideEnd",Nb="interpolate",Ob="left",Pb="legendItemClick",Qb="legendItemHover",Rb="line",Sb=8,Tb="log",Ub=5,Vb=Number.MAX_VALUE,Wb=-Number.MAX_VALUE,Xb="minutes",Yb="months",Zb="mouseleave"+Pa,$b="mousemove.tracking",_b="mouseover"+Pa,ac="mouseout"+Pa,bc="mousemove"+Pa,cc=20,dc=150,ec="DOMMouseScroll"+Pa+" mousewheel"+Pa,fc=fa.NOTE_CLICK,gc=fa.NOTE_HOVER,hc="noteText",ic="object",jc="ohlc",kc="outsideEnd",lc="_outline",mc="pie",nc=70,oc="plotAreaClick",pc="pointer",qc="right",rc="roundedBevel",sc="roundedGlass",tc="scatter",uc="scatterLine",vc="seconds",wc="selectStart",xc="select",yc="selectEnd",zc="seriesClick",Ac="seriesHover",Bc="step",Cc="smooth",Dc="stderr",Ec="stddev",Fc="string",Gc=1e3,Hc=60*Gc,Ic=60*Hc,Jc=24*Ic,Kc=7*Jc,Lc=31*Jc,Mc=365*Jc,Nc={years:Mc,months:Lc,weeks:Kc,days:Jc,hours:Ic,minutes:Hc,seconds:Gc},Oc="top",Pc=150,Qc=5,Rc=100,Sc=100,Tc="tooltip-inverse",Uc="value",Vc="verticalArea",Wc="verticalBullet",Xc="verticalLine",Yc="weeks",Zc="#fff",$c="x",_c="y",ad="years",bd="zero",cd=3,dd="zoomStart",ed="zoom",fd="zoomEnd",gd=[vc,Xb,Jb,pb,Yc,Yb,ad],hd=[Va,jb,jc,cb,_a,bb],id={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},jd=aa.extend({init:function(a,b){var c,d=this;Y.destroy(a),aa.fn.init.call(d,a),c=ba({},d.options,b),d.element.addClass(mb+c.name.toLowerCase()).css("position","relative"),d._originalOptions=ba({},c),d._initTheme(c),d.bind(d.events,d.options),d.wrapper=d.element,d._initDataSource(b),Y.notify(d,fa.ui)},_initTheme:function(c){var d,e=this,f=fa.ui.themes||{},g=c.theme,h=f[g]||f[g.toLowerCase()],i=g&&h?h.chart:{},l=[],m=c.series||[];for(d=0;d<m.length;d++)l.push(a.extend({},m[d]));c.series=l,k(c),e._applyDefaults(c,i),null===c.seriesColors&&(c.seriesColors=b),e.options=ba({},i,c),j(e.options)},_initDataSource:function(a){var b=this,c=(a||{}).dataSource;b._dataChangeHandler=X(b._onDataChanged,b),b.dataSource=_.create(c).bind(fb,b._dataChangeHandler),b._bindCategories(),b._redraw(),b._attachEvents(),c&&b.options.autoBind&&b.dataSource.fetch()},setDataSource:function(a){var b=this;b.dataSource.unbind(fb,b._dataChangeHandler),b.dataSource=b._originalOptions.dataSource=a,a.bind(fb,b._dataChangeHandler),b.options.autoBind&&a.fetch()},events:[nb,zc,Ac,Ua,Pb,Qb,oc,zb,xb,yb,dd,ed,fd,wc,xc,yc,fc,gc],items:function(){return a()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:jb,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var a=this;a._applyDefaults(a.options),j(a.options),a._bindSeries(),a._bindCategories(),a.trigger(nb),a._redraw()},getSize:function(){return Y.dimensions(this.element)},_resize:function(){var a=this.options.transitions;this.options.transitions=!1,this._redraw(),this.options.transitions=a},redraw:function(a){var b,c,d=this;d._applyDefaults(d.options),j(d.options),a?(c=d._model._plotArea,b=c.findPane(a),c.redraw(b)):d._redraw()},_redraw:function(){var a,b=this,c=b._getModel();b._destroyView(),b._model=c,b._plotArea=c._plotArea,a=b._view=fa.ViewFactory.current.create(c.options,b.options.renderAs),a&&(a.load(c),b._viewElement=b._renderView(a),b._tooltip=b._createTooltip(),b._highlight=new qe(a,b._viewElement),b._setupSelection())},_sharedTooltip:function(){var a=this,b=a.options;return a._plotArea instanceof ge&&b.tooltip.shared},_createTooltip:function(){var a,b=this,c=b.options,d=b.element;return a=b._sharedTooltip()?new te(d,b._plotArea,c.tooltip):new se(d,c.tooltip)},_renderView:function(){var a=this;return a._view.renderTo(a.element[0])},_applyDefaults:function(a,b){l(a,b),h(a,b)},_getModel:function(){var a,b=this,c=b.options,d=new ta(b._modelOptions());return d.parent=b,ya.buildTitle(c.title,d),a=d._plotArea=b._createPlotArea(),c.legend.visible&&d.append(new od(a.options.legend)),d.append(a),d.reflow(),d},_modelOptions:function(){var a=this,b=a.options,c=a.element,d=V.floor(c.height()),e=V.floor(c.width());return ba({width:e||tb,height:d||rb,transitions:b.transitions},b.chartArea)},_createPlotArea:function(){var a=this,b=a.options;return kd.current.create(b.series,b)},_setupSelection:function(){var a,b,c,d,e,f,g=this,h=g._plotArea,i=h.axes,j=g._selections=[];for(g._selectStartHandler||(g._selectStartHandler=X(g._selectStart,g),g._selectHandler=X(g._select,g),g._selectEndHandler=X(g._selectEnd,g)),b=0;b<i.length;b++)c=i[b],f=c.options,c instanceof pd&&f.select&&!f.vertical&&(d=0,e=f.categories.length-1,c instanceof qd&&(d=f.categories[d],e=f.categories[e]),f.justified||(c instanceof qd?e=s(e,1,f.baseUnit,f.weekStartDay):e++),a=new xe(g,c,ba({min:d,max:e},f.select)),a.bind(wc,g._selectStartHandler),a.bind(xc,g._selectHandler),a.bind(yc,g._selectEndHandler),j.push(a))},_selectStart:function(a){return this.trigger(wc,a)},_select:function(a){return this.trigger(xc,a)},_selectEnd:function(a){return this.trigger(yc,a)},_attachEvents:function(){var a=this,b=a.element;b.on(_b,X(a._mouseover,a)),b.on(ac,X(a._mouseout,a)),b.on(ec,X(a._mousewheel,a)),b.on(Zb,X(a._mouseleave,a)),a._shouldAttachMouseMove()&&b.on(bc,X(a._mousemove,a)),Y.UserEvents&&(a._userEvents=new Y.UserEvents(b,{global:!0,filter:":not(.k-selector)",multiTouch:!1,tap:X(a._tap,a),start:X(a._start,a),move:X(a._move,a),end:X(a._end,a)}))},_mouseout:function(a){var b=this,c=b._model.modelMap[a.target.getAttribute("data-model-id")];c&&c.leave&&c.leave(b,a)},_start:function(a){var b=this,c=b._events;Ca(c[zb]||c[xb]||c[yb])&&b._startNavigation(a,zb)},_move:function(a){var b,c,d,e,f,g,h=this,i=h._navState,j={};if(i){for(a.preventDefault(),b=i.axes,c=0;c<b.length;c++)d=b[c],e=d.options.name,e&&(f=d.options.vertical?a.y:a.x,g=f.startLocation-f.location,0!==g&&(j[d.options.name]=d.translateRange(g)));i.axisRanges=j,h.trigger(xb,{axisRanges:j,originalEvent:a})}},_end:function(a){this._endNavigation(a,yb)},_mousewheel:function(a){var b,c,d,e,f,g,h=this,i=a.originalEvent,j=Ka(a),k=h._navState,l={};if(k||(b=h._startNavigation(i,dd),b||(k=h._navState)),k){for(c=k.totalDelta||j,k.totalDelta=c+j,d=h._navState.axes,e=0;e<d.length;e++)f=d[e],g=f.options.name,g&&(l[g]=f.scaleRange(-c));h.trigger(ed,{delta:j,axisRanges:l,originalEvent:a}),h._mwTimeout&&clearTimeout(h._mwTimeout),h._mwTimeout=setTimeout(function(){h._endNavigation(a,fd)},dc)}},_startNavigation:function(a,b){var c,d,e,f=this,g=f._eventCoordinates(a),h=f._model._plotArea,i=h.findPointPane(g),j=h.axes.slice(0),k=!1;if(i){for(c=0;c<j.length;c++)if(d=j[c],d.box.containsPoint(g)){k=!0;break}!k&&h.backgroundBox().containsPoint(g)&&(e=f.trigger(b,{axisRanges:I(j),originalEvent:a}),e?f._userEvents.cancel():(f._suppressHover=!0,f._unsetActivePoint(),f._navState={pane:i,axes:j}))}},_endNavigation:function(a,b){var c=this;c._navState&&(c.trigger(b,{axisRanges:c._navState.axisRanges,originalEvent:a}),c._suppressHover=!1,c._navState=null)},_getChartElement:function(b){var c,d=this,e=a(b.target).data("modelId"),f=d._model;return e&&(c=f.modelMap[e]),c&&c.aliasFor&&(c=c.aliasFor(b,d._eventCoordinates(b))),c},_eventCoordinates:function(a){var b=this,c=Ca((a.x||{}).client),d=c?a.x.client:a.clientX,e=c?a.y.client:a.clientY;return b._toModelCoordinates(d,e)},_toModelCoordinates:function(b,c){var d=this.element,e=d.offset(),f=parseInt(d.css("paddingLeft"),10),g=parseInt(d.css("paddingTop"),10),h=a(window);return new sa(b-e.left-f+h.scrollLeft(),c-e.top-g+h.scrollTop())},_tap:function(a){var b=this,c=b._getChartElement(a);b._activePoint===c?b._click(a):(b._startHover(a)||b._unsetActivePoint(),b._click(a))},_click:function(a){for(var b=this,c=b._getChartElement(a);c;)c.click&&c.click(b,a),c=c.parent},_startHover:function(a){var b,c=this,d=c._tooltip,e=c._highlight,f=c.options.tooltip;if(!c._suppressHover&&e&&!Ga(a.target,e._overlays)&&!c._sharedTooltip())return b=c._getChartElement(a),b&&b.hover&&(b.hover(c,a),!a.isDefaultPrevented())?(c._activePoint=b,f=ba({},f,b.options.tooltip),f.visible&&d.show(b),e.show(b),!0):void 0},_mouseover:function(b){var c=this;c._startHover(b)&&a(document).on($b,X(c._mouseMoveTracking,c))},_mouseMoveTracking:function(b){var c,d,e,f=this,g=f.options,h=f._tooltip,i=f._highlight,j=f._eventCoordinates(b),k=f._activePoint;f._plotArea.box.containsPoint(j)?k&&k.series&&Ga(k.series.type,[Rb,Ra])&&(d=k.parent,e=d.getNearestPoint(j.x,j.y,k.seriesIx),e&&e!=k&&(e.hover(f,b),f._activePoint=e,c=ba({},g.tooltip,k.options.tooltip),c.visible&&h.show(e),i.show(e))):(a(document).off($b),f._unsetActivePoint())},_mousemove:function(a){var b=this,c=new Date,d=b._mousemove.timestamp;if(!d||c-d>cc){var e=b._eventCoordinates(a);b._trackCrosshairs(e),b._sharedTooltip()&&b._trackSharedTooltip(e),b._mousemove.timestamp=c}},_trackCrosshairs:function(a){var b,c,d=this._plotArea.crosshairs;for(b=0;b<d.length;b++)c=d[b],c.box.containsPoint(a)?c.showAt(a):c.hide()},_trackSharedTooltip:function(a){var b,c,d=this,e=d.options,f=d._plotArea,g=f.categoryAxis,h=d._tooltip,i=e.tooltip,j=d._highlight;f.box.containsPoint(a)&&(b=g.pointCategoryIndex(a),b!==d._tooltipCategoryIx&&(c=f.pointsByCategoryIndex(b),c.length>0?(i.visible&&h.showAt(c,a),j.show(c)):h.hide(),d._tooltipCategoryIx=b))},_mouseleave:function(a){var b,c=this,d=c._plotArea,e=d.crosshairs,f=c._tooltip,g=c._highlight;if(a.relatedTarget){for(b=0;b<e.length;b++)e[b].hide();setTimeout(X(f.hide,f),Sc),g.hide(),c._tooltipCategoryIx=null}},_unsetActivePoint:function(){var a=this,b=a._tooltip,c=a._highlight;a._activePoint=null,b&&b.hide(),c&&c.hide()},_onDataChanged:function(){var a,b,c=this,d=c.options,e=c._sourceSeries||d.series,f=e.length,g=c.dataSource.view(),h=(c.dataSource.group()||[]).length>0,i=[];for(a=0;f>a;a++)b=e[a],c._isBindable(b)&&h?Aa(i,K(b,g)):i.push(b||[]);c._sourceSeries=e,d.series=i,j(c.options),c._bindSeries(),c._bindCategories(),c.trigger(nb),c._redraw()},_bindSeries:function(){var a,b,c,d,e=this,f=e.dataSource.view(),g=e.options.series,h=g.length;for(a=0;h>a;a++)b=g[a],e._isBindable(b)&&(c=b._groupIx,d=Ca(c)?(f[c]||{}).items:f,b.autoBind!==!1&&(b.data=d))},_bindCategories:function(){var a,b,c=this,d=c.dataSource.view()||[],e=(c.dataSource.group()||[]).length>0,f=d,g=c.options,h=[].concat(g.categoryAxis);for(e&&d.length&&(f=d[0].items),a=0;a<h.length;a++)b=h[a],b.autoBind!==!1&&c._bindCategoryAxis(b,f,a)},_bindCategoryAxis:function(a,b,c){var d,e,f,g=(b||[]).length;if(a.field)for(a.categories=[],d=0;g>d;d++)f=b[d],e=o(a.field,f),0===d?(a.categories=[e],a.dataItems=[f]):(a.categories.push(e),a.dataItems.push(f));else this._bindCategoryAxisFromSeries(a,c)},_bindCategoryAxisFromSeries:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this,q=[],r=n.options.series,s=r.length,t={};for(d=0;s>d;d++)if(e=r[d],f=e.categoryAxis===a.name||!e.categoryAxis&&0===b,g=e.data,i=g.length,e.categoryField&&f&&i>0)for(m=P(a,o(e.categoryField,g[0])),l=m?p:o,h=0;i>h;h++)j=g[h],k=l(e.categoryField,j),(m||!t[k])&&(q.push([k,j]),m||(t[k]=!0));q.length>0&&(m&&(q=O(q,function(a,b){return Da(a[0],b[0])})),c=Q(q),a.categories=c[0],a.dataItems=c[1])},_isBindable:function(a){var b,c,d=ld.current.valueFields(a),e=!0;for(c=0;c<d.length;c++)if(b=d[c],b===Uc?b="field":b+="Field",!Ca(a[b])){e=!1;break}return e},_legendItemClick:function(a,b){var c,d,e,f=this,g=f._plotArea,h=(g.srcSeries||g.series)[a],i=(f._sourceSeries||[])[a]||h;Ga(h.type,[mc,vb,Hb])?(e=i.data[b],d=Ca(e.visible)?!e.visible:!1,e.visible=d):(d=!i.visible,i.visible=d,h.visible=d),f.options.transitions&&(f.options.transitions=!1,c=!0),f.redraw(),c&&(f.options.transitions=!0)},_legendItemHover:function(a,b){var c,d,e=this,f=e._plotArea,g=e._highlight,h=(f.srcSeries||f.series)[a];c=Ga(h.type,[mc,vb,Hb])?b:a,d=f.pointsBySeriesIndex(c),g.show(d)},_shouldAttachMouseMove:function(){var a=this;return a._plotArea.crosshairs.length||a._tooltip&&a._sharedTooltip()},setOptions:function(b){var c=this;c._originalOptions=ba(c._originalOptions,b),c.options=ba({},c._originalOptions),c._sourceSeries=null,a(document).off(bc),aa.fn._setEvents.call(c,b),c._initTheme(c.options),b.dataSource&&c.setDataSource(_.create(b.dataSource)),c._shouldAttachMouseMove()&&c.element.on(bc,X(c._mousemove,c)),c.options.dataSource?c.refresh():c.redraw()},destroy:function(){var b=this,c=b.dataSource;b.element.off(Pa),c.unbind(fb,b._dataChangeHandler),a(document).off($b),b._userEvents&&b._userEvents.destroy(),b._destroyView(),aa.fn.destroy.call(b)},_destroyView:function(){var a=this,b=a._model,c=a._view,d=a._selections;if(b&&(b.destroy(),a._model=null),c&&(c.destroy(),a._view=null),d)for(;d.length>0;)d.shift().destroy()}});ba(jd.fn,fa.ExportMixin);var kd=Z.extend({init:function(){this._registry=[]},register:function(a,b){this._registry.push({type:a,seriesTypes:b})},create:function(a,b){var c,d,e,f=this._registry,g=f[0];for(c=0;c<f.length;c++)if(d=f[c],e=L(a,d.seriesTypes),e.length>0){g=d;break}return new g.type(e,b)}});kd.current=new kd;var ld=Z.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(a,c,d){var e,f,g=this;for(c=c||[Uc],e=0;e<a.length;e++)f=a[e],g._valueFields[f]=c,g._otherFields[f]=d,g._nullValue[f]=g._makeValue(c,null),g._undefinedValue[f]=g._makeValue(c,b)},canonicalFields:function(a){return this.valueFields(a).concat(this.otherFields(a))},valueFields:function(a){return this._valueFields[a.type]||[Uc]},otherFields:function(a){return this._otherFields[a.type]||[Uc]},bindPoint:function(a,b){var c,d,e,f,g,h=this,i=a.data,j=i[b],k={valueFields:{value:j}},l=h.valueFields(a),m=h._otherFields[a.type];return null===j?g=h._nullValue[a.type]:Ca(j)?T(j)?(d=j.slice(l.length),g=h._bindFromArray(j,l),c=h._bindFromArray(d,m)):typeof j===ic&&(e=h.sourceFields(a,l),f=h.sourceFields(a,m),g=h._bindFromObject(j,l,e),c=h._bindFromObject(j,m,f)):g=h._undefinedValue[a.type],Ca(g)&&(1===l.length?k.valueFields.value=g[l[0]]:k.valueFields=g),k.fields=c||{},k},_makeValue:function(a,b){var c,d,e={},f=a.length;for(c=0;f>c;c++)d=a[c],e[d]=b;return e},_bindFromArray:function(a,b){var c,d,e={};if(b)for(d=V.min(b.length,a.length),c=0;d>c;c++)e[b[c]]=a[c];return e},_bindFromObject:function(a,b,c){var d,e,f,g,h={};if(b)for(e=b.length,c=c||b,d=0;e>d;d++)f=b[d],g=c[d],h[f]=o(g,a);return h},sourceFields:function(a,b){var c,d,e,f,g;if(b)for(d=b.length,f=[],c=0;d>c;c++)e=b[c],g=e===Uc?"field":e+"Field",f.push(a[g]||e);return f}});ld.current=new ld;var md=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.append(new xa(a,c.options))},options:{position:kc,margin:Fa(3),padding:Fa(4),color:Ya,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:Gb,delay:Kb},zIndex:1},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=c.aboveAxis,f=b.children[0],g=f.box,h=f.options.padding;f.options.align=d?eb:Ob,f.options.vAlign=d?Oc:eb,c.position==Mb?d?(f.options.vAlign=Oc,!e&&g.height()<a.height()&&(f.options.vAlign=$a)):f.options.align=e?qc:Ob:c.position==eb?(f.options.vAlign=eb,f.options.align=eb):c.position==Lb?d?f.options.vAlign=e?$a:Oc:f.options.align=e?Ob:qc:c.position==kc&&(d?a=e?new ja(a.x1,a.y1-g.height(),a.x2,a.y1):new ja(a.x1,a.y2,a.x2,a.y2+g.height()):(f.options.align=eb,a=e?new ja(a.x2+g.width(),a.y1,a.x2,a.y2):new ja(a.x1-g.width(),a.y1,a.x1,a.y2))),d?h.left=h.right=(a.width()-f.contentBox.width())/2:h.top=h.bottom=(a.height()-f.contentBox.height())/2,f.reflow(a)}}),nd=wa.extend({init:function(a,b){var c=this;c.item=a,wa.fn.init.call(c,a.text,ba({id:Na(),cursor:{style:pc}},b)),c.enableDiscovery()},click:function(a,b){var c=this.eventArgs(b);a.trigger(Pb,c)||(b.preventDefault(),a._legendItemClick(c.seriesIndex,c.pointIndex))},hover:function(a,b){var c=this.eventArgs(b);a.trigger(Qb,c)||(b.preventDefault(),a._legendItemHover(c.seriesIndex,c.pointIndex))},leave:function(a){a._unsetActivePoint()},eventArgs:function(b){var c=this.item;return{element:a(b.target),text:c.text,series:c.series,seriesIndex:c.series.index,pointIndex:c.pointIndex}}}),od=la.extend({init:function(a){var b=this;la.fn.init.call(b,a),b.createLabels()},options:{position:qc,items:[],labels:{},offsetX:0,offsetY:0,margin:Fa(10),padding:Fa(5),border:{color:Ya,width:0},background:"",zIndex:1,markers:{border:{width:1}}},createLabels:function(){var a,b,c=this,d=c.options.items,e=d.length;for(a=0;e>a;a++)b=d[a],c.append(new nd(b,ba({},c.options.labels,{color:b.labelColor})))},reflow:function(a){var b=this,c=b.options,d=b.children.length;return 0===d?void(b.box=a.clone()):"custom"==c.position?void b.customLayout(a):void(c.position==Oc||c.position==$a?b.horizontalLayout(a):b.verticalLayout(a))},getViewElements:function(a){var b,c,d,e,f,g,h,i=this,j=i.children,k=i.options,l=k.items,m=l.length,n=i.markerSize(),o=a.createGroup({zIndex:k.zIndex}),p=k.border||{};for(Aa(o.children,la.fn.getViewElements.call(i,a)),h=0;m>h;h++)e=l[h].markerColor,f=j[h],c=ja(),g=f.box,d=d?d.wrap(g):g.clone(),c.x1=g.x1-2*n,c.x2=c.x1+n,c.y1=k.position==Oc||k.position==$a?g.y1+n/2:g.y1+(g.height()-n)/2,c.y2=c.y1+n,o.children.push(a.createRect(c,{fill:e,stroke:e,strokeWidth:k.markers.border.width,data:{modelId:f.modelId},cursor:{style:pc}}));return j.length>0&&(b=Fa(k.padding),b.left+=2*n,d.pad(b),o.children.unshift(a.createRect(d,{stroke:p.width?p.color:"",strokeWidth:p.width,dashType:p.dashType,fill:k.background}))),[o]},verticalLayout:function(a){var b,c,d,e,f=this,g=f.options,h=f.children,i=h.length,j=h[0].box.clone(),k=Fa(g.margin),l=2*f.markerSize();for(e=1;i>e;e++)d=f.children[e],d.box.alignTo(f.children[e-1].box,$a),j.wrap(d.box);g.position==Ob?(b=a.x1+l+k.left,c=(a.y2-j.height())/2,j.x2+=l+k.left+k.right):(b=a.x2-j.width()-k.right,c=(a.y2-j.height())/2,j.translate(b,c),j.x1-=l+k.left),f.translateChildren(b+g.offsetX,c+g.offsetY);var m=j.width();j.x1=V.max(a.x1,j.x1),j.x2=j.x1+m,j.y1=a.y1,j.y2=a.y2,f.box=j},horizontalLayout:function(a){var b,c,d,e,f=this,g=f.options,h=f.children,i=h.length,j=h[0].box.clone(),k=3*f.markerSize(),l=Fa(g.margin),m=h[0].box.width()+k,n=a.width(),o=0;for(e=1;i>e;e++)d=h[e],m+=d.box.width()+k,m>n-k?(d.box=ja(j.x1,j.y2,j.x1+d.box.width(),j.y2+d.box.height()),m=d.box.width()+k,o=d.box.y1):(d.box.alignTo(h[e-1].box,qc),d.box.y2=o+d.box.height(),d.box.y1=o,d.box.translate(k,0)),j.wrap(d.box);b=(a.width()-j.width()+k)/2,g.position===Oc?(c=a.y1+l.top,j.y2=a.y1+j.height()+l.top+l.bottom,j.y1=a.y1):(c=a.y2-j.height()-l.bottom,j.y1=a.y2-j.height()-l.top-l.bottom,j.y2=a.y2),f.translateChildren(b+g.offsetX,c+g.offsetY),j.x1=a.x1,j.x2=a.x2,f.box=j},customLayout:function(a){var b,c=this,d=c.options,e=c.children,f=e.length,g=e[0].box.clone(),h=2*c.markerSize();for(b=1;f>b;b++)g=c.children[b].box,g.alignTo(c.children[b-1].box,$a),g.wrap(g);c.translateChildren(d.offsetX+h,d.offsetY),c.box=a},markerSize:function(){var a=this,b=a.children;return b.length>0?b[0].box.height()/2:0}}),pd=ga.extend({init:function(a){var b=this;ga.fn.init.call(b,a),a=b.options,a.categories=a.categories.slice(0),b._ticks={}},options:{type:db,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Ya},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(a){var b,c=this,d=c.options,e=d.vertical,f=d.justified,g=c.lineBox(),h=e?g.height():g.width(),i=a-(f?1:0),j=h/i,k=e?_c:$c,l=g[k+1],m=[];for(b=0;a>b;b++)m.push(La(l,kb)),l+=j;return f||m.push(g[k+2]),d.reverse?m.reverse():m},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var a,b=this,c=b._ticks,d=b.options,e=d.categories.length,f=d.reverse,g=d.justified,h=b.lineBox();return a=h.getHash()+e+f+g,c._hash!==a&&(c._hash=a,c.majorTicks=b.getTickPositions(e),c.minorTicks=b.getTickPositions(2*e)),c},getSlot:function(a,b){var c,d,e,f=this,g=f.options,h=f.getTicks().majorTicks,i=g.reverse,j=g.justified,k=g.vertical?_c:$c,l=f.lineBox(),m=l[k+(i?2:1)],n=l[k+(i?1:2)],o=l.clone(),p=V.max(1,h.length-(j?0:1)),q=!Ca(b);return a=Oa(a,0),b=Oa(b,a),a=Ja(a,0,p),b=Ja(b-1,a,p),b=V.max(a,b),c=0===a?m:h[a]||n,d=j?c:h[b],e=b-a,(e>0||a===b)&&(d=h[b+1]||n),q&&j&&(a===p?c=d:d=c),o[k+1]=i?d:c,o[k+2]=i?c:d,o},pointCategoryIndex:function(a){var b,c,d,e,f=this,g=f.options,h=g.reverse,i=g.vertical,j=i?_c:$c,k=f.lineBox(),l=k[j+1],m=k[j+2],n=a[j],o=f.getMajorTickPositions(),p=Vb;if(l>n||n>m)return null;for(d=0;d<o.length;d++)if(b=o[d],c=o[d+1],Ca(c)||(c=h?l:m),h&&(b=c,c=o[d]),g.justified){if(n===c){e=V.max(0,i?o.length-d-1:d+1);break}V.abs(n-b)<p&&(p=n-b,e=d)}else if(n>=b&&c>=n){e=d;break}return e},getCategory:function(a){var b=this.pointCategoryIndex(a);return null===b?null:this.options.categories[b]},categoryIndex:function(a){return M(a,this.options.categories)},translateRange:function(a){var b=this,c=b.options,d=b.lineBox(),e=c.vertical?d.height():d.width(),f=c.categories.length,g=e/f,h=La(a/g,sb);return{min:h,max:f+h}},scaleRange:function(a){var b=this,c=b.options,d=c.categories.length,e=a*d;return{min:-e,max:d+e}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(a,b){var c=this,d=c.options,e=d.dataItems?d.dataItems[a]:null,f=Oa(d.categories[a],""),g=c.axisLabelText(f,e,b);return new ha(f,g,a,e,b)},shouldRenderNote:function(a){var b=this.options.categories;return b.length&&b.length>a&&a>=0}}),qd=pd.extend({init:function(a){var b,c,d=this;a=a||{},a=ba({roundToBaseUnit:!0},a,{categories:q(a.categories),min:q(a.min),max:q(a.max)}),a.categories&&a.categories.length>0?(b=(a.baseUnit||"").toLowerCase(),c=b!==Ta&&!Ga(b,gd),c&&(a.baseUnit=d.defaultBaseUnit(a)),(b===Ta||a.baseUnitStep===Sa)&&d.autoBaseUnit(a),
d.groupCategories(a)):a.baseUnit=a.baseUnit||pb,pd.fn.init.call(d,a)},options:{type:ob,labels:{dateFormats:id},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(a){var b=this,c=b.range(),d=b.options.categories||[];return Da(a,c.min)>=0&&Da(a,c.max)<=0&&d.length},parseNoteValue:function(a){return q(a)},translateRange:function(a){var b,c,d=this,e=d.options,f=e.baseUnit,g=e.weekStartDay,h=d.lineBox(),i=e.vertical?h.height():h.width(),j=d.range(),k=i/(j.max-j.min),l=La(a/k,sb);return j.min&&j.max&&(b=x(e.min||j.min,l),c=x(e.max||j.max,l),j={min:s(b,0,f,g),max:s(c,0,f,g)}),j},scaleRange:function(a){var b,c=this,d=V.abs(a),e=c.range(),f=e.min,g=e.max;if(e.min&&e.max){for(;d--;)e=w(f,g),b=V.round(.1*e),0>a?(f=x(f,b),g=x(g,-b)):(f=x(f,-b),g=x(g,b));e={min:f,max:g}}return e},defaultBaseUnit:function(a){var b,c,d,e,f,g=a.categories,h=Ca(g)?g.length:0,i=Vb;for(b=0;h>b;b++)c=g[b],c&&e&&(d=w(c,e),d>0&&(i=V.min(i,d),f=i>=Mc?ad:i>=Lc-3*Jc?Yb:i>=Kc?Yc:i>=Jc?pb:i>=Ic?Jb:i>=Hc?Xb:vc)),e=c;return f||pb},_categoryRange:function(a){var b=a._range;return b||(b=a._range=f(a)),b},range:function(a){a=a||this.options;var b=a.categories,c=a.baseUnit===Ta,d=c?gd[0]:a.baseUnit,e=a.baseUnitStep||1,f=r(a.min),g=r(a.max),h=this._categoryRange(b),i=r(h.min),j=r(h.max);return a.roundToBaseUnit?{min:s(f||i,0,d,a.weekStartDay),max:s(g||j,e,d,a.weekStartDay)}:{min:q(f||i),max:q(g||this._srcMaxDate||j)}},autoBaseUnit:function(a){for(var b,c,d,e=this,f=e.range(ba({},a,{baseUnitStep:1})),g=a.baseUnit===Ta,h=0,i=g?gd[h++]:a.baseUnit,j=f.max-f.min,k=j/Nc[i],l=k,m=a.maxDateGroups||e.options.maxDateGroups,n=ba({},e.options.autoBaseUnitSteps,a.autoBaseUnitSteps);!c||k>m;)if(b=b||n[i].slice(0),d=b.shift())c=d,k=l/c;else{if(i===Ia(gd)){c=V.ceil(l/m);break}if(!g){k>m&&(c=V.ceil(l/m));break}i=gd[h++]||Ia(gd),l=j/Nc[i],b=null}a.baseUnitStep=c,a.baseUnit=i},_timeScale:function(){var a,b=this,c=b.range(),d=b.options,e=b.lineBox(),f=d.vertical,g=f?e.height():e.width();if(d.justified&&d._collapse!==!1){var h=this._categoryRange(d.categories),i=r(h.max);a=q(i)-c.min}else a=c.max-c.min;return g/a},getTickPositions:function(a){var b=this,c=b.options,d=c.categories,e=[];if(c.roundToBaseUnit||0===d.length)e=pd.fn.getTickPositions.call(b,a);else{var f,g,h=c.vertical,i=c.reverse,j=b.lineBox(),k=d[0].getTime(),l=Oa(c._collapse,c.justified),m=d.length-(l?1:0),n=b._timeScale(),o=(h?-1:1)*(i?-1:1),p=1===o?1:2,q=1===o?2:1,r=j[(h?_c:$c)+p],s=j[(h?_c:$c)+q],t=r;for(f=0;m>f;f++)g=d[f]-k,t=r+g*n*o,e.push(La(t,kb));Ia(e)!==s&&e.push(s)}return e},groupCategories:function(a){var b,c,d=this,f=a.categories,g=q(e(f)),h=a.baseUnit,i=a.baseUnitStep||1,j=d.range(a),k=j.max,l=[];for(b=j.min;k>b&&(l.push(b),c=s(b,i,h,a.weekStartDay),!(c>g)||a.max);b=c);a.roundToBaseUnit||C(Ia(l),k)||(c>k&&a._collapse!==!1?this._srcMaxDate=k:l.push(k)),a.srcCategories=f,a.categories=l},createAxisLabel:function(a,b){var c=this.options,d=c.dataItems?c.dataItems[a]:null,e=c.categories[a],f=c.baseUnit,g=!0,h=b.dateFormats[f];if(c.justified){var i=u(e,f,c.weekStartDay);g=C(i,e)}else c.roundToBaseUnit||(g=!C(this.range().max,e));if(g){b.format=b.format||h;var j=this.axisLabelText(e,d,b);if(j)return new ha(e,j,a,d,b)}},categoryIndex:function(a,b){var c,d,e=this,f=e.options,g=f.categories;return a=q(a),b=b||e.range(),c=f.roundToBaseUnit&&C(b.max,a),!a||a>b.max||a<b.min||c?-1:d=E(a,g)},getSlot:function(a,b){var c=this;return typeof a===ic&&(a=c.categoryIndex(a)),typeof b===ic&&(b=c.categoryIndex(b)),pd.fn.getSlot.call(c,a,b)}}),rd=ga.extend({init:function(a,b,c){var d=this;c=c||{},ba(c,{min:q(c.min),max:q(c.max),axisCrossingValue:q(c.axisCrossingValues||c.axisCrossingValue)}),c=d.applyDefaults(q(a),q(b),c),ga.fn.init.call(d,c)},options:{type:ob,labels:{dateFormats:id}},applyDefaults:function(a,c,d){var e=this,f=d.min||a,g=d.max||c,h=d.baseUnit||e.timeUnits(g-f),i=Nc[h],j=u(r(f)-1,h)||q(g),k=v(r(g)+1,h),l=d.majorUnit?d.majorUnit:b,m=l||fa.ceil(fa.autoMajorUnit(j.getTime(),k.getTime()),i)/i,n=y(j,k,h),o=fa.ceil(n,m),p=o-n,t=V.floor(p/2),w=p-t;return d.baseUnit||delete d.baseUnit,ba({baseUnit:h,min:s(j,-t,h),max:s(k,w,h),minorUnit:m/5},d,{majorUnit:m})},range:function(){var a=this.options;return{min:a.min,max:a.max}},getDivisions:function(a){var b=this.options;return V.floor(y(b.min,b.max,b.baseUnit)/a+1)},getTickPositions:function(a){var b,c=this,d=c.options,e=d.vertical,f=d.reverse,g=c.lineBox(),h=e?g.height():g.width(),i=y(d.min,d.max,d.baseUnit),j=h/i,k=a*j,l=c.getDivisions(a),m=(e?-1:1)*(f?-1:1),n=1===m?1:2,o=g[(e?_c:$c)+n],p=[];for(b=0;l>b;b++)p.push(La(o,kb)),o+=k*m;return p},getMajorTickPositions:function(){var a=this;return a.getTickPositions(a.options.majorUnit)},getMinorTickPositions:function(){var a=this;return a.getTickPositions(a.options.minorUnit)},getSlot:function(a,b,c){return ra.fn.getSlot.call(this,q(a),q(b),c)},getValue:function(a){var b=ra.fn.getValue.call(this,a);return null!==b?q(b):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(a,b){var c=this.options,d=a*c.majorUnit,e=s(c.min,d,c.baseUnit),f=b.dateFormats[c.baseUnit];b.format=b.format||f;var g=this.axisLabelText(e,null,b);return new ha(e,g,a,null,b)},timeUnits:function(a){var b=Jb;return a>=Mc?b=ad:a>=Lc?b=Yb:a>=Kc?b=Yc:a>=Jc&&(b=pb),b},translateRange:function(a){var b=this,c=b.options,d=c.baseUnit,e=c.weekStartDay,f=b.lineBox(),g=c.vertical?f.height():f.width(),h=b.range(),i=g/(h.max-h.min),j=La(a/i,sb),k=x(c.min,j),l=x(c.max,j);return{min:s(k,0,d,e),max:s(l,0,d,e)}},scaleRange:function(a){for(var b,c,d=this,e=d.options,f=V.abs(a),g=e.min,h=e.max;f--;)b=w(g,h),c=V.round(.1*b),0>a?(g=x(g,c),h=x(h,-c)):(g=x(g,-c),h=x(h,c));return{min:g,max:h}},shouldRenderNote:function(a){var b=this.range();return Da(a,b.min)>=0&&Da(a,b.max)<=0}}),sd=la.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function(a){var b,c,d=this,e=d.options,f=e.vertical,g=f?_c:$c,h=d.children,i=e.gap,j=e.spacing,k=h.length,l=k+i+j*(k-1),m=(f?a.height():a.width())/l,n=a[g+1]+m*(i/2);for(c=0;k>c;c++)b=(h[c].box||a).clone(),b[g+1]=n,b[g+2]=n+m,h[c].reflow(b),k-1>c&&(n+=m*j),n+=m}}),td=la.extend({options:{vertical:!0},reflow:function(a){var b,c=this.options,d=c.vertical,e=d?$c:_c,f=d?_c:$c,g=a[f+2],h=this.children,i=this.box=new ja,j=h.length;for(b=0;j>b;b++){var k,l=h[b];l.visible!==!1&&(k=l.box.clone(),k.snapTo(a,e),l.options&&(l.options.stackBase=g),0===b&&(i=this.box=k.clone()),l.reflow(k),i.wrap(k))}}}),ud={click:function(b,c){var d=this;b.trigger(zc,{value:d.value,percentage:d.percentage,category:d.category,series:d.series,dataItem:d.dataItem,element:a(c.target)})},hover:function(b,c){var d=this;b.trigger(Ac,{value:d.value,percentage:d.percentage,category:d.category,series:d.series,dataItem:d.dataItem,element:a(c.target)})}},vd={createNote:function(){var a=this,b=a.options.notes,c=a.noteText||b.label.text;b.visible!==!1&&Ca(c)&&null!==c&&(a.note=new pa(a.value,c,a.dataItem,a.category,a.series,a.options.notes),a.append(a.note))}},wd=la.extend({init:function(a,b){var c=this;la.fn.init.call(c),c.options=b,c.color=b.color||Zc,c.aboveAxis=Oa(c.options.aboveAxis,!0),c.value=a,c.id=Na(),c.enableDiscovery()},defaults:{border:{width:1},vertical:!0,overlay:{gradient:Ib},labels:{visible:!1},animation:{type:Va},opacity:1,notes:{label:{}}},render:function(){var a,b=this,c=b.value,d=b.options,e=d.labels,f=null!==c?c:"";b._rendered||(b._rendered=!0,e.visible&&(e.template?(a=ea(e.template),f=a({dataItem:b.dataItem,category:b.category,value:b.value,percentage:b.percentage,series:b.series})):e.format&&(f=Ba(e.format,f)),b.label=new md(f,ba({vertical:d.vertical,id:Na()},d.labels)),b.append(b.label)),b.createNote(),b.errorBar&&b.append(b.errorBar))},reflow:function(a){this.render();var b=this,c=(b.options,b.label);if(b.box=a,c&&(c.options.aboveAxis=b.aboveAxis,c.reflow(a)),b.note&&b.note.reflow(a),b.errorBars)for(var d=0;d<b.errorBars.length;d++)b.errorBars[d].reflow(a)},getViewElements:function(a){var b=this,c=b.options,d=c.vertical,e=c.border.width>0?{stroke:b.getBorderColor(),strokeWidth:c.border.width,strokeOpacity:c.border.opacity,dashType:c.border.dashType}:{},f=b.box,g=ba({id:b.id,fill:b.color,fillOpacity:c.opacity,strokeOpacity:c.opacity,vertical:c.vertical,aboveAxis:b.aboveAxis,stackBase:c.stackBase,animation:c.animation,data:{modelId:b.modelId}},e),h=[];return b.visible!==!1&&(f.width()>0&&f.height()>0&&(c.overlay&&(g.overlay=ba({rotation:d?0:90},c.overlay)),h.push(a.createRect(f,g))),Aa(h,la.fn.getViewElements.call(b,a))),h},highlightOverlay:function(a,b){var c=this,d=c.box;return b=ba({data:{modelId:c.modelId}},b),a.createRect(d,b)},getBorderColor:function(){var a=this,b=a.options,c=a.color,d=b.border,e=d.color,f=d._brightness||Wa;return Ca(e)||(e=new ma(c).brightness(f).toHex()),e},tooltipAnchor:function(a,b){var c,d,e=this,f=e.options,g=e.box,h=f.vertical,i=e.aboveAxis,j=e.owner.pane.clipBox()||g;if(h)c=g.x2+Qc,d=i?V.max(g.y1,j.y1):V.min(g.y2,j.y2)-b;else{var k=V.max(g.x1,j.x1),l=V.min(g.x2,j.x2);f.isStacked?(c=i?l-a:k,d=g.y1-b-Qc):(c=i?l+Qc:k-a-Qc,d=g.y1)}return new sa(c,d)},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});ba(wd.fn,ud),ba(wd.fn,vd);var xd=function(a,b,c){var d=this;d.errorValue=a,d.initGlobalRanges(a,b,c)};xd.prototype=xd.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:new RegExp("^"+Ec+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(a,b,c){var d=this,e=b.data,f=d.standardDeviationRegex.exec(a);if(f){d.valueGetter=d.createValueGetter(b,c);var g=d.getAverage(e),h=d.getStandardDeviation(e,g,!1),i=f[1]?parseFloat(f[1]):1,j={low:g-h*i,high:g+h*i};d.globalRange=function(){return j}}else if(a.indexOf&&a.indexOf(Dc)>=0){d.valueGetter=d.createValueGetter(b,c);var k=d.getStandardError(e);d.globalRange=function(a){return{low:a-k,high:a+k}}}},createValueGetter:function(a,b){var c,d,e,f=a.data,g=ld.current,h=g.valueFields(a),i=Ca(f[0])?f[0]:{};return T(i)?(c=b?M(b,h):0,e=ca("["+c+"]")):F(i)?e=ca():typeof i===ic&&(d=g.sourceFields(a,h),e=ca(d[M(b,h)])),e},getErrorRange:function(a){var b,c,d,e=this,f=e.errorValue;if(Ca(f)){if(e.globalRange)return e.globalRange(a);if(T(f))b=a-f[0],c=a+f[1];else if(F(d=parseFloat(f)))b=a-d,c=a+d;else{if(!(d=e.percentRegex.exec(f)))throw new Error("Invalid ErrorBar value: "+f);var g=a*(parseFloat(d[1])/100);b=a-V.abs(g),c=a+V.abs(g)}return{low:b,high:c}}},getStandardError:function(a){return this.getStandardDeviation(a,this.getAverage(a),!0)/V.sqrt(a.length)},getStandardDeviation:function(a,b,c){for(var d=0,e=a.length,f=c?e-1:e,g=0;e>g;g++)d+=V.pow(this.valueGetter(a[g])-b,2);return V.sqrt(d/f)},getAverage:function(a){for(var b=0,c=a.length,d=0;c>d;d++)b+=this.valueGetter(a[d]);return b/c}};var yd=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.plotArea=a,c.categoryAxis=a.seriesCategoryAxis(b.series[0]),c.valueAxisRanges={},c.points=[],c.categoryPoints=[],c.seriesPoints=[],c.seriesOptions=[],c._evalSeries=[],c.render()},options:{series:[],invertAxes:!1,isStacked:!1,clip:!0},render:function(){var a=this;a.traverseDataPoints(X(a.addValue,a))},pointOptions:function(a,b){var c=this.seriesOptions[b];if(!c){var d=this.pointType().fn.defaults;this.seriesOptions[b]=c=ba({},d,{vertical:!this.options.invertAxes},a)}return c},plotValue:function(a){if(this.options.isStacked100&&F(a.value)){for(var b=a.categoryIx,c=this.categoryPoints[b],d=0,e=0;e<c.length;e++){var f=c[e],g=a.series.stack,h=f.series.stack;g&&h&&g.group!==h.group||F(f.value)&&(d+=V.abs(f.value))}return a.value/d}return a.value},plotRange:function(a,b){var c=a.categoryIx,d=this.categoryPoints[c];if(this.options.isStacked){b=b||0;for(var e=this.plotValue(a),f=e>0,g=b,h=!1,i=0;i<d.length;i++){var j=d[i];if(a===j)break;var k=a.series.stack,l=j.series.stack;if(k&&l){if(typeof k===Fc&&k!==l)continue;if(k.group&&k.group!==l.group)continue}var m=this.plotValue(j);(m>0&&f||0>m&&!f)&&(g+=m,e+=m,h=!0)}return h&&(g-=b),[g,e]}var n=a.series,o=this.seriesValueAxis(n),p=this.categoryAxisCrossingValue(o);return[p,a.value||p]},plotLimits:function(){for(var a=Vb,b=Wb,c=0;c<this.categoryPoints.length;c++)for(var d=this.categoryPoints[c],e=0;e<d.length;e++){var f=d[e];if(f){var g=this.plotRange(f,0)[1];Ca(g)&&(b=V.max(b,g),a=V.min(a,g))}}return{min:a,max:b}},computeAxisRanges:function(){var a,b,c=this,f=c.options.isStacked;f&&(a=c.options.series[0].axis,b=c.plotLimits(),c.errorTotals&&(b.min=V.min(b.min,d(c.errorTotals.negative)),b.max=V.max(b.max,e(c.errorTotals.positive))),c.valueAxisRanges[a]=b)},addErrorBar:function(a,b,c){var d,e=this,f=a.value,g=a.series,h=a.seriesIx,i=a.options.errorBars,j=b.fields[Ab],k=b.fields[Bb];F(j)&&F(k)?d={low:j,high:k}:i&&Ca(i.value)&&(e.seriesErrorRanges=e.seriesErrorRanges||[],e.seriesErrorRanges[h]=e.seriesErrorRanges[h]||new xd(i.value,g,Uc),d=e.seriesErrorRanges[h].getErrorRange(f)),d&&(a.low=d.low,a.high=d.high,e.addPointErrorBar(a,c))},addPointErrorBar:function(a,b){var c,d,e=this,f=a.series,g=a.low,h=a.high,i=!e.options.invertAxes,j=a.options.errorBars;e.options.isStacked?(d=e.stackedErrorRange(a,b),g=d.low,h=d.high):(e.updateRange({value:g},b,f),e.updateRange({value:h},b,f)),c=new Ed(g,h,i,e,f,j),a.errorBars=[c],a.append(c)},stackedErrorRange:function(a,b){var c=this,d=(a.value,c.plotRange(a,0)[1]-a.value),e=a.low+d,f=a.high+d;return c.errorTotals=c.errorTotals||{positive:[],negative:[]},0>e&&(c.errorTotals.negative[b]=V.min(c.errorTotals.negative[b]||0,e)),f>0&&(c.errorTotals.positive[b]=V.max(c.errorTotals.positive[b]||0,f)),{low:e,high:f}},addValue:function(a,b,c,d,e){var f,g=this,h=g.categoryPoints[c],i=g.seriesPoints[e];h||(g.categoryPoints[c]=h=[]),i||(g.seriesPoints[e]=i=[]),g.updateRange(a.valueFields,c,d),f=g.createPoint(a,b,c,d,e),f&&(f.category=b,f.categoryIx=c,f.series=d,f.seriesIx=e,f.owner=g,f.dataItem=d.data[c],f.noteText=a.fields.noteText,g.addErrorBar(f,a,c)),g.points.push(f),i.push(f),h.push(f)},evalPointOptions:function(a,b,c,d,e,f){var g={defaults:e._defaults,excluded:["data","aggregate","_events","tooltip"]},h=this._evalSeries[f];return Ca(h)||(this._evalSeries[f]=h=J(a,{},g,!0)),h&&J(a,{value:b,category:c,index:d,series:e,dataItem:e.data[d]},g),a},updateRange:function(a,b,c){var d=this,e=c.axis,f=a.value,g=d.valueAxisRanges[e];isFinite(f)&&null!==f&&(g=d.valueAxisRanges[e]=g||{min:Vb,max:Wb},g.min=V.min(g.min,f),g.max=V.max(g.max,f))},seriesValueAxis:function(a){var b=this.plotArea,c=a.axis,d=c?b.namedValueAxes[c]:b.valueAxis;if(!d)throw new Error("Unable to locate value axis with name "+c);return d},reflow:function(a){var b,c,d,e,f=this,g=0,h=f.categorySlots=[],i=f.points,j=f.categoryAxis;f.traverseDataPoints(function(a,k,l,m){b=f.pointValue(a),c=f.seriesValueAxis(m),d=f.categoryAxisCrossingValue(c),e=i[g++];var n=h[l];if(n||(h[l]=n=f.categorySlot(j,l,c)),e){var o=f.plotRange(e,c.startValue()),p=c.getSlot(o[0],o[1],!f.options.clip);if(p){var q=f.pointSlot(n,p),r=c.options.reverse?d>b:b>=d;e.aboveAxis=r,f.options.isStacked100&&(e.percentage=f.plotValue(e)),f.reflowPoint(e,q)}else e.visible=!1}}),f.reflowCategories(h),f.box=a},categoryAxisCrossingValue:function(a){var b=this.categoryAxis,c=a.options,d=[].concat(c.axisCrossingValues||c.axisCrossingValue);return d[b.axisIndex||0]||0},reflowPoint:function(a,b){a.reflow(b)},reflowCategories:function(){},pointSlot:function(a,b){var c=this,d=c.options,e=d.invertAxes,f=e?b:a,g=e?a:b;return new ja(f.x1,g.y1,f.x2,g.y2)},categorySlot:function(a,b){return a.getSlot(b)},traverseDataPoints:function(a){var b,c,d,e,f,g=this,h=g.options,i=h.series,j=g.categoryAxis.options.categories||[],k=m(i),l=i.length;for(b=0;k>b;b++)for(c=0;l>c;c++)f=i[c],e=j[b],d=ld.current.bindPoint(f,b),a(d,e,b,f,c)},formatPointValue:function(a,b){return Ba(b,a.value)},pointValue:function(a){return a.valueFields.value}}),zd=yd.extend({init:function(a,b){var c=this;yd.fn.init.call(c,a,b)},render:function(){var a=this;yd.fn.render.apply(a),a.computeAxisRanges()},pointType:function(){return wd},clusterType:function(){return sd},stackType:function(){return td},plotLimits:function(){var a=yd.fn.plotLimits.call(this);return a.min=V.min(0,a.min),a.max=V.max(0,a.max),a},createPoint:function(a,b,c,d,e){var f,g,h,i=this,j=a.valueFields.value,k=i.options,l=i.children,m=i.options.isStacked,n=i.pointType(),o=i.clusterType();g=this.pointOptions(d,e);var p=g.labels;m&&p.position==kc&&(p.position=Mb),g.isStacked=m;var q=a.fields.color||d.color;if(0>j&&g.negativeColor&&(q=g.negativeColor),g=i.evalPointOptions(g,j,b,c,d,e),Y.isFunction(d.color)&&(q=g.color),f=new n(j,g),f.color=q,h=l[c],h||(h=new o({vertical:k.invertAxes,gap:k.gap,spacing:k.spacing}),i.append(h)),m){var r=i.getStackWrap(d,h);r.append(f)}else h.append(f);return f},getStackWrap:function(a,b){var c,d=a.stack,e=d?d.group||d:d,f=b.children;if(typeof e===Fc){for(var g=0;g<f.length;g++)if(f[g]._stackGroup===e){c=f[g];break}}else c=f[0];if(!c){var h=this.stackType();c=new h({vertical:!this.options.invertAxes}),c._stackGroup=e,b.append(c)}return c},categorySlot:function(a,b,c){var d,e,f=this,g=f.options,h=a.getSlot(b);return g.isStacked&&(e=c.getSlot(c.startValue(),c.startValue()),d=g.invertAxes?$c:_c,h[d+1]=h[d+2]=e[d+1]),h},reflowCategories:function(a){var b,c=this,d=c.children,e=d.length;for(b=0;e>b;b++)d[b].reflow(a[b])}}),Ad=yd.extend({init:function(a,b){var c=this;c.wrapData(b),yd.fn.init.call(c,a,b)},wrapData:function(a){var b,c,d,e=a.series;for(b=0;b<e.length;b++)d=e[b],c=d.data,c&&!T(c[0])&&typeof c[0]!=ic&&(d.data=[c])},reflowCategories:function(a){var b,c=this,d=c.children,e=d.length;for(b=0;e>b;b++)d[b].reflow(a[b])},plotRange:function(a){var b=a.series,c=this.seriesValueAxis(b),d=this.categoryAxisCrossingValue(c);return[d,a.value.current||d]},createPoint:function(a,b,c,d,e){var f,g,h,i=this,j=a.valueFields,k=i.options,l=i.children;return g=ba({vertical:!k.invertAxes,overlay:d.overlay,categoryIx:c,invertAxes:k.invertAxes},d),i.evalPointOptions(g,j,b,c,d,e),f=new Bd(j,g),h=l[c],h||(h=new sd({vertical:k.invertAxes,gap:k.gap,spacing:k.spacing}),i.append(h)),h.append(f),f},updateRange:function(a,b,c){var d=this,e=c.axis,f=a.current,g=a.target,h=d.valueAxisRanges[e];Ca(f)&&!isNaN(f)&&Ca(g&&!isNaN(g))&&(h=d.valueAxisRanges[e]=h||{min:Vb,max:Wb},h.min=V.min.apply(V,[h.min,f,g]),h.max=V.max.apply(V,[h.max,f,g]))},formatPointValue:function(a,b){return Ba(b,a.value.current,a.value.target)},pointValue:function(a){return a.valueFields.current}}),Bd=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.value=a,c.aboveAxis=c.options.aboveAxis,c.id=Na(),c.enableDiscovery()},options:{color:Zc,border:{width:1},vertical:!1,animation:{type:Va},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var a=this,b=a.options;a._rendered||(a._rendered=!0,Ca(a.value.target)&&(a.target=new Cd({type:b.target.shape,background:b.target.color||b.color,opacity:b.opacity,zIndex:b.zIndex,border:b.target.border,vAlign:Oc,align:qc}),a.target.id=a.id,a.append(a.target)),a.createNote())},reflow:function(a){this.render();var b,c=this,d=c.options,e=c.owner,f=c.target,g=d.invertAxes,h=e.seriesValueAxis(c.options),i=e.categorySlot(e.categoryAxis,d.categoryIx,h),j=h.getSlot(c.value.target),k=g?j:i,l=g?i:j;f&&(b=new ja(k.x1,l.y1,k.x2,l.y2),f.options.height=g?b.height():d.target.line.width,f.options.width=g?d.target.line.width:b.width(),f.reflow(b)),c.note&&c.note.reflow(a),c.box=a},getViewElements:function(a){var b=this,c=b.options,d=c.vertical,e=c.border.width>0?{stroke:c.border.color||c.color,strokeWidth:c.border.width,dashType:c.border.dashType}:{},f=b.box,g=ba({id:b.id,fill:c.color,fillOpacity:c.opacity,strokeOpacity:c.opacity,vertical:c.vertical,aboveAxis:b.aboveAxis,animation:c.animation,data:{modelId:b.modelId}},e),h=[];return f.width()>0&&f.height()>0&&(c.overlay&&(g.overlay=ba({rotation:d?0:90},c.overlay)),h.push(a.createRect(f,g))),Aa(h,la.fn.getViewElements.call(b,a)),h},tooltipAnchor:function(a,b){var c,d,e=this,f=e.options,g=e.box,h=f.vertical,i=e.aboveAxis;return h?(c=g.x2+Qc,d=i?g.y1:g.y2-b):f.isStacked?(c=i?g.x2-a:g.x1,d=g.y1-b-Qc):(c=i?g.x2+Qc:g.x1-a-Qc,d=g.y1),new sa(c,d)},highlightOverlay:function(a,b){var c=this,d=c.box;return b=ba({data:{modelId:c.modelId}},b),a.createRect(d,b)},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});ba(Bd.fn,ud),ba(Bd.fn,vd);var Cd=va.extend();ba(Cd.fn,ud);var Dd=la.extend({init:function(a,b,c,d,e,f){var g=this;g.low=a,g.high=b,g.isVertical=c,g.chart=d,g.series=e,la.fn.init.call(g,f)},getAxis:function(){},reflow:function(a){var b,c=this,d=c.options.endCaps,e=c.isVertical,f=c.getAxis(),g=f.getSlot(c.low,c.high),h=a.center(),i=c.getCapsWidth(a,e),j=e?h.x:h.y,k=j-i,l=j+i;e?(b=[sa(h.x,g.y1),sa(h.x,g.y2)],d&&b.push(sa(k,g.y1),sa(l,g.y1),sa(k,g.y2),sa(l,g.y2))):(b=[sa(g.x1,h.y),sa(g.x2,h.y)],d&&b.push(sa(g.x1,k),sa(g.x1,l),sa(g.x2,k),sa(g.x2,l))),c.linePoints=b},getCapsWidth:function(a,b){var c=b?a.width():a.height(),d=V.min(V.floor(c/2),ub)||ub;return d},getViewElements:function(a){var b,c=this,d=c.options,e=(c.parent,d.line),f={stroke:d.color,strokeWidth:e.width,zIndex:e.zIndex,align:!1,dashType:e.dashType},g=c.linePoints,h=[];for(b=0;b<g.length;b+=2)h.push(a.createLine(g[b].x,g[b].y,g[b+1].x,g[b+1].y,f));return h},options:{animation:{type:Gb,delay:Kb},endCaps:!0,line:{width:1,zIndex:1}}}),Ed=Dd.extend({getAxis:function(){var a=this,b=a.chart,c=a.series,d=b.seriesValueAxis(c);return d}}),Fd=Dd.extend({getAxis:function(){var a=this,b=a.chart,c=a.series,d=b.seriesAxes(c),e=a.isVertical?d.y:d.x;return e}}),Gd=la.extend({init:function(a,b){var c=this;la.fn.init.call(c),c.value=a,c.options=b,c.color=b.color,c.aboveAxis=Oa(c.options.aboveAxis,!0),c.id=Na(),c.enableDiscovery()},defaults:{vertical:!0,markers:{visible:!0,background:Zc,size:Sb,type:gb,border:{width:2},opacity:1},labels:{visible:!1,position:Qa,margin:Fa(3),padding:Fa(4),animation:{type:Gb,delay:Kb}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var a=this,b=a.options,c=b.markers,d=b.labels,e=a.value;if(!a._rendered){if(a._rendered=!0,c.visible&&c.size&&(a.marker=a.createMarker(),a.marker.id=a.id,a.append(a.marker)),d.visible){if(d.template){var f=ea(d.template);e=f({dataItem:a.dataItem,category:a.category,value:a.value,percentage:a.percentage,series:a.series})}else d.format&&(e=a.formatValue(d.format));a.label=new xa(e,ba({id:Na(),align:eb,vAlign:eb,margin:{left:5,right:5}},d)),a.append(a.label)}a.createNote(),a.errorBar&&a.append(a.errorBar)}},markerBorder:function(){var a=this.options.markers,b=a.background,c=ba({color:this.color},a.border);return Ca(c.color)||(c.color=new ma(b).brightness(Wa).toHex()),c},createMarker:function(){var a=this.options.markers,b=new va({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:this.markerBorder(),opacity:a.opacity,zIndex:a.zIndex,animation:a.animation});return b},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(a){var b,c,d=this,e=d.options,f=e.vertical,g=d.aboveAxis;if(d.render(),d.box=a,b=a.clone(),f?g?b.y1-=b.height():b.y2+=b.height():g?b.x1+=b.width():b.x2-=b.width(),d._childBox=b,d.marker&&d.marker.reflow(b),d.reflowLabel(b),d.errorBars)for(var h=0;h<d.errorBars.length;h++)d.errorBars[h].reflow(b);if(d.note){var i=d.markerBox();d.marker||(c=i.center(),i=ja(c.x,c.y,c.x,c.y)),d.note.reflow(i)}},reflowLabel:function(a){var b=this,c=b.options,d=b.label,e=c.labels.position;d&&(e=e===Qa?Oc:e,e=e===Xa?$a:e,d.reflow(a),d.box.alignTo(b.markerBox(),e),d.reflow(d.box))},highlightOverlay:function(a,b){var c=this,d=c.options.highlight,e=d.markers,f=c.markerBorder().color;b=ba({data:{modelId:c.modelId}},b,{fill:e.color||f,stroke:e.border.color,strokeWidth:e.border.width,strokeOpacity:e.border.opacity||0,fillOpacity:e.opacity||1,visible:e.visible});var g=this.marker||this.createMarker();return g.getViewElements(a,b)[0]},tooltipAnchor:function(a,b){var c=this,d=c.markerBox(),e=(c.options,c.aboveAxis),f=d.x2+Qc,g=e?d.y1-b:d.y2,h=c.owner.pane.clipBox(),i=!h||h.overlaps(d);return i?sa(f,g):void 0},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});ba(Gd.fn,ud),ba(Gd.fn,vd);var Hd=Gd.extend({init:function(a,b){var c=this;Gd.fn.init.call(c,a,ba({},this.defaults,b)),c.category=a.category},defaults:{labels:{position:eb},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(a){var b=this,c=b.options,d=c.highlight,e=d.border.width,f=c.markers,g=b.box.center(),h=f.size/2-e/2,i=d.border.color||new ma(f.background).brightness(Wa).toHex();return a.createCircle(g,h,{id:null,data:{modelId:b.modelId},stroke:i,strokeWidth:e,strokeOpacity:d.border.opacity})},toggleHighlight:function(a){var c=this,d=c.options.highlight.opacity;c.highlighted=!c.highlighted;var e=c.marker.getViewElements(a,{fillOpacity:c.highlighted?d:b})[0];e.refresh(Ea(this.id))}}),Id=la.extend({init:function(a,b,c){var d=this;la.fn.init.call(d),d.linePoints=a,d.series=b,d.seriesIx=c,d.id=Na(),d.enableDiscovery()},options:{closed:!1},points:function(a){var b,c,d=this,e=d.linePoints.concat(a||[]),f=[],g=e.length;for(b=0;g>b;b++)e[b].visible!==!1&&(c=e[b].markerBox().center(),f.push(sa(c.x,c.y)));return f},getViewElements:function(a){var b=this,c=b.options,d=b.series,e=d._defaults,f=d.color;return la.fn.getViewElements.call(b,a),da(f)&&e&&(f=e.color),[a.createPolyline(b.points(),c.closed,{id:b.id,stroke:f,strokeWidth:d.width,strokeOpacity:d.opacity,fill:"",dashType:d.dashType,data:{modelId:b.modelId},zIndex:-1})]},aliasFor:function(a,b){var c=this,d=c.seriesIx;return c.parent.getNearestPoint(b.x,b.y,d)}}),Jd={renderSegments:function(){var a,b,c,d,e,f,g,h=this,i=h.options,j=i.series,k=h.seriesPoints,l=k.length,m=[];for(b=0;l>b;b++){for(a=j[b],c=h.sortPoints(k[b]),g=c.length,d=[],f=0;g>f;f++)e=c[f],e?d.push(e):h.seriesMissingValues(a)!==Nb&&(d.length>1&&m.push(h.createSegment(d,a,b,Ia(m))),d=[]);d.length>1&&m.push(h.createSegment(d,a,b,Ia(m)))}h._segments=m,h.append.apply(h,m)},sortPoints:function(a){return a},seriesMissingValues:function(a){var b=a.missingValues,c=!b&&this.options.isStacked;return c?bd:b||Nb},getNearestPoint:function(a,b,c){var d,e,f,g,h,i=this,j=i.options.invertAxes,k=j?_c:$c,l=j?b:a,m=i.seriesPoints[c],n=Vb,o=m.length;for(h=0;o>h;h++)d=m[h],d&&Ca(d.value)&&null!==d.value&&d.visible!==!1&&(e=d.box,f=V.abs(e.center()[k]-l),n>f&&(g=d,n=f));return g}},Kd=yd.extend({init:function(a,b){var c=this;c.enableDiscovery(),yd.fn.init.call(c,a,b)},render:function(){var a=this;yd.fn.render.apply(a),a.computeAxisRanges(),a.renderSegments()},pointType:function(){return Gd},createPoint:function(a,b,c,d,e){{var f,g,h=this,i=a.valueFields.value,j=h.options,k=(j.isStacked,h.categoryPoints[c],h.seriesMissingValues(d));a.fields}if(!Ca(i)||null===i){if(k!==bd)return null;i=0}g=this.pointOptions(d,e),g=h.evalPointOptions(g,i,b,c,d,e);var l=a.fields.color||d.color;return Y.isFunction(d.color)&&(l=g.color),f=new Gd(i,g),f.color=l,h.append(f),f},plotRange:function(a){var b=a.categoryIx,c=this.categoryPoints[b];if(this.options.isStacked){for(var d=this.plotValue(a),e=0;e<c.length;e++){var f=c[e];if(a===f)break;d+=this.plotValue(f)}return[d,d]}var g=yd.fn.plotRange.call(this,a);return[g[1],g[1]]},createSegment:function(a,b,c){var d,e=b.style;return new(d=e===Bc?Ld:e===Cc?Md:Id)(a,b,c)},getViewElements:function(a){var b=this,c=yd.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:hb}});return d.children=c,[d]}});ba(Kd.fn,Jd);var Ld=Id.extend({points:function(a){var b,c=this;return b=c.calculateStepPoints(c.linePoints),a&&a.length&&(b=b.concat(c.calculateStepPoints(a).reverse())),b},calculateStepPoints:function(a){var b,c,d,e,f,g=this,h=g.parent,i=h.plotArea,j=i.seriesCategoryAxis(g.series),k=h.seriesMissingValues(g.series)===Nb,l=a.length,m=j.options.reverse,n=j.options.vertical,o=m?2:1,p=m?1:2,q=[];for(d=1;l>d;d++)b=a[d-1],c=a[d],e=b.markerBox().center(),f=c.markerBox().center(),j.options.justified?(q.push(sa(e.x,e.y)),q.push(n?sa(e.x,f.y):sa(f.x,e.y)),q.push(sa(f.x,f.y))):n?(q.push(sa(e.x,b.box[_c+o])),q.push(sa(e.x,b.box[_c+p])),k&&q.push(sa(e.x,c.box[_c+o])),q.push(sa(f.x,c.box[_c+o])),q.push(sa(f.x,c.box[_c+p]))):(q.push(sa(b.box[$c+o],e.y)),q.push(sa(b.box[$c+p],e.y)),k&&q.push(sa(c.box[$c+o],e.y)),q.push(sa(c.box[$c+o],f.y)),q.push(sa(c.box[$c+p],f.y)));return q||[]}}),Md=Id.extend({points:function(){var a=this,b=new na(a.options.closed),c=Id.fn.points.call(this);return b.process(c)},getViewElements:function(a){var b=this,c=b.series,d=c._defaults,e=c.color;return la.fn.getViewElements.call(b,a),da(e)&&d&&(e=d.color),[a.createCubicCurve(b.points(),{id:b.id,stroke:e,strokeWidth:c.width,strokeOpacity:c.opacity,fill:"",dashType:c.dashType,data:{modelId:b.modelId},zIndex:-1})]}}),Nd={points:function(){var a,b,c=this,d=c.parent,e=d.plotArea,f=d.options.invertAxes,g=d.seriesValueAxis(c.series),h=g.lineBox(),i=e.seriesCategoryAxis(c.series),j=i.lineBox(),k=f?j.x1:j.y1,l=c.stackPoints,m=c._linePoints(l),n=f?$c:_c;return k=Ja(k,h[n+1],h[n+2]),!c.stackPoints&&m.length>1&&(a=m[0],b=Ia(m),f?(m.unshift(sa(k,a.y)),m.push(sa(k,b.y))):(m.unshift(sa(a.x,k)),m.push(sa(b.x,k)))),m},getViewElements:function(a){var b,c=this,d=c.series,e=d._defaults,f=d.color,g=[];return la.fn.getViewElements.call(c,a),da(f)&&e&&(f=e.color),g.push(this.createArea(a,f)),b=this.createLine(a,f),b&&g.push(b),g},createLine:function(a,b){var c,d=this,e=d.series,f=ba({color:b,opacity:e.opacity},e.line);return f.visible!==!1&&f.width>0&&(c=a.createPolyline(d._linePoints(),!1,{stroke:f.color,strokeWidth:f.width,strokeOpacity:f.opacity,dashType:f.dashType,data:{modelId:d.modelId},strokeLineCap:"butt",zIndex:-1,align:!1})),c},createArea:function(a,b){var c=this,d=c.series;return a.createPolyline(c.points(),!1,{id:c.id,fillOpacity:d.opacity,fill:b,stack:d.stack,data:{modelId:c.modelId},zIndex:-1})}},Od=Id.extend({init:function(a,b,c,d){var e=this;e.stackPoints=b,Id.fn.init.call(e,a,c,d)},_linePoints:Id.fn.points});ba(Od.fn,Nd);var Pd=Kd.extend({createSegment:function(a,b,c,d){var e,f,g=this,h=g.options,i=h.isStacked,j=(b.line||{}).style;return i&&c>0&&d&&(e=d.linePoints,j!==Bc&&(e=e.slice(0).reverse())),j===Cc?new Qd(a,d,i,b,c):new(f=j===Bc?Rd:Od)(a,e,b,c)},seriesMissingValues:function(a){return a.missingValues||bd}}),Qd=Od.extend({init:function(a,b,c,d,e){var f=this;f.prevSegment=b,f.isStacked=c,Id.fn.init.call(f,a,d,e)},points:function(){var a,b,c=this,d=c.prevSegment,e=new na(c.options.closed),f=Id.fn.points.call(this),g=e.process(f);return c.curvePoints=g,c.isStacked&&d?(b=g.slice(0),b.push(Ia(g)),a=d.curvePoints.slice(0).reverse(),a.unshift(a[0]),b=b.concat(a),b.push(Ia(a),b[0],b[0])):b=c.curvePoints,b},areaPoints:function(a){var b=this,c=b.parent,d=b.prevSegment,e=c.plotArea,f=c.options.invertAxes,g=c.seriesValueAxis(b.series),h=g.lineBox(),i=e.seriesCategoryAxis(b.series),j=i.lineBox(),k=f?j.x1:j.y1,l=f?$c:_c,m=a[0],n=Ia(a),o=[];return k=Ja(k,h[l+1],h[l+2]),c.options.isStacked&&d||!(a.length>1)||(f?(o.push(sa(k,m.y)),o.unshift(sa(k,n.y))):(o.push(sa(m.x,k)),o.unshift(sa(n.x,k)))),o},getViewElements:function(a){var b,c=this,d=c.series,e=d._defaults,f=d.color,g=c.points(),h=c.areaPoints(g),i=[];return la.fn.getViewElements.call(c,a),da(f)&&e&&(f=e.color),b=ba({color:f,opacity:d.opacity},d.line),i.push(a.createCubicCurve(g,{id:c.id,fillOpacity:d.opacity,fill:f,stack:d.stack,data:{modelId:c.modelId},zIndex:-1},h)),b.width>0&&i.push(a.createCubicCurve(c.curvePoints,{stroke:b.color,strokeWidth:b.width,strokeOpacity:b.opacity,dashType:b.dashType,data:{modelId:c.modelId},strokeLineCap:"butt",zIndex:-1})),i}}),Rd=Ld.extend({init:function(a,b,c,d){var e=this;e.stackPoints=b,Ld.fn.init.call(e,a,c,d)},_linePoints:Ld.fn.points});ba(Rd.fn,Nd);var Sd=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.plotArea=a,c.xAxisRanges={},c.yAxisRanges={},c.points=[],c.seriesPoints=[],c.render()},options:{
series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0},render:function(){var a=this;a.traverseDataPoints(X(a.addValue,a))},addErrorBar:function(a,b,c){var d,e=this,f=a.value[b],g=b+"Value",h=b+"ErrorLow",i=b+"ErrorHigh",j=c.seriesIx,k=c.series,l=a.options.errorBars,m=c[h],n=c[i];F(f)&&(F(m)&&F(n)&&(d={low:m,high:n}),l&&Ca(l[g])&&(e.seriesErrorRanges=e.seriesErrorRanges||{x:[],y:[]},e.seriesErrorRanges[b][j]=e.seriesErrorRanges[b][j]||new xd(l[g],k,b),d=e.seriesErrorRanges[b][j].getErrorRange(f)),d&&e.addPointErrorBar(d,a,b))},addPointErrorBar:function(a,b,c){var d,e=this,f=a.low,g=a.high,h=b.series,i=c===_c,j=b.options.errorBars,k={};b[c+"Low"]=f,b[c+"High"]=g,b.errorBars=b.errorBars||[],d=new Fd(f,g,i,e,h,j),b.errorBars.push(d),b.append(d),k[c]=f,e.updateRange(k,h),k[c]=g,e.updateRange(k,h)},addValue:function(a,b){var c,d=this,e=a.x,f=a.y,g=b.seriesIx,h=d.seriesPoints[g];d.updateRange(a,b.series),Ca(e)&&null!==e&&Ca(f)&&null!==f&&(c=d.createPoint(a,b),c&&(W(c,b),d.addErrorBar(c,$c,b),d.addErrorBar(c,_c,b))),d.points.push(c),h.push(c)},updateRange:function(a,b){var c=this,d=a.x,e=a.y,f=b.xAxis,g=b.yAxis,h=c.xAxisRanges[f],i=c.yAxisRanges[g];Ca(d)&&null!==d&&(h=c.xAxisRanges[f]=h||{min:Vb,max:Wb},typeof d===Fc&&(d=q(d)),h.min=V.min(h.min,d),h.max=V.max(h.max,d)),Ca(e)&&null!==e&&(i=c.yAxisRanges[g]=i||{min:Vb,max:Wb},typeof e===Fc&&(e=q(e)),i.min=V.min(i.min,e),i.max=V.max(i.max,e))},evalPointOptions:function(a,b,c){var d=c.series;J(a,{value:b,series:d,dataItem:c.dataItem},{defaults:d._defaults,excluded:["data","tooltip"]})},createPoint:function(a,b){var c,d,e=this,f=b.series;return d=ba({},Gd.fn.defaults,{markers:{opacity:f.opacity},tooltip:{format:e.options.tooltip.format},labels:{format:e.options.labels.format}},f,{color:b.color}),e.evalPointOptions(d,a,b),c=new Gd(a,d),e.append(c),c},seriesAxes:function(a){var b=this.plotArea,c=a.xAxis,d=c?b.namedXAxes[c]:b.axisX,e=a.yAxis,f=e?b.namedYAxes[e]:b.axisY;if(!d)throw new Error("Unable to locate X axis with name "+c);if(!f)throw new Error("Unable to locate Y axis with name "+e);return{x:d,y:f}},reflow:function(a){var b,c,d=this,e=d.points,f=0,g=(d.options.clip,!d.options.clip);d.traverseDataPoints(function(a,h){b=e[f++],c=d.seriesAxes(h.series);var i,j=c.x.getSlot(a.x,a.x,g),k=c.y.getSlot(a.y,a.y,g);b&&(j&&k?(i=d.pointSlot(j,k),b.reflow(i)):b.visible=!1)}),d.box=a},pointSlot:function(a,b){return new ja(a.x1,b.y1,a.x2,b.y2)},getViewElements:function(a){var b=this,c=la.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:hb}});return d.children=c,[d]},traverseDataPoints:function(a){var b,c,d,e,f,g,h,i=this,j=i.options,k=j.series,l=i.seriesPoints;for(c=0;c<k.length;c++)for(d=k[c],e=l[c],e||(l[c]=[]),b=0;b<d.data.length;b++)f=ld.current.bindPoint(d,b),g=f.valueFields,h=f.fields,a(g,ba({pointIx:b,series:d,seriesIx:c,dataItem:d.data[b],owner:i},h))},formatPointValue:function(a,b){var c=a.value;return Ba(b,c.x,c.y)}}),Td=Sd.extend({render:function(){var a=this;Sd.fn.render.call(a),a.renderSegments()},createSegment:function(a,b,c){var d,e=b.style;return new(d=e===Cc?Md:Id)(a,b,c)}});ba(Td.fn,Jd);var Ud=Sd.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(a,b){var c,d=this,e=b.series,f=e.negativeValues,g=d.plotArea.options.seriesColors||[],h=!0;c=b.color||e.color||g[b.pointIx%g.length],a.size<0&&(c=f.color||c,h=f.visible),b.color=c,h&&Sd.fn.addValue.call(this,a,b)},reflow:function(a){var b=this;b.updateBubblesSize(a),Sd.fn.reflow.call(b,a)},createPoint:function(a,b){var c,d,e=this,f=b.series,g=f.data.length,h=b.pointIx*(Kb/g),i={delay:h,duration:Kb-h,type:ab};return d=ba({tooltip:{format:e.options.tooltip.format},labels:{format:e.options.labels.format,animation:i}},f,{color:b.color,markers:{type:gb,background:b.color,border:f.border,opacity:f.opacity,animation:i}}),e.evalPointOptions(d,a,b),c=new Hd(a,d),e.append(c),c},updateBubblesSize:function(a){var b,c,d=this,e=d.options,f=e.series,g=V.min(a.width(),a.height());for(b=0;b<f.length;b++){var h=f[b],i=d.seriesPoints[b],j=d.maxSize(i),k=h.minSize||V.max(.02*g,10),l=h.maxSize||.2*g,m=k/2,n=l/2,o=V.PI*m*m,p=V.PI*n*n,q=p-o,r=q/j;for(c=0;c<i.length;c++){var s=i[c],t=V.abs(s.value.size)*r,u=V.sqrt((o+t)/V.PI);ba(s.options,{markers:{size:2*u,zIndex:n-u},labels:{zIndex:n-u+1}})}}},maxSize:function(a){var b,c,d=a.length,e=0;for(b=0;d>b;b++)c=a[b].value.size,e=V.max(e,V.abs(c));return e},getViewElements:function(a){var b=this,c=la.fn.getViewElements.call(b,a),d=a.createGroup();return d.children=c,[d]},formatPointValue:function(a,b){var c=a.value;return Ba(b,c.x,c.y,c.size,a.category)}}),Vd=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.value=a,c.id=Na(),c.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:Ib},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function(a){var b,c,d,e=this,f=e.options,g=e.owner,h=e.value,i=g.seriesValueAxis(f),j=[];c=i.getSlot(h.open,h.close),d=i.getSlot(h.low,h.high),c.x1=d.x1=a.x1,c.x2=d.x2=a.x2,e.realBody=c,b=d.center().x,j.push([sa(b,d.y1),sa(b,c.y1)]),j.push([sa(b,c.y2),sa(b,d.y2)]),e.lowHighLinePoints=j,e.box=d.clone().wrap(c),e._rendered||(e._rendered=!0,e.createNote()),e.reflowNote()},reflowNote:function(){var a=this;a.note&&a.note.reflow(a.box)},getViewElements:function(a){var b=this,c=b.options,d=[],e=c.border.width>0?{stroke:b.getBorderColor(),strokeWidth:c.border.width,dashType:c.border.dashType,strokeOpacity:Oa(c.border.opacity,c.opacity)}:{},f=ba({fill:c.color,fillOpacity:c.opacity},e),g={strokeOpacity:Oa(c.line.opacity,c.opacity),strokeWidth:c.line.width,stroke:c.line.color||c.color,dashType:c.line.dashType,strokeLineCap:"butt"};return c.overlay&&(f.overlay=ba({rotation:0},c.overlay)),d.push(a.createRect(b.realBody,f)),d.push(a.createPolyline(b.lowHighLinePoints[0],!1,g)),d.push(a.createPolyline(b.lowHighLinePoints[1],!1,g)),d.push(b.createOverlayRect(a,c)),Aa(d,la.fn.getViewElements.call(b,a)),d},getBorderColor:function(){var a=this,b=a.options,c=b.border,d=c.color;return Ca(d)||(d=new ma(b.color).brightness(c._brightness).toHex()),d},createOverlayRect:function(a){var b=this;return a.createRect(b.box,{data:{modelId:b.modelId},fill:"#fff",id:b.id,fillOpacity:0})},highlightOverlay:function(a,b){var c=this,d=c.options,e=d.highlight,f=e.border,g=c.getBorderColor(),h=e.line,i={data:{modelId:d.modelId}},j=ba({},i,b,{stroke:g,strokeOpacity:f.opacity,strokeWidth:f.width}),k=ba({},i,{stroke:h.color||g,strokeWidth:h.width,strokeOpacity:h.opacity,strokeLineCap:"butt"}),l=a.createGroup();return l.children.push(a.createRect(c.realBody,j)),l.children.push(a.createPolyline(c.lowHighLinePoints[0],!1,k)),l.children.push(a.createPolyline(c.lowHighLinePoints[1],!1,k)),l},tooltipAnchor:function(){var a=this,b=a.box,c=a.owner.pane.clipBox()||b;return new sa(b.x2+Qc,V.max(b.y1,c.y1)+Qc)},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});ba(Vd.fn,ud),ba(Vd.fn,vd);var Wd=yd.extend({options:{},reflowCategories:function(a){var b,c=this,d=c.children,e=d.length;for(b=0;e>b;b++)d[b].reflow(a[b])},addValue:function(a,b,c,d,e){var f,g,h=this,i=h.options,j=a.valueFields,k=h.children,l=a.fields.color||d.color,m=this.splitValue(j),n=H(m),o=h.categoryPoints[c],p=d.data[c];o||(h.categoryPoints[c]=o=[]),n&&(d.type==cb&&j.open>j.close&&(l=a.fields.downColor||d.downColor||d.color),f=h.createPoint(a,b,c,ba({},d,{color:l}))),g=k[c],g||(g=new sd({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing}),h.append(g)),f&&(h.updateRange(j,c,d),g.append(f),f.categoryIx=c,f.category=b,f.series=d,f.seriesIx=e,f.owner=h,f.dataItem=p,f.noteText=a.fields.noteText),h.points.push(f),o.push(f)},pointType:function(){return Vd},createPoint:function(a,b,c,d,e){var f=this,g=a.valueFields,h=ba({},d),i=f.pointType();return f.evalPointOptions(h,g,b,c,d,e),new i(g,h)},splitValue:function(a){return[a.low,a.open,a.close,a.high]},updateRange:function(a,b,c){var d=this,e=c.axis,f=d.valueAxisRanges[e],g=d.splitValue(a);f=d.valueAxisRanges[e]=f||{min:Vb,max:Wb},f=d.valueAxisRanges[e]={min:V.min.apply(V,g.concat([f.min])),max:V.max.apply(V,g.concat([f.max]))}},formatPointValue:function(a,b){var c=a.value;return Ba(b,c.open,c.high,c.low,c.close,a.category)},getViewElements:function(a){var b=this,c=la.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:hb}});return d.children=c,[d]}}),Xd=Vd.extend({reflow:function(a){var b,c,d,e,f=this,g=f.options,h=f.owner,i=f.value,j=h.seriesValueAxis(g),k=[],l=[],m=[];e=j.getSlot(i.low,i.high),c=j.getSlot(i.open,i.open),d=j.getSlot(i.close,i.close),c.x1=d.x1=e.x1=a.x1,c.x2=d.x2=e.x2=a.x2,b=e.center().x,k.push(sa(c.x1,c.y1)),k.push(sa(b,c.y1)),l.push(sa(b,d.y1)),l.push(sa(d.x2,d.y1)),m.push(sa(b,e.y1)),m.push(sa(b,e.y2)),f.oPoints=k,f.cPoints=l,f.lhPoints=m,f.box=e.clone().wrap(c.clone().wrap(d)),f.reflowNote()},getViewElements:function(a){var b=this,c=b.options,d=[],e=c.line,f={strokeOpacity:e.opacity||c.opacity,zIndex:-1,strokeWidth:e.width,stroke:c.color||e.color,dashType:e.dashType};return d.push(b.createOverlayRect(a,c)),d.push(a.createPolyline(b.oPoints,!0,f)),d.push(a.createPolyline(b.cPoints,!0,f)),d.push(a.createPolyline(b.lhPoints,!0,f)),Aa(d,la.fn.getViewElements.call(b,a)),d},highlightOverlay:function(a){var b=this,c=b.options,d=c.highlight,e={data:{modelId:c.modelId}},f=ba(e,{strokeWidth:d.line.width,strokeOpacity:d.line.opacity,stroke:d.line.color||b.color}),g=a.createGroup();return g.children.push(a.createPolyline(b.oPoints,!0,f)),g.children.push(a.createPolyline(b.cPoints,!0,f)),g.children.push(a.createPolyline(b.lhPoints,!0,f)),g}}),Yd=Wd.extend({pointType:function(){return Xd}}),Zd=Wd.extend({addValue:function(a,b,c,d,e){var f,g,h=this,i=h.options,j=h.children,k=a.fields.color||d.color,l=a.valueFields,m=h.splitValue(l),n=H(m),o=h.categoryPoints[c],p=d.data[c];o||(h.categoryPoints[c]=o=[]),n&&(f=h.createPoint(a,b,c,ba({},d,{color:k}))),g=j[c],g||(g=new sd({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing}),h.append(g)),f&&(h.updateRange(l,c,d),g.append(f),f.categoryIx=c,f.category=b,f.series=d,f.seriesIx=e,f.owner=h,f.dataItem=p),h.points.push(f),o.push(f)},pointType:function(){return $d},splitValue:function(a){return[a.lower,a.q1,a.median,a.q3,a.upper]},updateRange:function(a,b,c){var d=this,e=c.axis,f=d.valueAxisRanges[e],g=d.splitValue(a).concat(d.filterOutliers(a.outliers));Ca(a.mean)&&(g=g.concat(a.mean)),f=d.valueAxisRanges[e]=f||{min:Vb,max:Wb},f=d.valueAxisRanges[e]={min:V.min.apply(V,g.concat([f.min])),max:V.max.apply(V,g.concat([f.max]))}},formatPointValue:function(a,b){var c=a.value;return Ba(b,c.lower,c.q1,c.median,c.q3,c.upper,c.mean,a.category)},filterOutliers:function(a){var b,c,d=(a||[]).length,e=[];for(b=0;d>b;b++)c=a[b],Ca(c)&&D(e,c);return e}}),$d=Vd.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.value=a,c.id=Na(),c.enableDiscovery(),c.createNote()},options:{border:{_brightness:.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:Ib},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:Sb,type:lb,background:Zc,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:Sb,type:gb,background:Zc,border:{width:2,opacity:1},opacity:0}},reflow:function(a){var b,c,d,e,f,g=this,h=g.options,i=g.owner,j=g.value,k=i.seriesValueAxis(h),l=[];d=k.getSlot(j.q1,j.q3),g.boxSlot=d,c=k.getSlot(j.lower,j.upper),e=k.getSlot(j.median),d.x1=c.x1=a.x1,d.x2=c.x2=a.x2,j.mean&&(f=k.getSlot(j.mean),g.meanPoints=[sa(a.x1,f.y1),sa(a.x2,f.y1)]),b=c.center().x,l.push([[sa(b-5,c.y1),sa(b+5,c.y1)],[sa(b,c.y1),sa(b,d.y1)]]),l.push([[sa(b-5,c.y2),sa(b+5,c.y2)],[sa(b,d.y2),sa(b,c.y2)]]),g.whiskerPoints=l,g.medianPoints=[sa(a.x1,e.y1),sa(a.x2,e.y1)],g.box=c.clone().wrap(d),g.createOutliers(),g.reflowNote()},createOutliers:function(){var a,b,c,d,e,f=this,g=f.options,h=g.markers||{},i=f.value,j=i.outliers||[],k=f.owner.seriesValueAxis(g),l=3*V.abs(i.q3-i.q1);for(f.outliers=[],e=0;e<j.length;e++)d=j[e],h=d<i.q3+l&&d>i.q1-l?g.outliers:g.extremes,a=ba({},h.border),Ca(a.color)||(a.color=Ca(f.options.color)?f.options.color:new ma(h.background).brightness(Wa).toHex()),c=new va({id:f.id,type:h.type,width:h.size,height:h.size,rotation:h.rotation,background:h.background,border:a,opacity:h.opacity}),b=k.getSlot(d).move(f.box.center().x),f.box=f.box.wrap(b),c.reflow(b),f.outliers.push(c)},getViewElements:function(a){var b=this,c=a.createGroup({animation:{type:hb}}),d=b.render(a,b.options);return Aa(d,la.fn.getViewElements.call(b,a)),c.children=d,[c]},render:function(a,b){var c,d,e=this,f=[];if(f.push(e.createBody(a,b)),f.push(e.createWhisker(a,e.whiskerPoints[0],b)),f.push(e.createWhisker(a,e.whiskerPoints[1],b)),f.push(e.createMedian(a,b)),e.meanPoints&&f.push(e.createMean(a,b)),f.push(e.createOverlayRect(a,b)),e.outliers.length)for(c=0;c<e.outliers.length;c++)d=e.outliers[c],f.push(d.getViewElements(a)[0]);return f},createWhisker:function(a,b,c){return a.createMultiLine(b,{strokeOpacity:Oa(c.line.opacity,c.opacity),strokeWidth:c.line.width,stroke:c.line.color||c.color,dashType:c.line.dashType,strokeLineCap:"butt",data:{data:{modelId:this.modelId}}})},createMedian:function(a){var b=this,c=b.options;return a.createPolyline(b.medianPoints,!1,{strokeOpacity:Oa(c.median.opacity,c.opacity),strokeWidth:c.median.width,stroke:c.median.color||c.color,dashType:c.median.dashType,strokeLineCap:"butt",data:{data:{modelId:this.modelId}}})},createBody:function(a,b){var c=this,d=b.border.width>0?{stroke:b.color||c.getBorderColor(),strokeWidth:b.border.width,dashType:b.border.dashType,strokeOpacity:Oa(b.border.opacity,b.opacity)}:{},e=ba({fill:b.color,fillOpacity:b.opacity,data:{data:{modelId:this.modelId}}},d);return b.overlay&&(e.overlay=ba({rotation:0},b.overlay)),a.createRect(c.boxSlot,e)},createMean:function(a){var b=this,c=b.options;return a.createPolyline(b.meanPoints,!1,{strokeOpacity:Oa(c.mean.opacity,c.opacity),strokeWidth:c.mean.width,stroke:c.mean.color||c.color,dashType:c.mean.dashType,strokeLineCap:"butt",data:{data:{modelId:this.modelId}}})},highlightOverlay:function(a){var b=this,c=a.createGroup();return c.children=b.render(a,ba({},b.options.highlight,{border:{color:b.getBorderColor()}})),c}});ba($d.fn,ud);var _d=la.extend({init:function(a,b,c){var d=this;d.value=a,d.sector=b,la.fn.init.call(d,c),d.id=Na(),d.enableDiscovery()},options:{color:Zc,overlay:{gradient:rc},border:{width:.5},labels:{visible:!1,distance:35,font:qb,margin:Fa(.5),align:gb,zIndex:1,position:kc},animation:{type:mc},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var a,b=this,c=b.options,d=c.labels,e=b.value;b._rendered||b.visible===!1||(b._rendered=!0,d.template?(a=ea(d.template),e=a({dataItem:b.dataItem,category:b.category,value:b.value,series:b.series,percentage:b.percentage})):d.format&&(e=Ba(d.format,e)),d.visible&&e&&(b.label=new xa(e,ba({},d,{id:Na(),align:eb,vAlign:"",animation:{type:Gb,delay:b.animationDelay}})),b.append(b.label)))},reflow:function(a){var b=this;b.render(),b.box=a,b.reflowLabel()},reflowLabel:function(){var a,b,c,d,e=this,f=e.sector.clone(),g=e.options,h=e.label,i=g.labels,j=i.distance,k=f.middle();h&&(d=h.box.height(),c=h.box.width(),i.position==eb?(f.r=V.abs((f.r-d)/2)+d,a=f.point(k),h.reflow(ja(a.x,a.y-d/2,a.x,a.y))):i.position==Mb?(f.r=f.r-d/2,a=f.point(k),h.reflow(ja(a.x,a.y-d/2,a.x,a.y))):(a=f.clone().expand(j).point(k),a.x>=f.c.x?(b=a.x+c,h.orientation=qc):(b=a.x-c,h.orientation=Ob),h.reflow(ja(b,a.y-d,a.x,a.y))))},getViewElements:function(a){var b=this,c=b.sector,d=b.options,e=d.border||{},f=e.width>0?{stroke:e.color,strokeWidth:e.width,strokeOpacity:e.opacity,dashType:e.dashType}:{},g=[],h=d.overlay;return h&&(h=ba({},d.overlay,{r:c.r,ir:c.ir,cx:c.c.x,cy:c.c.y,bbox:c.getBBox()})),b.value&&g.push(b.createSegment(a,c,ba({id:b.id,fill:d.color,overlay:h,fillOpacity:d.opacity,strokeOpacity:d.opacity,animation:ba(d.animation,{delay:b.animationDelay}),data:{modelId:b.modelId},zIndex:d.zIndex,singleSegment:1===(b.options.data||[]).length},f))),Aa(g,la.fn.getViewElements.call(b,a)),g},createSegment:function(a,b,c){return c.singleSegment?a.createCircle(b.c,b.r,c):a.createSector(b,c)},highlightOverlay:function(a,b){var c,d=this,e=d.options.highlight||{},f=e.border||{},g=d.id+lc;return b=ba({},b,{id:g}),0!==d.value&&(c=d.createSegment(a,d.sector,ba({},b,{fill:e.color,fillOpacity:e.opacity,strokeOpacity:f.opacity,strokeWidth:f.width,stroke:f.color,id:null,data:{modelId:d.modelId}}))),c},tooltipAnchor:function(a,b){var c=this,d=c.sector.adjacentBox(Qc,a,b);return new sa(d.x1,d.y1)},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});ba(_d.fn,ud);var ae=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.plotArea=a,c.points=[],c.legendItems=[],c.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var a=this;a.traverseDataPoints(X(a.addValue,a))},traverseDataPoints:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=n.options,p=n.plotArea.options.seriesColors||[],q=p.length,r=o.series,s=r.length,t=Na(),u=0;for(e=0;s>e;e++){for(b=r[e],g=b.data,k=n.pointsTotal(b),h=360/k,l=Ca(b.startAngle)?b.startAngle:o.startAngle,e!=s-1&&b.labels.position==kc&&(b.labels.position=eb),m=0;m<g.length;m++)c=ld.current.bindPoint(b,m),i=c.valueFields.value,d=c.fields,f=La(i*h,sb),j=1!=g.length&&!!d.explode,da(b.color)||(b.color=d.color||p[m%q]),a(i,new ua(null,0,0,l,f),{owner:n,category:d.category||"",index:u,series:b,seriesIx:e,dataItem:g[m],percentage:i/k,explode:j,visibleInLegend:d.visibleInLegend,visible:d.visible,overlay:{id:t+e},zIndex:s-e,animationDelay:n.animationDelay(m,e,s)}),c.fields.visible!==!1&&(l+=f),u++;u=0}},evalSegmentOptions:function(a,b,c){var d=c.series;J(a,{value:b,series:d,dataItem:c.dataItem,category:c.category,percentage:c.percentage},{defaults:d._defaults,excluded:["data"]})},addValue:function(a,b,c){var d,e=this;if(e.createLegendItem(a,c),c.visible!==!1){var f=ba({},c.series,{index:c.index});e.evalSegmentOptions(f,a,c),d=new _d(a,b,f),W(d,c),e.append(d),e.points.push(d)}},createLegendItem:function(a,b){var c,d,e,f,g=this,h=(g.options.legend||{}).labels||{},i=(g.options.legend||{}).inactiveItems||{};b&&b.visibleInLegend!==!1&&(c=b.category||"",(h||{}).template&&(d=ea(h.template),c=d({text:c,series:b.series,dataItem:b.dataItem,percentage:b.percentage,value:a})),b.visible===!1?(e=(i.markers||{}).color,f=(i.labels||{}).color):(e=(b.series||{}).color,f=h.color),c&&g.legendItems.push({pointIndex:b.index,text:c,series:b.series,markerColor:e,labelColor:f}))},pointsTotal:function(a){var b,c,d,e=a.data,f=e.length,g=0;for(c=0;f>c;c++)d=ld.current.bindPoint(a,c),b=d.valueFields.value,"string"==typeof b&&(b=parseFloat(b)),b&&d.fields.visible!==!1&&(g+=b);return g},reflow:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.options,l=a.clone(),m=5,n=V.min(l.width(),l.height()),o=n/2,p=n-.85*n,q=Oa(k.padding,p),r=ja(l.x1,l.y1,l.x1+n,l.y1+n),s=r.center(),t=j.seriesConfigs||[],u=l.center(),v=j.points,w=v.length,x=k.series.length,y=[],z=[];for(q=q>o-m?o-m:q,r.translate(u.x-s.x,u.y-s.y),g=o-q,i=sa(g+r.x1+q,g+r.y1+q),h=0;w>h;h++)e=v[h],f=e.sector,f.r=g,f.c=i,c=e.seriesIx,t.length&&(b=t[c],f.ir=b.ir,f.r=b.r),c==x-1&&e.explode&&(f.c=f.clone().radius(.15*f.r).point(f.middle())),e.reflow(r),d=e.label,d&&d.options.position===kc&&c==x-1&&(d.orientation===qc?z.push(d):y.push(d));y.length>0&&(y.sort(j.labelComparator(!0)),j.leftLabelsReflow(y)),z.length>0&&(z.sort(j.labelComparator(!1)),j.rightLabelsReflow(z)),j.box=r},leftLabelsReflow:function(a){var b=this,c=b.distanceBetweenLabels(a);b.distributeLabels(c,a)},rightLabelsReflow:function(a){var b=this,c=b.distanceBetweenLabels(a);b.distributeLabels(c,a)},distanceBetweenLabels:function(a){var b,c,d,e=this,f=e.points,g=f[f.length-1],h=g.sector,i=a[0].box,j=a.length-1,k=h.r+g.options.labels.distance,l=[];for(c=La(i.y1-(h.c.y-k-i.height()-i.height()/2)),l.push(c),d=0;j>d;d++)i=a[d].box,b=a[d+1].box,c=La(b.y1-i.y2),l.push(c);return c=La(h.c.y+k-a[j].box.y2-a[j].box.height()/2),l.push(c),l},distributeLabels:function(a,b){var c,d,e,f,g=this,h=a.length;for(f=0;h>f;f++)for(d=e=f,c=-a[f];c>0&&(d>=0||h>e);)c=g._takeDistance(a,f,--d,c),c=g._takeDistance(a,f,++e,c);g.reflowLabels(a,b)},_takeDistance:function(a,b,c,d){if(a[c]>0){var e=V.min(a[c],d);d-=e,a[c]-=e,a[b]+=e}return d},reflowLabels:function(a,b){var c,d,e,f,g=this,h=g.points,i=h[h.length-1],j=i.sector,k=b.length,l=i.options.labels,m=l.distance,n=j.c.y-(j.r+m)-b[0].box.height();for(a[0]+=2,f=0;k>f;f++)c=b[f],n+=a[f],e=c.box,d=g.hAlignLabel(e.x2,j.clone().expand(m),n,n+e.height(),c.orientation==qc),c.orientation==qc?(l.align!==gb&&(d=j.r+j.c.x+m),c.reflow(ja(d+e.width(),n,d,n))):(l.align!==gb&&(d=j.c.x-j.r-m),c.reflow(ja(d-e.width(),n,d,n))),n+=e.height()},getViewElements:function(a){var b,c,d,e,f,h,i,j,k=this,l=k.options,m=l.connectors,n=k.points,o=[],p=n.length,q=4;for(j=0;p>j;j++)if(f=n[j],c=f.sector,d=c.middle(),i=f.label,h={seriesId:f.seriesIx},i&&(e=[],i.options.position===kc&&0!==f.value)){var r,s,t,u=i.box,v=c.c,w=c.point(d),x=sa(u.x1,u.center().y);w=c.clone().expand(m.padding).point(d),e.push(w),i.orientation==qc?(s=sa(u.x1-m.padding,u.center().y),t=g(v,w,x,s),x=sa(s.x-q,s.y),t=t||x,t.x=V.min(t.x,x.x),k.pointInCircle(t,c.c,c.r+q)||t.x<c.c.x?(r=c.c.x+c.r+q,e.push(f.options.labels.align!==jb?r<x.x?sa(r,w.y):sa(w.x+2*q,w.y):sa(r,w.y)),e.push(sa(x.x,s.y))):(t.y=s.y,e.push(t))):(s=sa(u.x2+m.padding,u.center().y),t=g(v,w,x,s),x=sa(s.x+q,s.y),t=t||x,t.x=V.max(t.x,x.x),k.pointInCircle(t,c.c,c.r+q)||t.x>c.c.x?(r=c.c.x-c.r-q,e.push(f.options.labels.align!==jb?r>x.x?sa(r,w.y):sa(w.x-2*q,w.y):sa(r,w.y)),e.push(sa(x.x,s.y))):(t.y=s.y,e.push(t))),e.push(s),b=a.createPolyline(e,!1,{id:Na(),stroke:m.color,strokeWidth:m.width,animation:{type:Gb,delay:f.animationDelay},data:{modelId:f.modelId}}),o.push(b)}return Aa(o,la.fn.getViewElements.call(k,a)),o},labelComparator:function(a){return a=a?-1:1,function(b,c){return b=(La(b.parent.sector.middle())+270)%360,c=(La(c.parent.sector.middle())+270)%360,(b-c)*a}},hAlignLabel:function(a,b,c,d,e){var f=b.c.x,g=b.c.y,h=b.r,i=V.min(V.abs(g-c),V.abs(g-d));return i>h?a:f+V.sqrt(h*h-i*i)*(e?1:-1)},pointInCircle:function(a,b,c){return n(b.x-a.x)+n(b.y-a.y)<n(c)},formatPointValue:function(a,b){return Ba(b,a.value)},animationDelay:function(a){return a*nc}}),be=_d.extend({options:{overlay:{gradient:sc},labels:{position:eb},animation:{type:mc}},reflowLabel:function(){var a,b,c=this,d=c.sector.clone(),e=c.options,f=c.label,g=e.labels,h=d.middle();f&&(b=f.box.height(),g.position==eb?(d.r-=(d.r-d.ir)/2,a=d.point(h),f.reflow(new ja(a.x,a.y-b/2,a.x,a.y))):_d.fn.reflowLabel.call(c))},createSegment:function(a,b,c){return a.createRing(b,c)}});ba(be.fn,ud);var ce=ae.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(a,b,c){var d,e=this;if(e.createLegendItem(a,c),a&&c.visible!==!1){var f=ba({},c.series);e.evalSegmentOptions(f,a,c),d=new be(a,b,f),W(d,c),e.append(d),e.points.push(d)}},reflow:function(a){var b,c,d,e,f,g,h=this,i=h.options,j=a.clone(),k=5,l=V.min(j.width(),j.height()),m=l/2,n=l-.85*l,o=Oa(i.padding,n),p=i.series,q=p.length,r=0,s=0,t=0,u=0;for(h.seriesConfigs=[],o=o>m-k?m-k:o,d=m-o,f=0;q>f;f++)b=p[f],0===f&&Ca(b.holeSize)&&(c=b.holeSize,d-=b.holeSize),Ca(b.size)?d-=b.size:r++,Ca(b.margin)&&f!=q-1&&(d-=b.margin);for(Ca(c)||(u=(m-o)/(q+.75),c=.75*u,d-=c),t=c,f=0;q>f;f++)b=p[f],e=Oa(b.size,d/r),t+=s,g=t+e,h.seriesConfigs.push({ir:t,r:g}),s=b.margin||0,t=g;ae.fn.reflow.call(h,a)},animationDelay:function(a,b,c){return a*wb+Kb*(b+1)/(c+1)}}),de=ka.extend({init:function(a){var b=this;ka.fn.init.call(b,a),a=b.options,b.id=Na(),b.title=ya.buildTitle(a.title,b,de.fn.options.title),b.content=new la,b.chartContainer=new ee({},b),b.append(b.content),b.axes=[],b.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:Ob},visible:!0},appendAxis:function(a){var b=this;b.content.append(a),b.axes.push(a),a.pane=b},appendChart:function(a){var b=this;b.chartContainer.parent!==b.content&&b.content.append(b.chartContainer),b.charts.push(a),b.chartContainer.append(a),a.pane=b},empty:function(){var a,b=this,c=b.parent;if(c){for(a=0;a<b.axes.length;a++)c.removeAxis(b.axes[a]);for(a=0;a<b.charts.length;a++)c.removeChart(b.charts[a])}b.axes=[],b.charts=[],b.content.destroy(),b.content.children=[],b.chartContainer.children=[]},reflow:function(a){var b=this;Ia(b.children)===b.content&&b.children.pop(),ka.fn.reflow.call(b,a),b.title&&(b.contentBox.y1+=b.title.box.height())},getViewElements:function(a){var b=this,c=ka.fn.getViewElements.call(b,a),d=a.createGroup({id:b.id}),e=[];return d.children=c.concat(b.renderGridLines(a),b.content.getViewElements(a)),b.view=a,b.options.visible&&(e=[d]),e},renderGridLines:function(a){var b,c,d,e,f,g,h=this,i=h.axes,j=i.concat(h.parent.axes),k=[],l=[];for(c=0;c<i.length;c++)for(e=i[c],f=e.options.vertical,b=f?k:l,d=0;d<j.length;d++)0===b.length&&(g=j[d],f!==g.options.vertical&&Aa(b,e.renderGridLines(a,g,e)));return k.concat(l)},refresh:function(){var a=this,b=a.view;b&&b.replace(a)},clipBox:function(){return this.chartContainer.clipBox}}),ee=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,a),c.pane=b},shouldClip:function(){var a,b=this,c=b.children,d=c.length;for(a=0;d>a;a++)if(c[a].options.clip===!1)return!1;return!0},_clipBox:function(){var a,b,c,d,e=this,f=e.pane,g=f.axes,h=g.length,i=f.box.clone();for(b=0;h>b;b++)d=g[b],a=d.options.vertical?_c:$c,c=d.lineBox(),i[a+1]=c[a+1],i[a+2]=c[a+2];return i},getViewElements:function(a){var b,c=this;return c.shouldClip()&&!c.clipPathId&&(c.clipBox=c._clipBox(),c.clipPathId=Na(),a.createClipPath(c.clipPathId,c.clipBox)),b=a.createGroup({clipPathId:c.clipPathId}),b.children=b.children.concat(la.fn.getViewElements.call(c,a)),[b]},destroy:function(){la.fn.destroy.call(this),delete this.parent}}),fe=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.series=a,c.setSeriesIndexes(),c.charts=[],c.options.legend.items=[],c.axes=[],c.crosshairs=[],c.id=Na(),c.enableDiscovery(),c.createPanes(),c.render(),c.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Ya,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},setSeriesIndexes:function(){var a,b,c=this.series;for(a=0;a<c.length;a++)b=c[a],b.index=a},createPanes:function(){var a,b,c=this,d=[],e=c.options.panes||[],f=V.max(e.length,1);for(a=0;f>a;a++)b=new de(e[a]),b.paneIndex=a,d.push(b),c.append(b);c.panes=d},destroy:function(){var a,b=this,c=b.charts,d=b.axes;for(a=0;a<c.length;a++)c[a].destroy();for(a=0;a<d.length;a++)d[a].destroy();la.fn.destroy.call(b)},createCrosshairs:function(a){var b,c,d,e,f,g=this;for(a=a||g.panes,b=0;b<a.length;b++)for(d=a[b],c=0;c<d.axes.length;c++)e=d.axes[c],e.options.crosshair&&e.options.crosshair.visible&&(f=new ue(e,e.options.crosshair),g.crosshairs.push(f),d.content.append(f))},removeCrosshairs:function(a){var b,c,d=this,e=d.crosshairs,f=a.axes;for(b=e.length-1;b>=0;b--)for(c=0;c<f.length;c++)if(e[b].axis===f[c]){e.splice(b,1);break}},findPane:function(a){var b,c,d=this,e=d.panes;for(b=0;b<e.length;b++)if(e[b].options.name===a){c=e[b];break}return c||e[0]},findPointPane:function(a){var b,c,d=this,e=d.panes;for(b=0;b<e.length;b++)if(e[b].box.containsPoint(a)){c=e[b];break}return c},appendAxis:function(a){var b=this,c=b.findPane(a.options.pane);c.appendAxis(a),b.axes.push(a),a.plotArea=b},removeAxis:function(a){var b,c,d=this,e=[];for(b=0;b<d.axes.length;b++)c=d.axes[b],a!==c?e.push(c):c.destroy();d.axes=e},appendChart:function(a,b){var c=this;c.charts.push(a),b?b.appendChart(a):c.append(a)},removeChart:function(a){var b,c,d=this,e=[];for(b=0;b<d.charts.length;b++)c=d.charts[b],c!==a?e.push(c):c.destroy();d.charts=e},addToLegend:function(a){var b,c,d,e,f,g,h,i=a.length,j=[],k=this.options.legend,l=k.labels||{},m=k.inactiveItems||{};for(b=0;i>b;b++)c=a[b],c.visibleInLegend!==!1&&(d=c.name||"",l.template&&(d=ea(l.template)({text:d,series:c})),e=c.color,h=c._defaults,da(e)&&h&&(e=h.color),c.visible===!1?(f=m.labels.color,g=m.markers.color):(f=l.color,g=e),d&&j.push({text:d,labelColor:f,markerColor:g,series:c,active:c.visible}));Aa(k.items,j)},groupAxes:function(a){var b,c,d,e,f=[],g=[];for(d=0;d<a.length;d++)for(b=a[d].axes,e=0;e<b.length;e++)c=b[e],c.options.vertical?g.push(c):f.push(c);return{x:f,y:g,any:f.concat(g)}},groupSeriesByPane:function(){var a,b,c,d=this,e=d.series,f={};for(a=0;a<e.length;a++)c=e[a],b=d.seriesPaneName(c),f[b]?f[b].push(c):f[b]=[c];return f},filterVisibleSeries:function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],c.visible!==!1&&d.push(c);return d},reflow:function(a){var b=this,c=b.options.plotArea,d=b.panes,e=Fa(c.margin);b.box=a.clone().unpad(e),b.reflowPanes(),b.reflowAxes(d),b.reflowCharts(d)},redraw:function(a){var b,c=this;for(a=[].concat(a),b=0;b<a.length;b++)c.removeCrosshairs(a[b]),a[b].empty();for(c.render(a),c.reflowAxes(c.panes),c.reflowCharts(a),c.createCrosshairs(a),b=0;b<a.length;b++)a[b].refresh()},axisCrossingValues:function(a,b){var c,d=a.options,e=[].concat(d.axisCrossingValues||d.axisCrossingValue),f=b.length-e.length,g=e[0]||0;for(c=0;f>c;c++)e.push(g);return e},alignAxisTo:function(a,b,c,d){var e=a.getSlot(c,c,!0),f=a.options.reverse?2:1,g=b.getSlot(d,d,!0),h=b.options.reverse?2:1,i=a.box.translate(g[$c+h]-e[$c+f],g[_c+h]-e[_c+f]);a.pane!==b.pane&&i.translate(0,a.pane.box.y1-b.pane.box.y1),a.reflow(i)},alignAxes:function(a,b){var c,d,e,f,g=this,h=a[0],i=b[0],j=g.axisCrossingValues(h,b),k=g.axisCrossingValues(i,a),l={},m={},n={},o={};for(f=0;f<b.length;f++)e=b[f],c=e.pane,d=c.id,g.alignAxisTo(e,h,k[f],j[f]),e.options._overlap||(La(e.lineBox().x1)===La(h.lineBox().x1)&&(l[d]&&e.reflow(e.box.alignTo(l[d].box,Ob).translate(-e.options.margin,0)),l[d]=e),La(e.lineBox().x2)===La(h.lineBox().x2)&&(e._mirrored||(e.options.labels.mirror=!e.options.labels.mirror,e._mirrored=!0),g.alignAxisTo(e,h,k[f],j[f]),m[d]&&e.reflow(e.box.alignTo(m[d].box,qc).translate(e.options.margin,0)),m[d]=e),0!==f&&i.pane===e.pane&&e.alignTo(i));for(f=0;f<a.length;f++)e=a[f],c=e.pane,d=c.id,g.alignAxisTo(e,i,j[f],k[f]),e.options._overlap||(La(e.lineBox().y1)===La(i.lineBox().y1)&&(e._mirrored||(e.options.labels.mirror=!e.options.labels.mirror,e._mirrored=!0),g.alignAxisTo(e,i,j[f],k[f]),n[d]&&e.reflow(e.box.alignTo(n[d].box,Oc).translate(0,-e.options.margin)),n[d]=e),La(e.lineBox().y2,kb)===La(i.lineBox().y2,kb)&&(o[d]&&e.reflow(e.box.alignTo(o[d].box,$a).translate(0,e.options.margin)),o[d]=e),0!==f&&e.alignTo(h))},shrinkAxisWidth:function(a){var b,c,d,e=this,f=e.groupAxes(a).any,g=A(f),h=0;for(b=0;b<a.length;b++)c=a[b],c.axes.length>0&&(h=V.max(h,g.width()-c.contentBox.width()));for(b=0;b<f.length;b++)d=f[b],d.options.vertical||d.reflow(d.box.shrink(h,0))},shrinkAxisHeight:function(a){var b,c,d,e,f,g;for(b=0;b<a.length;b++)for(c=a[b],d=c.axes,e=V.max(0,A(d).height()-c.contentBox.height()),f=0;f<d.length;f++)g=d[f],g.options.vertical&&g.reflow(g.box.shrink(0,e))},fitAxes:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.groupAxes(a).any,l=0;for(h=0;h<a.length;h++)if(f=a[h],b=f.axes,c=f.contentBox,b.length>0)for(d=A(b),l=V.max(l,c.x1-d.x1),e=V.max(c.y1-d.y1,c.y2-d.y2),i=0;i<b.length;i++)g=b[i],g.reflow(g.box.translate(0,e));for(h=0;h<k.length;h++)g=k[h],g.reflow(g.box.translate(l,0))},reflowAxes:function(a){var b,c=this,d=c.groupAxes(a);for(b=0;b<a.length;b++)c.reflowPaneAxes(a[b]);d.x.length>0&&d.y.length>0&&(c.alignAxes(d.x,d.y),
c.shrinkAxisWidth(a),c.alignAxes(d.x,d.y),c.shrinkAxisHeight(a),c.alignAxes(d.x,d.y),c.fitAxes(a))},reflowPaneAxes:function(a){var b,c=a.axes,d=c.length;if(d>0)for(b=0;d>b;b++)c[b].reflow(a.contentBox)},reflowCharts:function(a){var b,c,d=this,e=d.charts,f=e.length,g=d.box;for(c=0;f>c;c++)b=e[c].pane,(!b||Ga(b,a))&&e[c].reflow(g)},reflowPanes:function(){var a,b,c,d,e,f=this,g=f.box,h=f.panes,i=h.length,j=g.height(),k=i,l=0,m=g.y1;for(a=0;i>a;a++)b=h[a],d=b.options.height,b.options.width=g.width(),b.options.height?(d.indexOf&&d.indexOf("%")&&(e=parseInt(d,10)/100,b.options.height=e*g.height()),b.reflow(g.clone()),j-=b.options.height):l++;for(a=0;i>a;a++)b=h[a],b.options.height||(b.options.height=j/l);for(a=0;i>a;a++)b=h[a],c=g.clone().move(g.x1,m),b.reflow(c),k--,m+=b.options.height},backgroundBox:function(){var a,b,c,d,e,f,g=this,h=g.axes,i=h.length;for(c=0;i>c;c++)for(e=h[c],d=0;i>d;d++)f=h[d],e.options.vertical!==f.options.vertical&&(a=e.lineBox().clone().wrap(f.lineBox()),b=b?b.wrap(a):a);return b||g.box},getViewElements:function(a){var b=this,c=b.backgroundBox(),d=b.options,e=d.plotArea,f=e.border||{},g=la.fn.getViewElements.call(b,a);return Aa(g,[a.createRect(c,{fill:e.background,fillOpacity:e.opacity,zIndex:-2,strokeWidth:.1}),a.createRect(c,{id:b.id,data:{modelId:b.modelId},stroke:f.width?f.color:"",strokeWidth:f.width,fill:Zc,fillOpacity:0,zIndex:-1,dashType:f.dashType})]),g},pointsByCategoryIndex:function(a){var b,c,d,e,f,g=this.charts,h=[];if(null!==a)for(b=0;b<g.length;b++)if(f=g[b],"_navigator"!==f.pane.options.name&&(d=g[b].categoryPoints[a],d&&d.length))for(c=0;c<d.length;c++)e=d[c],e&&Ca(e.value)&&null!==e.value&&h.push(e);return h},pointsBySeriesIndex:function(a){var b,c,d,e,f,g=this.charts,h=[];for(d=0;d<g.length;d++)for(f=g[d],b=f.points,e=0;e<b.length;e++)c=b[e],c&&c.options.index===a&&h.push(c);return h},paneByPoint:function(a){var b,c,d=this,e=d.panes;for(c=0;c<e.length;c++)if(b=e[c],b.box.containsPoint(a))return b}}),ge=fe.extend({init:function(a,b){var c=this;if(c.namedCategoryAxes={},c.namedValueAxes={},c.valueAxisRangeTracker=new he,a.length>0){c.invertAxes=Ga(a[0].type,[Va,bb,Xc,Vc]);for(var d=0;d<a.length;d++){var e=a[d].stack;if(e&&"100%"===e.type){c.stack100=!0;break}}}fe.fn.init.call(c,a,b)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(a){var b=this;a=a||b.panes,b.createCategoryAxes(a),b.aggregateCategories(a),b.createCharts(a),b.createValueAxes(a)},removeAxis:function(a){var b=this,c=a.options.name;fe.fn.removeAxis.call(b,a),a instanceof pd?delete b.namedCategoryAxes[c]:(b.valueAxisRangeTracker.reset(c),delete b.namedValueAxes[c]),a===b.categoryAxis&&delete b.categoryAxis,a===b.valueAxis&&delete b.valueAxis},createCharts:function(a){var b,c,d,e,f=this,g=f.groupSeriesByPane();for(b=0;b<a.length;b++)c=a[b],d=g[c.options.name||"default"]||[],f.addToLegend(d),e=f.filterVisibleSeries(d),e&&(f.createAreaChart(L(e,[Ra,Vc]),c),f.createBarChart(L(e,[jb,Va]),c),f.createLineChart(L(e,[Rb,Xc]),c),f.createCandlestickChart(L(e,cb),c),f.createBoxPlotChart(L(e,_a),c),f.createOHLCChart(L(e,jc),c),f.createBulletChart(L(e,[bb,Wc]),c))},aggregateCategories:function(a){var b,c,d,e,f,g=this,h=g.srcSeries||g.series,i=[];for(b=0;b<h.length;b++)c=h[b],d=g.seriesCategoryAxis(c),e=g.findPane(d.options.pane),f=B(d.options.type,ob),(f||c.categoryField)&&Ga(e,a)&&(c=g.aggregateSeries(c,d)),i.push(c);g.srcSeries=h,g.series=i},aggregateSeries:function(a,b){var d,e,f,g,h,i=b.options,j=B(b.options.type,ob),k=i.categories,l=i.srcCategories||k,m=a.data,n=[],q=b.range(),r=ba({},a),s=ba({},a),t=o;for(r.data=g=[],j&&(t=p),d=0;d<m.length;d++)e=a.categoryField?t(a.categoryField,m[d]):l[d],f=b.categoryIndex(e,q),f>-1&&(n[f]=n[f]||[],n[f].push(d));for(h=new ye(s,ld.current,c.current),d=0;d<k.length;d++)g[d]=h.aggregatePoints(n[d],k[d]);return r},appendChart:function(a,b){for(var c=this,d=a.options.series,e=c.seriesCategoryAxis(d[0]),f=e.options.categories,g=V.max(0,m(d)-f.length);g--;)f.push("");c.valueAxisRangeTracker.update(a.valueAxisRanges),fe.fn.appendChart.call(c,a,b)},seriesPaneName:function(b){var c=this,d=c.options,e=b.axis,f=[].concat(d.valueAxis),g=a.grep(f,function(a){return a.name===e})[0],h=d.panes||[{}],i=(h[0]||{}).name||"default",j=(g||{}).pane||i;return j},seriesCategoryAxis:function(a){var b=this,c=a.categoryAxis,d=c?b.namedCategoryAxes[c]:b.categoryAxis;if(!d)throw new Error("Unable to locate category axis with name "+c);return d},createBarChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=d.stack,f=e&&"100%"===e.type,g=new zd(c,{series:a,invertAxes:c.invertAxes,isStacked:e,isStacked100:f,clip:!f,gap:d.gap,spacing:d.spacing});c.appendChart(g,b)}},createBulletChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=new Ad(c,{series:a,invertAxes:c.invertAxes,gap:d.gap,spacing:d.spacing});c.appendChart(e,b)}},createLineChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=d.stack,f=e&&"100%"===e.type,g=new Kd(c,{invertAxes:c.invertAxes,isStacked:e,isStacked100:f,clip:!f,series:a});c.appendChart(g,b)}},createAreaChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=d.stack,f=e&&"100%"===e.type,g=new Pd(c,{invertAxes:c.invertAxes,isStacked:e,isStacked100:f,clip:!f,series:a});c.appendChart(g,b)}},createOHLCChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=new Yd(c,{invertAxes:c.invertAxes,gap:d.gap,series:a,spacing:d.spacing});c.appendChart(e,b)}},createCandlestickChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=new Wd(c,{invertAxes:c.invertAxes,gap:d.gap,series:a,spacing:d.spacing});c.appendChart(e,b)}},createBoxPlotChart:function(a,b){if(0!==a.length){var c=this,d=a[0],e=new Zd(c,{invertAxes:c.invertAxes,gap:d.gap,series:a,spacing:d.spacing});c.appendChart(e,b)}},axisRequiresRounding:function(a,b){var c,d,e=this,f=L(e.series,hd);for(c=0;c<f.length;c++)if(d=f[c].categoryAxis||"",d===a||!d&&0===b)return!0},createCategoryAxes:function(a){var b,c,d,e,f,g,h,i,j=this,k=j.invertAxes,l=[].concat(j.options.categoryAxis),m=[];for(b=0;b<l.length;b++)if(c=l[b],d=j.findPane(c.pane),Ga(d,a)){if(g=c.name,e=c.categories||[],f=c.type||"",c=ba({vertical:k,axisCrossingValue:k?Vb:0},c),Ca(c.justified)||(c.justified=j.isJustified()),j.axisRequiresRounding(g,b)&&(c.justified=!1,c.roundToBaseUnit=!0),h=P(c,e[0])?new qd(c):new pd(c),g){if(j.namedCategoryAxes[g])throw new Error("Category axis with name "+g+" is already defined");j.namedCategoryAxes[g]=h}h.axisIndex=b,m.push(h),j.appendAxis(h)}i=j.categoryAxis||m[0],j.categoryAxis=i,k?j.axisY=i:j.axisX=i},isJustified:function(){var a,b,c=this,d=c.series;for(a=0;a<d.length;a++)if(b=d[a],!Ga(b.type,[Ra,Vc]))return!1;return!0},createValueAxes:function(a){var b,c,d,e,f,g,h,i,j,k=this,l=k.valueAxisRangeTracker,m=l.query(),n=[].concat(k.options.valueAxis),o=k.invertAxes,p={vertical:!o},q=[];for(k.stack100&&(p.roundToMajorUnit=!1,p.labels={format:"P0"}),j=0;j<n.length;j++)if(b=n[j],c=k.findPane(b.pane),Ga(c,a)){if(i=b.name,h=B(b.type,Tb)?{min:.1,max:1}:{min:0,max:1},f=l.query(i)||m||h,0===j&&f&&m&&(f.min=V.min(f.min,m.min),f.max=V.max(f.max,m.max)),g=B(b.type,Tb)?qa:ra,d=new g(f.min,f.max,ba({},p,b)),i){if(k.namedValueAxes[i])throw new Error("Value axis with name "+i+" is already defined");k.namedValueAxes[i]=d}d.axisIndex=j,q.push(d),k.appendAxis(d)}e=k.valueAxis||q[0],k.valueAxis=e,o?k.axisX=e:k.axisY=e},click:function(b,c){var d,e,f,g=this,h=b._eventCoordinates(c),i=new sa(h.x,h.y),j=g.pointPane(i),k=[],l=[];if(j){for(d=j.axes,e=0;e<d.length;e++)f=d[e],f.getValue?D(l,f.getValue(i)):D(k,f.getCategory(i));0===k.length&&D(k,g.categoryAxis.getCategory(i)),k.length>0&&l.length>0&&b.trigger(oc,{element:a(c.target),category:z(k),value:z(l)})}},pointPane:function(a){var b,c,d=this,e=d.panes;for(c=0;c<e.length;c++)if(b=e[c],b.contentBox.containsPoint(a))return b}}),he=Z.extend({init:function(){var a=this;a.axisRanges={}},update:function(a){var b,c,d,e=this,f=e.axisRanges;for(d in a)b=f[d],c=a[d],f[d]=b=b||{min:Vb,max:Wb},b.min=V.min(b.min,c.min),b.max=V.max(b.max,c.max)},reset:function(a){this.axisRanges[a]=b},query:function(a){return this.axisRanges[a]}}),ie=fe.extend({init:function(a,b){var c=this;c.namedXAxes={},c.namedYAxes={},c.xAxisRangeTracker=new he,c.yAxisRangeTracker=new he,fe.fn.init.call(c,a,b)},options:{xAxis:{},yAxis:{}},render:function(a){var b,c,d,e,f=this,g=f.groupSeriesByPane();for(a=a||f.panes,b=0;b<a.length;b++)c=a[b],d=g[c.options.name||"default"]||[],f.addToLegend(d),e=f.filterVisibleSeries(d),e&&(f.createScatterChart(L(e,tc),c),f.createScatterLineChart(L(e,uc),c),f.createBubbleChart(L(e,ab),c));f.createAxes(a)},appendChart:function(a,b){var c=this;c.xAxisRangeTracker.update(a.xAxisRanges),c.yAxisRangeTracker.update(a.yAxisRanges),fe.fn.appendChart.call(c,a,b)},removeAxis:function(a){var b=this,c=a.options.name;fe.fn.removeAxis.call(b,a),a.options.vertical?(b.yAxisRangeTracker.reset(c),delete b.namedYAxes[c]):(b.xAxisRangeTracker.reset(c),delete b.namedXAxes[c]),a===b.axisX&&delete b.axisX,a===b.axisY&&delete b.axisY},seriesPaneName:function(b){var c=this,d=c.options,e=b.xAxis,f=[].concat(d.xAxis),g=a.grep(f,function(a){return a.name===e})[0],h=b.yAxis,i=[].concat(d.yAxis),j=a.grep(i,function(a){return a.name===h})[0],k=d.panes||[{}],l=k[0].name||"default",m=(g||{}).pane||(j||{}).pane||l;return m},createScatterChart:function(a,b){var c=this;a.length>0&&c.appendChart(new Sd(c,{series:a}),b)},createScatterLineChart:function(a,b){var c=this;a.length>0&&c.appendChart(new Td(c,{series:a}),b)},createBubbleChart:function(a,b){var c=this;a.length>0&&c.appendChart(new Ud(c,{series:a}),b)},createXYAxis:function(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.name,n=b?l.namedYAxes:l.namedXAxes,o=b?l.yAxisRangeTracker:l.xAxisRangeTracker,p=ba({},a,{vertical:b}),q=B(p.type,Tb),r=o.query(),s=q?{min:.1,max:1}:{min:0,max:1},t=o.query(m)||r||s,u=l.series,v=[p.min,p.max];for(f=0;f<u.length;f++)if(g=u[f],h=g[b?"yAxis":"xAxis"],h==p.name||0===c&&!h){i=ld.current.bindPoint(g,0).valueFields,v.push(i[b?"y":"x"]);break}for(0===c&&r&&(t.min=V.min(t.min,r.min),t.max=V.max(t.max,r.max)),k=0;k<v.length;k++)if(v[k]instanceof Date){j=!0;break}if(e=B(p.type,ob)||!p.type&&j?rd:q?qa:ra,d=new e(t.min,t.max,p),m){if(n[m])throw new Error((b?"Y":"X")+" axis with name "+m+" is already defined");n[m]=d}return l.appendAxis(d),d},createAxes:function(a){var b,c=this,d=c.options,e=[].concat(d.xAxis),f=[],g=[].concat(d.yAxis),h=[];S(e,function(d){b=c.findPane(this.pane),Ga(b,a)&&f.push(c.createXYAxis(this,!1,d))}),S(g,function(d){b=c.findPane(this.pane),Ga(b,a)&&h.push(c.createXYAxis(this,!0,d))}),c.axisX=c.axisX||f[0],c.axisY=c.axisY||h[0]},click:function(b,c){var d,e,f,g,h=this,i=b._eventCoordinates(c),j=new sa(i.x,i.y),k=h.axes,l=k.length,m=[],n=[];for(d=0;l>d;d++)e=k[d],g=e.options.vertical?n:m,f=e.getValue(j),null!==f&&g.push(f);m.length>0&&n.length>0&&b.trigger(oc,{element:a(c.target),x:z(m),y:z(n)})}}),je=fe.extend({render:function(){var a=this,b=a.series;a.createPieChart(b)},createPieChart:function(a){var b=this,c=a[0],d=new ae(b,{series:a,padding:c.padding,startAngle:c.startAngle,connectors:c.connectors,legend:b.options.legend});b.appendChart(d)},appendChart:function(a,b){fe.fn.appendChart.call(this,a,b),Aa(this.options.legend.items,a.legendItems)}}),ke=je.extend({render:function(){var a=this,b=a.series;a.createDonutChart(b)},createDonutChart:function(a){var b=this,c=a[0],d=new ce(b,{series:a,padding:c.padding,connectors:c.connectors,legend:b.options.legend});b.appendChart(d)}}),le=oa.extend({options:{easing:"easeOutElastic",duration:Kb},setup:function(){var a,b=this.element,c=b.config;b.options.singleSegment&&(c=b),this.endRadius=c.r,a=this.startRadius=c.ir||0,c.r=a},step:function(a){var b=this,c=b.element,d=b.endRadius,e=c.config,f=b.startRadius;c.options.singleSegment&&(e=c),e.r=Ha(f,d,a)}}),me=oa.extend({options:{easing:"easeOutElastic",duration:Kb},setup:function(){var a=this.element;a.endRadius=a.radius,a.radius=0},step:function(a){var b=this.element,c=b.endRadius;b.radius=Ha(0,c,a)}}),ne=za(Va,ia),oe=za(mc,le),pe=za(ab,me),qe=Z.extend({init:function(a,b,c){var d=this;d.options=ba({},d.options,c),d.view=a,d.viewElement=b,d._overlays=[]},options:{fill:Zc,fillOpacity:.2,stroke:Zc,strokeWidth:1,strokeOpacity:.2},show:function(b){var c,d,e,f,g,h=this,i=h.view,j=(h.viewElement,h._overlays);for(h.hide(),h._points=b=[].concat(b),e=0;e<b.length;e++)f=b[e],f&&(g=f.options,(!g||(g.highlight||{}).visible)&&(f.highlightOverlay&&f.visible!==!1&&(c=f.highlightOverlay(i,h.options),c&&(d=i.renderElement(c),a("#"+f.id).parent().append(d),j.push(d))),f.toggleHighlight&&f.toggleHighlight(i)))},hide:function(){for(var a,b,c,d,e=this,f=e._points,g=e._overlays;g.length;)a=e._overlays.pop(),a.parentNode.removeChild(a);if(f)for(b=0;b<f.length;b++)c=f[b],c&&(d=c.options,(!d||(d.highlight||{}).visible)&&c.toggleHighlight&&c.toggleHighlight(e.view));e._points=[]}}),re=Z.extend({init:function(b,c){var d=this;d.options=ba({},d.options,c),d.chartElement=b,d.template=re.template,d.template||(d.template=re.template=Ma("<div class='"+mb+"tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),d.element=a(d.template(d.options)).appendTo(b),d._moveProxy=X(d.move,d)},options:{border:{width:1},opacity:1,animation:{duration:Pc}},move:function(){var a,b=this,c=b.options,d=b.element;b.anchor&&(a=b._offset(),b.visible||d.css({top:a.top,left:a.left}),d.stop(!0,!0).show().animate({left:a.left,top:a.top},c.animation.duration),b.visible=!0)},_padding:function(){if(!this._chartPadding){var a=this.chartElement;this._chartPadding={top:parseInt(a.css("paddingTop"),10),left:parseInt(a.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var b=this,c=b.element,d=b.anchor,e=b._padding(),f=La(d.y+e.top),g=La(d.x+e.left),h=Y.support.zoomLevel(),i=a(window),j=window.pageYOffset||document.documentElement.scrollTop||0,k=window.pageXOffset||document.documentElement.scrollLeft||0;return j=b.chartElement.offset().top-j,k=b.chartElement.offset().left-k,f+=b._currentPosition(f+j,c.outerHeight(),i.outerHeight()/h),g+=b._currentPosition(g+k,c.outerWidth(),i.outerWidth()/h),{top:f,left:g}},setStyle:function(a){this.element.css({backgroundColor:a.background,borderColor:a.border.color||a.background,font:a.font,color:a.color,opacity:a.opacity,borderWidth:a.border.width})},show:function(){var a=this;a.showTimeout=setTimeout(a._moveProxy,Rc)},hide:function(){var a=this;clearTimeout(a.showTimeout),a.visible&&(a._hideElement(),a.point=null,a.visible=!1,a.index=null)},_hideElement:function(){this.element.fadeOut()},_pointContent:function(a){var b,c,d=this,e=ba({},d.options,a.options.tooltip);return Ca(a.value)&&(b=a.value.toString()),e.template?(c=ea(e.template),b=c({value:a.value,category:a.category,series:a.series,dataItem:a.dataItem,percentage:a.percentage,low:a.low,high:a.high,xLow:a.xLow,xHigh:a.xHigh,yLow:a.yLow,yHigh:a.yHigh})):e.format&&(b=a.formatValue(e.format)),b},_pointAnchor:function(a){var b=this,c=b.element;return a.tooltipAnchor(c.outerWidth(),c.outerHeight())},_currentPosition:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_updateStyle:function(a,b){if(Ca(a.background)||(a.background=b.color),!Ca(a.color)){var c=this,d=c.element,e=new ma(a.background).percBrightness();e>180?d.addClass(mb+Tc):d.removeClass(mb+Tc)}}}),se=re.extend({show:function(a){var b=this,c=ba({},b.options,a.options.tooltip);a&&(b.anchor=b._pointAnchor(a),b.anchor?(b.element.html(b._pointContent(a)),b._updateStyle(c,a.options),b.setStyle(c),re.fn.show.call(b,a)):b.hide())}}),te=re.extend({init:function(a,b,c){var d=this;re.fn.init.call(d,a,c),d.plotArea=b},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(b,c){var d,e=this,f=e.options,g=e.plotArea,h=g.categoryAxis,i=h.pointCategoryIndex(c),j=h.getCategory(c),k=h.getSlot(i);b=a.grep(b,function(a){var b=a.series.tooltip,c=b&&b.visible===!1;return!c}),b.length>0&&(d=e._content(b,j),e.element.html(d),e.anchor=e._slotAnchor(c,k),e._updateStyle(f,b[0].options),e.setStyle(f),re.fn.show.call(e))},_slotAnchor:function(a,b){var c,d=this,e=d.plotArea,f=e.categoryAxis,g=a.y-d.element.height()/2;return c=f.options.vertical?sa(a.x,g):sa(b.center().x,g)},_content:function(a,b){var c,d,e=this;return c=Y.template(e.options.sharedTemplate),d=c({points:a,category:b,categoryText:Ba(e.options.categoryFormat,b),content:e._pointContent})}}),ue=la.extend({init:function(a,b){var c=this;la.fn.init.call(c,b),c.axis=a,c.id||(c.id=Na()),c._visible=!1,c.stickyMode=a instanceof pd,c.enableDiscovery()},options:{color:Ya,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var a=this,b=a.element;a.getViewElements(a._view),b=a.element,b.refresh(Ea(a.id))},showAt:function(a){var b=this;b._visible=!0,b.point=a,b.repaint(),b.options.tooltip.visible&&(b.tooltip||(b.tooltip=new ve(b,ba({},b.options.tooltip,{stickyMode:b.stickyMode}))),b.tooltip.showAt(a))},hide:function(){var a=this;a._visible&&(a._visible=!1,a.repaint(),a.tooltip&&a.tooltip.hide())},linePoints:function(){var a,b,c,d=this,e=d.axis,f=e.options.vertical,g=d.getBox(),h=d.point,i=f?_c:$c;return b=sa(g.x1,g.y1),c=f?sa(g.x2,g.y1):sa(g.x1,g.y2),h&&(d.stickyMode?(a=e.getSlot(e.pointCategoryIndex(h)),b[i]=c[i]=a.center()[i]):b[i]=c[i]=h[i]),d.box=g,[b,c]},getBox:function(){var a,b,c,d=this,e=d.axis,f=e.pane.axes,g=f.length,h=e.options.vertical,i=e.lineBox().clone(),j=h?$c:_c;for(c=0;g>c;c++)b=f[c],b.options.vertical!=h&&(a?a.wrap(b.lineBox()):a=b.lineBox().clone());return i[j+1]=a[j+1],i[j+2]=a[j+2],i},getViewElements:function(a){var b=this,c=b.options,d=[];return b.points=b.linePoints(),b.element=a.createPolyline(b.points,!1,{data:{modelId:b.modelId},id:b.id,stroke:c.color,strokeWidth:c.width,strokeOpacity:c.opacity,dashType:c.dashType,zIndex:c.zIndex,visible:b._visible}),d.push(b.element),b._view=a,Aa(d,la.fn.getViewElements.call(b,a)),d},destroy:function(){var a=this;a.tooltip&&a.tooltip.destroy(),la.fn.destroy.call(a)}}),ve=re.extend({init:function(a,b){var c=this,d=a.axis.getRoot().parent.element;c.crosshair=a,re.fn.init.call(c,d,ba({},c.options,{background:a.axis.plotArea.options.seriesColors[0]},b)),c._updateStyle(c.options,{}),c.setStyle(c.options)},options:{padding:10},showAt:function(a){var b=this,c=b.element;b.point=a,b.element.html(b.content(a)),b.anchor=b.getAnchor(c.outerWidth(),c.outerHeight()),b.move()},move:function(){var a=this,b=a.element,c=a._offset();b.css({top:c.top,left:c.left}).show()},content:function(a){var b,c,d,e=this,f=e.options,g=e.crosshair.axis,h=g.options;return c=b=g[f.stickyMode?"getCategory":"getValue"](a),f.template?(d=ea(f.template),b=d({value:c})):f.format?b=Ba(f.format,c):h.type===ob&&(b=Ba(h.labels.dateFormats[h.baseUnit],c)),b},getAnchor:function(a,b){var c,d,e=this,f=e.options,g=f.position,h=e.crosshair.axis.options.vertical,i=e.crosshair.points,j=i[0],k=i[1],l=a/2,m=b/2,n=f.padding;return h?g===Ob?(c=j.x-a-n,d=j.y-m):(c=k.x+n,d=k.y-m):g===$a?(c=k.x-l,d=k.y+n):(c=j.x-l,d=j.y-b-n),sa(c,d)},hide:function(){this.element.hide(),this.point=null},destroy:function(){this.element.remove(),this.element=null,this.point=null}}),we={min:function(a){var b,c,d=Vb,e=a.length;for(b=0;e>b;b++)c=a[b],F(c)&&(d=V.min(d,c));return d===Vb?a[0]:d},max:function(a){var b,c,d=Wb,e=a.length;for(b=0;e>b;b++)c=a[b],F(c)&&(d=V.max(d,c));return d===Wb?a[0]:d},sum:function(a){var b,c,d=a.length,e=0;for(b=0;d>b;b++)c=a[b],F(c)&&(e+=c);return e},count:function(a){var b,c,d=a.length,e=0;for(b=0;d>b;b++)c=a[b],null!==c&&Ca(c)&&e++;return e},avg:function(a){var b=a[0],c=G(a);return c>0&&(b=we.sum(a)/c),b},first:function(a){var b,c,d=a.length;for(b=0;d>b;b++)if(c=a[b],null!==c&&Ca(c))return c;return a[0]}};c.prototype={register:function(a,b){for(var c=0;c<a.length;c++)this._defaults[a[c]]=b},query:function(a){return this._defaults[a]}},c.current=new c;var xe=$.extend({init:function(b,c,d){var e,f,g=this,h=b.element,i=c.lineBox(),j=g.getValueAxis(c),k=j.lineBox(),l="."+mb;$.fn.init.call(g),g.options=ba({},g.options,d),d=g.options,g.chart=b,g.chartElement=h,g.categoryAxis=c,g._dateAxis=g.categoryAxis instanceof qd,g.valueAxis=j,g._dateAxis&&ba(d,{min:q(d.min),max:q(d.max),from:q(d.from),to:q(d.to)}),g.template=xe.template,g.template||(g.template=xe.template=Ma("<div class='"+mb+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+mb+"mask'></div><div class='"+mb+"mask'></div><div class='"+mb+"selection'><div class='"+mb+"selection-bg'></div><div class='"+mb+"handle "+mb+"leftHandle'><div></div></div><div class='"+mb+"handle "+mb+"rightHandle'><div></div></div></div></div>")),f={left:parseInt(h.css("paddingLeft"),10),right:parseInt(h.css("paddingTop"),10)},g.options=ba({},{width:i.width(),height:k.height(),padding:f,offset:{left:k.x2+f.left,top:k.y1+f.right},from:d.min,to:d.max},d),g.options.visible&&(g.wrapper=e=a(g.template(g.options)).appendTo(h),g.selection=e.find(l+"selection"),g.leftMask=e.find(l+"mask").first(),g.rightMask=e.find(l+"mask").last(),g.leftHandle=e.find(l+"leftHandle"),g.rightHandle=e.find(l+"rightHandle"),g.options.selection={border:{left:parseFloat(g.selection.css("border-left-width"),10),right:parseFloat(g.selection.css("border-right-width"),10)}},g.leftHandle.css("top",(g.selection.height()-g.leftHandle.height())/2),g.rightHandle.css("top",(g.selection.height()-g.rightHandle.height())/2),g.set(g._index(d.from),g._index(d.to)),g.bind(g.events,g.options),g.wrapper[0].style.cssText=g.wrapper[0].style.cssText,g.wrapper.on(ec,X(g._mousewheel,g)),Y.UserEvents?g.userEvents=new Y.UserEvents(g.wrapper,{global:!0,stopPropagation:!0,multiTouch:!0,start:X(g._start,g),move:X(g._move,g),end:X(g._end,g),tap:X(g._tap,g),gesturestart:X(g._gesturechange,g),gesturechange:X(g._gesturechange,g)}):g.leftHandle.add(g.rightHandle).removeClass(mb+"handle"))},events:[wc,xc,yc],options:{visible:!0,mousewheel:{zoom:Za},min:Wb,max:Vb},destroy:function(){var a=this,b=a.userEvents;b&&b.destroy()},_rangeEventArgs:function(a){var b=this;return{axis:b.categoryAxis.options,from:b._value(a.from),to:b._value(a.to)}},_start:function(b){var c,d=this,e=d.options,f=a(b.event.target);!d._state&&f&&(d.chart._unsetActivePoint(),d._state={moveTarget:f.parents(".k-handle").add(f).first(),startLocation:b.x?b.x.location:0,range:{from:d._index(e.from),to:d._index(e.to)}},c=d._rangeEventArgs({from:d._index(e.from),to:d._index(e.to)}),d.trigger(wc,c)&&(d.userEvents.cancel(),d._state=null))},_move:function(a){if(this._state){var b=this,c=b._state,d=b.options,e=b.categoryAxis.options.categories,f=b._index(d.from),g=b._index(d.to),h=b._index(d.min),i=b._index(d.max),j=c.startLocation-a.x.location,k=c.range,l={from:k.from,to:k.to},m=k.to-k.from,n=c.moveTarget,o=b.wrapper.width()/(e.length-1),p=V.round(j/o);n&&(a.preventDefault(),n.is(".k-selection, .k-selection-bg")?(k.from=V.min(V.max(h,f-p),i-m),k.to=V.min(k.from+m,i)):n.is(".k-leftHandle")?(k.from=V.min(V.max(h,f-p),i-1),k.to=V.max(k.from+1,k.to)):n.is(".k-rightHandle")&&(k.to=V.min(V.max(h+1,g-p),i),k.from=V.min(k.to-1,k.from)),(k.from!==l.from||k.to!==l.to)&&(b.move(k.from,k.to),b.trigger(xc,b._rangeEventArgs(k))))}},_end:function(){var a=this,b=a._state.range;delete a._state,a.set(b.from,b.to),a.trigger(yc,a._rangeEventArgs(b))},_gesturechange:function(a){if(this._state){var b=this,c=b.chart,d=b._state,e=b.options,f=b.categoryAxis,g=d.range,h=c._toModelCoordinates(a.touches[0].x.location).x,i=c._toModelCoordinates(a.touches[1].x.location).x,j=V.min(h,i),k=V.max(h,i);a.preventDefault(),d.moveTarget=null,g.from=f.pointCategoryIndex(new fa.Point2D(j))||e.min,g.to=f.pointCategoryIndex(new fa.Point2D(k))||e.max,b.move(g.from,g.to)}},_tap:function(a){var b=this,c=b.options,d=b.chart._eventCoordinates(a),e=b.categoryAxis,f=e.pointCategoryIndex(new fa.Point2D(d.x,e.box.y1)),g=b._index(c.from),h=b._index(c.to),i=b._index(c.min),j=b._index(c.max),k=h-g,l=g+k/2,m=V.round(l-f),n={},o=3===a.event.which;b._state||o||(a.preventDefault(),b.chart._unsetActivePoint(),e.options.justified||m--,n.from=V.min(V.max(i,g-m),j-k),n.to=V.min(n.from+k,j),b._start(a),b._state&&(b._state.range=n,b.trigger(xc,b._rangeEventArgs(n)),b._end()))},_mousewheel:function(a){var b=this,c=b.options,d=Ka(a);if(b._start({event:{target:b.selection}}),b._state){var e=b._state.range;a.preventDefault(),a.stopPropagation(),V.abs(d)>1&&(d*=cd),c.mousewheel.reverse&&(d*=-1),b.expand(d)&&b.trigger(xc,{axis:b.categoryAxis.options,delta:d,originalEvent:a,from:b._value(e.from),to:b._value(e.to)}),b._mwTimeout&&clearTimeout(b._mwTimeout),b._mwTimeout=setTimeout(function(){b._end()},dc)}},_index:function(a){var b=this,c=b.categoryAxis,d=c.options.categories,e=a;return a instanceof Date&&(e=E(a,d),!c.options.justified&&a>Ia(d)&&(e+=1)),e},_value:function(a){var b=this,c=this.categoryAxis,d=c.options.categories,e=a;return b._dateAxis&&(e=a>d.length-1?b.options.max:d[a]),e},_slot:function(a){var b=this,c=this.categoryAxis;return c.getSlot(b._index(a))},move:function(a,b){var c,d,e,f,g=this,h=g.options,i=h.offset,j=h.padding,k=h.selection.border;e=g._slot(a),c=La(e.x1-i.left+j.left),g.leftMask.width(c),g.selection.css("left",c),e=g._slot(b),d=La(h.width-(e.x1-i.left+j.left)),g.rightMask.width(d),f=h.width-d,f!=h.width&&(f+=k.right),g.rightMask.css("left",f),g.selection.width(V.max(h.width-(c+d)-k.right,0))},set:function(a,b){var c=this,d=c.options,e=c._index(d.min),f=c._index(d.max);a=Ja(c._index(a),e,f),b=Ja(c._index(b),a+1,f),d.visible&&c.move(a,b),d.from=c._value(a),d.to=c._value(b)},expand:function(a){var b=this,c=b.options,d=b._index(c.min),e=b._index(c.max),f=c.mousewheel.zoom,g=b._index(c.from),h=b._index(c.to),i={from:g,to:h},j=ba({},i);return b._state&&(i=b._state.range),f!==qc&&(i.from=Ja(Ja(g-a,0,h-1),d,e)),f!==Ob&&(i.to=Ja(Ja(h+a,i.from+1,e),d,e)),i.from!==j.from||i.to!==j.to?(b.set(i.from,i.to),!0):void 0},getValueAxis:function(a){var b,c,d=a.pane.axes,e=d.length;for(b=0;e>b;b++)if(c=d[b],c.options.vertical!==a.options.vertical)return c}}),ye=function(a,b,c){var d,e=this,f=b.canonicalFields(a),g=b.valueFields(a),h=b.sourceFields(a,f),i=e._seriesFields=[],j=c.query(a.type),k=a.aggregate||j;for(e._series=a,e._binder=b,d=0;d<f.length;d++){var l,m=f[d];if(typeof k===ic)l=k[m];else{if(0!==d&&!Ga(m,g))break;l=k}l&&i.push({canonicalName:m,name:h[d],transform:da(l)?l:we[l]})}};ye.prototype={aggregatePoints:function(a,b){var c,d,e,f,g=this,h=g._bindPoints(a||[]),i=g._series,j=g._seriesFields,k=h.dataItems[0],l={};if(k&&!F(k)&&!T(k)){var m=function(){};m.prototype=k,l=new m}for(c=0;c<j.length;c++){if(d=j[c],e=g._bindField(h.values,d.canonicalName),f=d.transform(e,i,h.dataItems,b),null!==f&&typeof f===ic&&!Ca(f.length)){l=f;break}Ca(f)&&(R(d.name,l),Y.setter(d.name)(l,f))}return l},_bindPoints:function(a){var b,c,d=this,e=d._binder,f=d._series,g=[],h=[];for(b=0;b<a.length;b++)c=a[b],g.push(e.bindPoint(f,c)),h.push(f.data[c]);return{values:g,dataItems:h}},_bindField:function(a,b){var c,d,e,f,g=[],h=a.length;for(c=0;h>c;c++)d=a[c],f=d.valueFields,e=Ca(f[b])?f[b]:d.fields[b],g.push(e);return g}},W(a.easing,{easeOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=d;return 0===a?c:1===a?c+d:(f||(f=.5),g<V.abs(d)?(g=d,e=f/4):e=f/(2*V.PI)*V.asin(d/g),g*V.pow(2,-10*a)*V.sin(1.1*(1*a-e)*V.PI/f)+d+c)}}),Y.ui.plugin(jd),kd.current.register(ge,[Va,jb,Rb,Xc,Ra,Vc,cb,jc,bb,Wc,_a]),kd.current.register(ie,[tc,uc,ab]),kd.current.register(je,[mc]),kd.current.register(ke,[vb]),ld.current.register([Va,jb,Rb,Xc,Ra,Vc],[Uc],[db,ib,hc,Ab,Bb]),c.current.register([Va,jb,Rb,Xc,Ra,Vc],{value:"max",color:"first",noteText:"first",errorLow:"min",errorHigh:"max"}),ld.current.register([tc,uc,ab],[$c,_c],[ib,hc,Cb,Db,Eb,Fb]),ld.current.register([ab],[$c,_c,"size"],[ib,db,hc]),ld.current.register([cb,jc],["open","high","low","close"],[db,ib,"downColor",hc]),c.current.register([cb,jc],{open:"max",high:"max",low:"min",close:"max",color:"first",downColor:"first",noteText:"first"}),ld.current.register([_a],["lower","q1","median","q3","upper","mean","outliers"],[db,ib,hc]),c.current.register([_a],{lower:"max",q1:"max",median:"max",q3:"max",upper:"max",mean:"max",outliers:"first",color:"first",noteText:"first"}),ld.current.register([bb,Wc],["current","target"],[db,ib,"visibleInLegend",hc]),c.current.register([bb,Wc],{current:"max",target:"max",color:"first",noteText:"first"}),ld.current.register([mc,vb],[Uc],[db,ib,"explode","visibleInLegend","visible"]),ba(fa,{EQUALLY_SPACED_SERIES:hd,Aggregates:we,AreaChart:Pd,AreaSegment:Od,AxisGroupRangeTracker:he,Bar:wd,BarAnimationDecorator:ne,BarChart:zd,BarLabel:md,BubbleAnimationDecorator:pe,BubbleChart:Ud,BulletChart:Ad,CandlestickChart:Wd,Candlestick:Vd,CategoricalChart:yd,CategoricalErrorBar:Ed,CategoricalPlotArea:ge,CategoryAxis:pd,ChartContainer:ee,ClusterLayout:sd,Crosshair:ue,CrosshairTooltip:ve,DateCategoryAxis:qd,DateValueAxis:rd,DefaultAggregates:c,DonutChart:ce,DonutPlotArea:ke,DonutSegment:be,ErrorBarBase:Dd,ErrorRangeCalculator:xd,Highlight:qe,SharedTooltip:te,Legend:od,LineChart:Kd,LinePoint:Gd,LineSegment:Id,Pane:de,PieAnimation:le,PieAnimationDecorator:oe,PieChart:ae,PiePlotArea:je,PieSegment:_d,PlotAreaBase:fe,PlotAreaFactory:kd,PointEventsMixin:ud,ScatterChart:Sd,ScatterErrorBar:Fd,ScatterLineChart:Td,Selection:xe,SeriesAggregator:ye,SeriesBinder:ld,ShapeElement:va,SplineSegment:Md,SplineAreaSegment:Qd,StackWrap:td,Tooltip:se,OHLCChart:Yd,OHLCPoint:Xd,XYPlotArea:ie,addDuration:s,areNumbers:H,axisGroupBox:A,categoriesCount:m,ceilDate:v,countNumbers:G,duration:y,ensureTree:R,indexOf:M,isNumber:F,floorDate:u,filterSeriesByType:L,lteDateIndex:E,evalOptions:J,singleItemOrArray:z,sortDates:N,sparseArrayLimits:f,startOfWeek:t,transpose:Q,toDate:q,toTime:r,uniqueDates:O})}(window.joy.jQuery),function(a,b){var c=window.joy,d=c.deepExtend,e=a.extend,f=c.isFunction,g=c.template,h=c.dataviz,i=h.Color,j=h.ChartElement,k=h.PlotAreaBase,l=h.PlotAreaFactory,m=h.Point2D,n=h.Box2D,o=h.SeriesBinder,p=h.TextBox,q=h.append,r=h.autoFormat,s=h.evalOptions,t=h.limitValue,u=h.uniqueId,v="category",w="color",x="funnel",y="value",z="black",A="white",B=k.extend({render:function(){var a=this,b=a.series;a.createFunnelChart(b)},createFunnelChart:function(a){var b=this,c=a[0],d=new C(b,{series:a,legend:b.options.legend,neckRatio:c.neckRatio,dynamicHeight:c.dynamicHeight,dynamicSlope:c.dynamicSlope,segmentSpacing:c.segmentSpacing,highlight:c.highlight});b.appendChart(d)},appendChart:function(a,b){k.fn.appendChart.call(this,a,b),q(this.options.legend.items,a.legendItems)}}),C=j.extend({init:function(a,b){var c=this;j.fn.init.call(c,b),c.plotArea=a,c.points=[],c.labels=[],c.legendItems=[],c.render()},options:{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:"center",position:"center"}},formatPointValue:function(a,b){return r(b,a.value)},render:function(){var a,b,c=this,e=c.options,g=c.plotArea.options.seriesColors||[],h=g.length,i=e.series[0],j=i.data;if(j){var k,l,m=c.pointsTotal(i);for(l=0;l<j.length;l++){a=o.current.bindPoint(i,l),k=a.valueFields.value,b=a.fields,f(i.color)||(i.color=b.color||g[l%h]),b=d({index:l,owner:c,series:i,category:b.category,dataItem:j[l],percentage:k/m,visibleInLegend:b.visibleInLegend,visible:b.visible},b);var n=c.createSegment(k,b),p=c.createLabel(k,b);n&&p&&n.append(p)}}},evalSegmentOptions:function(a,b,c){var d=c.series;s(a,{value:b,series:d,dataItem:c.dataItem,index:c.index},{defaults:d._defaults,excluded:["data"]})},createSegment:function(a,b){var c,f=this;if(f.createLegendItem(a,b),b.visible!==!1){var g=d({},b.series);return f.evalSegmentOptions(g,a,b),c=new D(a,g,b),e(c,b),f.append(c),f.points.push(c),c}},createLabel:function(a,b){var c,e=this,f=b.series,h=b.dataItem,j=d({},e.options.labels,f.labels),k=a;if(j.visible&&a){
if(j.template){var l=g(j.template);k=l({dataItem:h,value:a,percentage:b.percentage,category:b.category,series:f})}else j.format&&(k=r(j.format,k));if(!j.color&&"center"===j.align){var m=new i(f.color).percBrightness();j.color=m>180?z:A}return e.evalSegmentOptions(j,a,b),c=new p(k,d({vAlign:j.position,id:u()},j)),e.labels.push(c),c}},createLegendItem:function(a,b){var c,d,e,f,h=this,i=(h.options.legend||{}).labels||{},j=(h.options.legend||{}).inactiveItems||{};b&&b.visibleInLegend!==!1&&(c=b.category||"",(i||{}).template&&(d=g(i.template),c=d({text:c,series:b.series,dataItem:b.dataItem,percentage:b.percentage,value:a})),b.visible===!1?(e=(j.markers||{}).color,f=(j.labels||{}).color):(e=(b.series||{}).color,f=i.color),c&&h.legendItems.push({pointIndex:b.index,text:c,series:b.series,markerColor:e,labelColor:f}))},pointsTotal:function(a){var b,c,d,e=a.data,f=e.length,g=0;for(c=0;f>c;c++)d=o.current.bindPoint(a,c),b=d.valueFields.value,"string"==typeof b&&(b=parseFloat(b)),b&&d.fields.visible!==!1&&(g+=b);return g},labelPadding:function(){var a,b,c,d,e=this.labels,f={left:0,right:0};for(d=0;d<e.length;d++)a=e[d],b=a.options.align,"center"!==b&&(c=e[d].box.width(),"left"===b?f.left=Math.max(f.left,c):f.right=Math.max(f.right,c));return f},reflow:function(b){var c,d,e,f,g,h,i=this,j=i.options,k=i.points,l=k.length,n=j.neckRatio<=1,o=b.clone().unpad(i.labelPadding()),p=o.width(),q=0,r=n?0:(p-p/j.neckRatio)/2,s=j.segmentSpacing,u=j.dynamicSlope,v=o.height()-s*(l-1),w=n?j.neckRatio*p:p;if(l){if(u){var x=k[0],y=x;for(a.each(k,function(a,b){b.percentage>y.percentage&&(y=b)}),e=x.percentage/y.percentage*p,r=(p-e)/2,c=0;l>c;c++){g=k[c].percentage;var z=k[c+1],A=z?z.percentage:g;f=k[c].points=[],d=j.dynamicHeight?v*g:v/l,h=(p-e*(A/g))/2,h=t(h,0,p),f.push(m(o.x1+r,o.y1+q)),f.push(m(o.x1+p-r,o.y1+q)),f.push(m(o.x1+p-h,o.y1+d+q)),f.push(m(o.x1+h,o.y1+d+q)),r=h,q+=d+s,e*=A/g,e=t(e,0,p)}}else{var B=n?p:p-2*r,C=(B-w)/2;for(c=0;l>c;c++)f=k[c].points=[],g=k[c].percentage,h=j.dynamicHeight?C*g:C/l,d=j.dynamicHeight?v*g:v/l,f.push(m(o.x1+r,o.y1+q)),f.push(m(o.x1+p-r,o.y1+q)),f.push(m(o.x1+p-r-h,o.y1+d+q)),f.push(m(o.x1+r+h,o.y1+d+q)),r+=h,q+=d+s}for(c=0;l>c;c++)k[c].reflow(b)}}}),D=j.extend({init:function(a,b,c){var d=this;j.fn.init.call(d,b),d.value=a,d.id=u(),d.options.index=c.index,d.enableDiscovery()},options:{color:A,border:{width:1}},reflow:function(a){var b=this,c=b.points,d=b.children[0];b.box=new n(c[0].x,c[0].y,c[1].x,c[2].y),d&&d.reflow(new n(a.x1,c[0].y,a.x2,c[2].y))},getViewElements:function(a){var b=this,c=b.options,d=c.border,e=[];return e.push(a.createPolyline(b.points,!0,{id:b.id,fill:c.color,fillOpacity:c.opacity,stroke:d.color,strokeOpacity:d.opacity,strokeWidth:d.width,data:{modelId:b.modelId}})),q(e,j.fn.getViewElements.call(b,a)),e},highlightOverlay:function(a,b){var c=this.options,d=c.highlight||{};if(d.visible!==!1){var f=d.border||{},g=e({},b,{fill:d.color,stroke:f.color,strokeOpacity:f.opacity,strokeWidth:f.width,fillOpacity:d.opacity,data:{modelId:this.modelId}}),h=a.createPolyline(this.points,!0,g);return h}},tooltipAnchor:function(a){var b=this.box;return new m(b.center().x-a/2,b.y1)},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});d(D.fn,h.PointEventsMixin),l.current.register(B,[x]),o.current.register([x],[y],[v,w,"visibleInLegend","visible"]),d(h,{FunnelChart:C})}(window.joy.jQuery),function(a,b){function c(a,b){return a.value.x-b.value.x}function d(a,b){return 180-e.abs(e.abs(a-b)-180)}var e=Math,f=window.joy,g=f.deepExtend,h=f.dataviz,i=h.AreaSegment,j=h.Axis,k=h.AxisGroupRangeTracker,l=h.BarChart,m=h.Box2D,n=h.CategoryAxis,o=h.CategoricalChart,p=h.CategoricalPlotArea,q=h.ChartElement,r=h.CurveProcessor,s=h.DonutSegment,t=h.LineChart,u=h.LineSegment,v=h.LogarithmicAxis,w=h.NumericAxis,x=h.PlotAreaBase,y=h.PlotAreaFactory,z=h.Point2D,A=h.Ring,B=h.ScatterChart,C=h.ScatterLineChart,D=h.SeriesBinder,E=h.SplineSegment,F=h.SplineAreaSegment,G=h.append,H=h.getSpacing,I=h.filterSeriesByType,J=h.limitValue,K=h.round,L="arc",M="#000",N=h.COORD_PRECISION,O=.15,P=e.PI/180,Q="log",R="plotAreaClick",S="polarArea",T="polarLine",U="polarScatter",V="radarArea",W="radarColumn",X="radarLine",Y="smooth",Z="x",$="y",_="zero",aa=[S,T,U],ba=[V,W,X],ca={renderGridLines:function(a,b){var c,d,f=this,g=f.options,h=e.abs(f.box.center().y-b.lineBox().y1),i=!1,j=[];return g.majorGridLines.visible&&(c=f.majorGridLineAngles(b),i=!0,j=f.gridLineElements(a,c,h,g.majorGridLines)),g.minorGridLines.visible&&(d=f.minorGridLineAngles(b,i),G(j,f.gridLineElements(a,d,h,g.minorGridLines))),j},gridLineElements:function(a,b,c,d){var e,f,g,h=this,i=h.box.center(),j=h.plotArea.modelId,k=[];for(g={data:{modelId:j},zIndex:-1,strokeWidth:d.width,stroke:d.color,dashType:d.dashType},e=0;e<b.length;e++)f=z.onCircle(i,b[e],c),k.push(a.createLine(i.x,i.y,f.x,f.y,g));return k},gridLineAngles:function(b,c,d){var e=this,f=e.intervals(c,d);return a.map(f,function(a){var c=e.intervalAngle(a);return b.options.visible&&90===c?void 0:c})}},da=n.extend({options:{startAngle:90,labels:{margin:H(10)},majorGridLines:{visible:!0},justified:!0},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(a){this.box=a,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var a,b,c=this,d=new m,e=c.labels;for(b=0;b<e.length;b++)e[b].reflow(d),a=e[b].box,e[b].reflow(c.getSlot(b).adjacentBox(0,a.width(),a.height()))},intervals:function(a,b){var c,d=this,e=d.options,f=e.categories.length,g=0,h=0,i=f/a||1,j=360/i,k=[];for(b&&(h=360/(f/b)),c=0;i>c;c++)g=K(g,N),g%h!==0&&k.push(g%360),e.reverse?g=360+g-j:g+=j;return k},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(a){return(360+a+this.options.startAngle)%360},majorAngles:function(){return a.map(this.majorIntervals(),a.proxy(this.intervalAngle,this))},renderLine:function(){return[]},majorGridLineAngles:function(a){return this.gridLineAngles(a,1)},minorGridLineAngles:function(a,b){return this.gridLineAngles(a,.5,b?1:0)},renderPlotBands:function(a){var b,c,d,f,g,h,i=this,j=i.options,k=j.plotBands||[],l=[];for(b=0;b<k.length;b++)c=k[b],d=i.plotBandSlot(c),f=i.getSlot(c.from),g=c.from-e.floor(c.from),d.startAngle+=g*f.angle,h=e.ceil(c.to)-c.to,d.angle-=(h+g)*f.angle,l.push(a.createSector(d,{fill:c.color,fillOpacity:c.opacity,strokeOpacity:c.opacity,zIndex:-1}));return l},plotBandSlot:function(a){return this.getSlot(a.from,a.to-1)},getSlot:function(a,b){var c,d,f,g=this,h=g.options,i=h.justified,j=g.box,k=g.majorAngles(),l=k.length,m=360/l;return h.reverse&&!i&&(a=(a+1)%l),a=J(e.floor(a),0,l-1),d=k[a],i&&(d-=m/2,0>d&&(d+=360)),b=J(e.ceil(b||a),a,l-1),c=b-a+1,f=m*c,new A(j.center(),0,j.height()/2,d,f)},pointCategoryIndex:function(a){var b,c,d=this,e=null,f=d.options.categories.length;for(b=0;f>b;b++)if(c=d.getSlot(b),c.containsPoint(a)){e=b;break}return e}});g(da.fn,ca);var ea={options:{majorGridLines:{visible:!0}},renderPlotBands:function(a){var b,c,d,e,f,g=this,h=g.options,i=h.plotBands||[],j=[],k=h.majorGridLines.type,l=g.plotArea.polarAxis,m=l.majorAngles(),n=l.box.center();for(b=0;b<i.length;b++)c=i[b],d={fill:c.color,fillOpacity:c.opacity,strokeOpacity:c.opacity,zIndex:-1},e=g.getSlot(c.from,c.to,!0),f=new A(n,n.y-e.y2,n.y-e.y1,0,360),j.push(k===L?a.createRing(f,d):a.createPolyline(g.plotBandPoints(f,m),!0,d));return j},plotBandPoints:function(a,b){var c,d=[],e=[];for(c=0;c<b.length;c++)d.push(z.onCircle(a.c,b[c],a.ir)),e.push(z.onCircle(a.c,b[c],a.r));return d.reverse(),d.push(d[0]),e.push(e[0]),e.concat(d)},renderGridLines:function(a,b){var c,d=this,e=d.options,f=d.radarMajorGridLinePositions(),g=b.majorAngles(),h=b.box.center(),i=[];return e.majorGridLines.visible&&(i=d.gridLineElements(a,h,f,g,e.majorGridLines)),e.minorGridLines.visible&&(c=d.radarMinorGridLinePositions(),G(i,d.gridLineElements(a,h,c,g,e.minorGridLines))),i},gridLineElements:function(a,b,c,d,e){var f,g,h,i,j,k=this,l=k.plotArea.modelId,m=[];for(f={data:{modelId:l},zIndex:-1,strokeWidth:e.width,stroke:e.color,dashType:e.dashType},i=0;i<c.length;i++)if(h=b.y-c[i],h>0)if(e.type===L)m.push(a.createCircle(b,h,f));else{for(g=[],j=0;j<d.length;j++)g.push(z.onCircle(b,d[j],h));m.push(a.createPolyline(g,!0,f))}return m},getValue:function(a){var b=this,c=b.options,f=b.lineBox(),g=b.plotArea.polarAxis,h=g.majorAngles(),i=g.box.center(),j=a.distanceTo(i),k=j;if(c.majorGridLines.type!==L&&h.length>1){var l=a.x-i.x,m=a.y-i.y,n=(e.atan2(m,l)/P+540)%360;h.sort(function(a,b){return d(a,n)-d(b,n)});var o=d(h[0],h[1])/2,p=d(n,h[0]),q=90-o,r=180-p-q;k=j*(e.sin(r*P)/e.sin(q*P))}return b.axisType().fn.getValue.call(b,new z(f.x1,f.y2-k))}},fa=w.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var a=this,b=a.options,c=0;return b.majorGridLines.visible&&(c=b.majorUnit),a.getTickPositions(b.minorUnit,c)},axisType:function(){return w}});g(fa.fn,ea);var ga=v.extend({radarMajorGridLinePositions:function(){var a=this,b=[];return a.traverseMajorTicksPositions(function(a){b.push(a)},a.options.majorGridLines),b},radarMinorGridLinePositions:function(){var a=this,b=[];return a.traverseMinorTicksPositions(function(a){b.push(a)},a.options.minorGridLines),b},axisType:function(){return v}});g(ga.fn,ea);var ha=j.extend({init:function(a){var b=this;j.fn.init.call(b,a),a=b.options,a.minorUnit=a.minorUnit||b.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:H(10)},majorGridLines:{color:M,visible:!0},minorGridLines:{color:"#aaa"}},getDivisions:function(a){return w.fn.getDivisions.call(this,a)-1},reflow:function(a){this.box=a,this.reflowLabels()},reflowLabels:function(){var a,b,c=this,d=new m,e=c.majorIntervals(),f=c.labels;for(b=0;b<f.length;b++)f[b].reflow(d),a=f[b].box,f[b].reflow(c.getSlot(e[b]).adjacentBox(0,a.width(),a.height()))},lineBox:function(){return this.box},intervals:function(a,b){var c,d=this,e=d.options,f=d.getDivisions(a),g=e.min,h=[];for(b&&(b/=a),c=0;f>c;c++)c%b!==0&&h.push((360+g)%360),g+=a;return h},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(a){return(360+a-this.options.startAngle)%360},majorAngles:da.fn.majorAngles,renderLine:function(){return[]},majorGridLineAngles:function(a){return this.gridLineAngles(a,this.options.majorUnit)},minorGridLineAngles:function(a,b){return this.gridLineAngles(a,this.options.minorUnit,b?this.options.majorUnit:0)},renderPlotBands:da.fn.renderPlotBands,plotBandSlot:function(a){return this.getSlot(a.from,a.to)},getSlot:function(a,b){var c,d=this,e=d.options,f=e.startAngle,g=d.box;return a=J(a,e.min,e.max),b=J(b||a,a,e.max),e.reverse&&(a*=-1,b*=-1),a=(540-a-f)%360,b=(540-b-f)%360,a>b&&(c=a,a=b,b=c),new A(g.center(),0,g.height()/2,a,b-a)},getValue:function(a){var b=this,c=b.options,d=b.box.center(),f=a.x-d.x,g=a.y-d.y,h=e.round(e.atan2(g,f)/P),i=c.startAngle;return c.reverse||(h*=-1,i*=-1),(h+i+360)%360},labelsCount:w.fn.labelsCount,createAxisLabel:w.fn.createAxisLabel});g(ha.fn,ca);var ia=q.extend({options:{gap:1,spacing:0},reflow:function(a){var b,c,d=this,e=d.options,f=d.children,g=e.gap,h=e.spacing,i=f.length,j=i+g+h*(i-1),k=a.angle/j,l=a.startAngle+k*(g/2);for(c=0;i>c;c++)b=a.clone(),b.startAngle=l,b.angle=k,f[c].sector&&(b.r=f[c].sector.r),f[c].reflow(b),f[c].sector=b,l+=k+k*h}}),ja=q.extend({reflow:function(a){var b,c,d=this,e=d.options.isReversed,f=d.children,g=f.length,h=e?g-1:0,i=e?-1:1;for(d.box=new m,c=h;c>=0&&g>c;c+=i)b=f[c].sector,b.startAngle=a.startAngle,b.angle=a.angle}}),ka=s.extend({init:function(a,b){s.fn.init.call(this,a,null,b)},options:{overlay:{gradient:null},labels:{distance:10}}}),la=l.extend({pointType:function(){return ka},clusterType:function(){return ia},stackType:function(){return ja},categorySlot:function(a,b){return a.getSlot(b)},pointSlot:function(a,b){var c=a.clone(),d=a.c.y;return c.r=d-b.y1,c.ir=d-b.y2,c},reflow:o.fn.reflow,reflowPoint:function(a,b){a.sector=b,a.reflow()},options:{clip:!1}}),ma=t.extend({pointSlot:function(a,b){var c=a.c.y-b.y1,d=z.onCircle(a.c,a.middle(),c);return new m(d.x,d.y,d.x,d.y)},createSegment:function(a,b,c){var d,e,f=b.style;return e=f==Y?E:u,d=new e(a,b,c),a.length===b.data.length&&(d.options.closed=!0),d},options:{clip:!1}}),na=i.extend({points:function(){return u.fn.points.call(this,this.stackPoints)}}),oa=F.extend({areaPoints:function(){return[]}}),pa=ma.extend({createSegment:function(a,b,c,d){var e,f,g=this,h=g.options,i=h.isStacked,j=(b.line||{}).style;return j===Y?(f=new oa(a,d,i,b,c),f.options.closed=!0):(i&&c>0&&d&&(e=d.linePoints.slice(0).reverse()),a.push(a[0]),f=new na(a,e,b,c)),f},seriesMissingValues:function(a){return a.missingValues||_}}),qa=B.extend({pointSlot:function(a,b){var c=a.c.y-b.y1,d=z.onCircle(a.c,a.startAngle,c);return new m(d.x,d.y,d.x,d.y)},options:{clip:!1}}),ra=C.extend({pointSlot:qa.fn.pointSlot,options:{clip:!1}}),sa=i.extend({points:function(){var a=this,b=a.parent,c=b.plotArea,d=c.polarAxis,e=d.box.center(),f=a.stackPoints,g=u.fn.points.call(a,f);return g.unshift(e),g.push(e),g}}),ta=F.extend({areaPoints:function(){var a=this,b=a.parent,c=b.plotArea,d=c.polarAxis,e=d.box.center();return[e]},points:function(){var a,b=this,c=b.parent,d=c.plotArea,e=d.polarAxis,f=e.box.center(),g=new r(!1),h=u.fn.points.call(this);return h.push(f),a=g.process(h),a.splice(a.length-3,a.length-1),b.curvePoints=a,a}}),ua=ra.extend({createSegment:function(a,b,c){var d,e=(b.line||{}).style;return d=e==Y?new ta(a,null,!1,b,c):new sa(a,[],b,c)},seriesMissingValues:function(a){return a.missingValues||_},sortPoints:function(a){return a.sort(c)}}),va=x.extend({init:function(a,b){var c=this;c.valueAxisRangeTracker=new k,x.fn.init.call(c,a,b)},render:function(){var a=this;a.addToLegend(a.series),a.createPolarAxis(),a.createCharts(),a.createValueAxis()},createValueAxis:function(){var a,b,c,d,f=this,g=f.valueAxisRangeTracker,h=g.query(),i=f.valueAxisOptions({roundToMajorUnit:!1});i.type===Q?(c=ga,d={min:.1,max:1}):(c=fa,d={min:0,max:1}),a=g.query(name)||h||d,a&&h&&(a.min=e.min(a.min,h.min),a.max=e.max(a.max,h.max)),b=new c(a.min,a.max,i),f.valueAxis=b,f.appendAxis(b)},reflowAxes:function(){var a=this,b=a.options.plotArea,c=a.valueAxis,d=a.polarAxis,f=a.box,g=e.min(f.width(),f.height())*O,h=H(b.padding||{},g),i=f.clone().unpad(h),j=i.clone().shrink(0,i.height()/2);d.reflow(i),c.reflow(j);var k=c.lineBox().height()-c.box.height();c.reflow(c.box.unpad({top:k})),a.axisBox=i,a.alignAxes(i)},alignAxes:function(){var a=this,b=a.valueAxis,c=b.getSlot(b.options.min),d=b.options.reverse?2:1,e=a.polarAxis.getSlot(0).c,f=b.box.translate(e.x-c[Z+d],e.y-c[$+d]);b.reflow(f)},backgroundBox:function(){return this.box}}),wa=va.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var a,b=this;a=new da(b.options.categoryAxis),b.polarAxis=a,b.categoryAxis=a,b.appendAxis(a)},valueAxisOptions:function(a){var b=this;return b._hasBarCharts&&g(a,{majorGridLines:{type:L},minorGridLines:{type:L}}),b._isStacked100&&g(a,{roundToMajorUnit:!1,labels:{format:"P0"}}),g(a,b.options.valueAxis)},appendChart:p.fn.appendChart,createCharts:function(){var a=this,b=a.filterVisibleSeries(a.series),c=a.panes[0];a.createAreaChart(I(b,[V]),c),a.createLineChart(I(b,[X]),c),a.createBarChart(I(b,[W]),c)},chartOptions:function(a){var b={series:a},c=a[0];if(c){var d=this.filterVisibleSeries(a),e=c.stack;b.isStacked=e&&d.length>1,b.isStacked100=e&&"100%"===e.type&&d.length>1,b.isStacked100&&(this._isStacked100=!0)}return b},createAreaChart:function(a,b){if(0!==a.length){var c=new pa(this,this.chartOptions(a));this.appendChart(c,b)}},createLineChart:function(a,b){if(0!==a.length){var c=new ma(this,this.chartOptions(a));this.appendChart(c,b)}},createBarChart:function(a,b){if(0!==a.length){var c=a[0],d=this.chartOptions(a);d.gap=c.gap,d.spacing=c.spacing;var e=new la(this,d);this.appendChart(e,b),this._hasBarCharts=!0}},seriesCategoryAxis:function(){return this.categoryAxis},click:function(b,c){var d,e,f=this,g=b._eventCoordinates(c),h=new z(g.x,g.y);d=f.categoryAxis.getCategory(h),e=f.valueAxis.getValue(h),null!==d&&null!==e&&b.trigger(R,{element:a(c.target),category:d,value:e})}}),xa=va.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var a,b=this;a=new ha(b.options.xAxis),b.polarAxis=a,b.axisX=a,b.appendAxis(a)},valueAxisOptions:function(a){var b=this;return g(a,{majorGridLines:{type:L},minorGridLines:{type:L}},b.options.yAxis)},createValueAxis:function(){var a=this;va.fn.createValueAxis.call(a),a.axisY=a.valueAxis},appendChart:function(a,b){var c=this;c.valueAxisRangeTracker.update(a.yAxisRanges),x.fn.appendChart.call(c,a,b)},createCharts:function(){var a=this,b=a.filterVisibleSeries(a.series),c=a.panes[0];a.createLineChart(I(b,[T]),c),a.createScatterChart(I(b,[U]),c),a.createAreaChart(I(b,[S]),c)},createLineChart:function(a,b){if(0!==a.length){var c=this,d=new ra(c,{series:a});c.appendChart(d,b)}},createScatterChart:function(a,b){if(0!==a.length){var c=this,d=new qa(c,{series:a});c.appendChart(d,b)}},createAreaChart:function(a,b){if(0!==a.length){var c=this,d=new ua(c,{series:a});c.appendChart(d,b)}},click:function(b,c){var d,e,f=this,g=b._eventCoordinates(c),h=new z(g.x,g.y);d=f.axisX.getValue(h),e=f.axisY.getValue(h),null!==d&&null!==e&&b.trigger(R,{element:a(c.target),x:d,y:e})}});y.current.register(xa,aa),y.current.register(wa,ba),D.current.register(aa,[Z,$],["color"]),D.current.register(ba,["value"],["color"]),h.DefaultAggregates.current.register(ba,{value:"max",color:"first"}),g(h,{PolarAreaChart:ua,PolarAxis:ha,PolarLineChart:ra,PolarPlotArea:xa,RadarAreaChart:pa,RadarBarChart:la,RadarCategoryAxis:da,RadarClusterLayout:ia,RadarLineChart:ma,RadarNumericAxis:fa,RadarPlotArea:wa,SplinePolarAreaSegment:ta,SplineRadarAreaSegment:oa,RadarStackLayout:ja})}(window.joy.jQuery),function(a,b){function c(a,b,c){var e=x(a.from)?a.from:K,f=x(a.to)?a.to:J;return a.from=d.max(d.min(f,e),b),a.to=d.min(d.max(f,e),c),a}var d=Math,e=window.joy,f=e.ui.Widget,g=e.deepExtend,h=e.dataviz,i=h.Axis,j=h.Box2D,k=h.ChartElement,l=h.NumericAxis,m=h.Pin,n=h.Ring,o=h.RootElement,p=h.RotationAnimation,q=h.BarIndicatorAnimatin,r=h.ArrowAnimation,s=h.append,t=h.animationDecorator,u=h.autoMajorUnit,v=h.getElement,w=h.getSpacing,x=h.defined,y=h.rotatePoint,z=h.Point2D,A=h.round,B=h.uniqueId,C=150,D="arrow",E="arrowPointer",F="barIndicator",G="#000",H=.05,I=h.COORD_PRECISION,J=Number.MAX_VALUE,K=-Number.MAX_VALUE,L=200,M=.5,N=200,O=60,P=60,Q=d.PI/180,R="inside",S="needle",T="outside",U="radialPointer",V=90,W=k.extend({init:function(a,b){var c=this,e=a.options;k.fn.init.call(c,b),b=c.options,b.id||(b.id=B()),b.fill=b.color,c.scale=a,b.value=x(b.value)?d.min(d.max(b.value,e.min),e.max):e.min},options:{color:G},value:function(a){var b=this,c=b.options,e=c.value,f=b.scale.options;return 0===arguments.length?e:(c._oldValue=c.value,c.value=d.min(d.max(a,f.min),f.max),void b.repaint())}}),X=W.extend({options:{shape:S,cap:{size:H},arrow:{width:16,height:14},animation:{type:U,speed:C}},reflow:function(){var a=this,b=a.options,c=a.scale,d=c.ring,e=d.c,f=d.r*b.cap.size;a.box=new j(e.x-f,e.y-f,e.x+f,e.y+f)},repaint:function(){var a=this,b=a.scale,c=a.options,d=a.elements[0],e=c.animation,f=b.slotAngle(b.options.min),h=b.slotAngle(c._oldValue)-f,i=d._animation;d.options.rotation[0]=b.slotAngle(c.value)-f,i&&i.abort(),e.transitions===!1?d.refresh(v(c.id)):(i=d._animation=new p(d,g(e,{startAngle:h,reverse:b.options.reverse})),i.setup(),i.play())},_renderNeedle:function(a,b,c,d){var e=this,f=e.options,g=e.scale,h=g.ring.r*f.cap.size;return[a.createPolyline([y((b.x1+b.x2)/2,b.y1+g.options.minorTicks.size,c.x,c.y,d),y(c.x-h/2,c.y,c.x,c.y,d),y(c.x+h/2,c.y,c.x,c.y,d)],!0,f),a.createCircle(c,h,{fill:f.cap.color||f.color})]},_renderArrow:function(a,b,c,d){var e=this,f=e.options,g=e.scale,h=g.ring.clone(),i=5,j=f.arrow,k=j.height;return h.ir=h.r-i,[a.createPin(new m({origin:y((b.x1+b.x2)/2,b.y1+k,c.x,c.y,d),height:j.height,radius:i,rotation:d,arcAngle:180}),f),a.createRing(h,{fill:f.color})]},renderPointer:function(a){var b,c=this,d=c.scale,e=d.ring,f=e.c,h=e.r,i=c.options,k=new j(f.x-h,f.y-h,f.x+h,f.y+h),l=k.center(),m=d.slotAngle(d.options.min),n=V-m;return i.animation!==!1&&g(i.animation,{startAngle:0,center:l,reverse:d.options.reverse}),g(i,{rotation:[d.slotAngle(i.value)-m,l.x,l.y]}),b=i.shape==D?c._renderArrow(a,k,l,n):c._renderNeedle(a,k,l,n)},getViewElements:function(a){var b=this,c=b.renderPointer(a);return b.elements=c,c}}),Y=l.extend({init:function(a){var b=this;b.options=g({},b.options,a),b.options.majorUnit=b.options.majorUnit||u(b.options.min,b.options.max),i.fn.init.call(b,b.options),b.options.minorUnit=b.options.minorUnit||b.options.majorUnit/10},options:{min:0,max:100,majorTicks:{size:15,align:R,color:G,width:M,visible:!0},minorTicks:{size:10,align:R,color:G,width:M,visible:!0},startAngle:-30,endAngle:210,labels:{position:R,padding:2}},reflow:function(a){var b=this,c=b.options,e=a.center(),f=d.min(a.height(),a.width())/2,g=b.ring||new h.Ring(e,f-c.majorTicks.size,f,c.startAngle,c.endAngle-c.startAngle);b.ring=g,b.box=g.getBBox(),b.arrangeLabels()},slotAngle:function(a){var b,c=this.options,d=c.startAngle,e=c.reverse,f=c.endAngle-d,g=c.min,h=c.max;return b=e?c.endAngle-(a-g)/(h-g)*f:(a-g)/(h-g)*f+d},renderTicks:function(a){function b(b,e,f,g,h){var i,j,k,l=c.tickAngles(b,e),m=h/e,n=l.length;if(g)for(i=0;n>i;i++)i%m!==0&&(k=b.point(l[i]),j=b.point(l[i],!0),d.push(a.createLine(j.x,j.y,k.x,k.y,{align:!1,stroke:f.color,strokeWidth:f.width})))}var c=this,d=[],e=c.ring,f=e.clone(),g=c.options,h=g.minorTicks.size;return b(e,g.majorUnit,g.majorTicks,g.majorTicks.visible),g.labels.position==R?f.radius(f.r-h,!0):f.radius(f.ir+h),b(f,g.minorUnit,g.minorTicks,g.minorTicks.visible,g.majorUnit),d},arrangeLabels:function(){var a,b,c,e,f,g,h,i,k,l,m=this,n=m.options,o=m.ring.clone(),p=m.tickAngles(o,n.majorUnit),q=m.labels,r=q.length,s=n.labels,t=s.padding,u=.05*o.r,v=n.rangeSize=n.rangeSize||.1*o.r,w=n.ranges||[];for("undefined"!=typeof m.options.rangeDistance?u=m.options.rangeDistance:m.options.rangeDistance=u,s.position===R&&w.length&&(o.r-=v+u,o.ir-=v+u),h=0;r>h;h++)f=q[h],a=f.box.width()/2,b=f.box.height()/2,e=p[h],c=e*Q,l=s.position===R,g=o.point(e,l),i=g.x+d.cos(c)*(a+t)*(l?1:-1),k=g.y+d.sin(c)*(b+t)*(l?1:-1),f.reflow(new j(i-a,k-b,i+a,k+b)),m.box.wrap(f.box)},tickAngles:function(a,b){var c,d=this,e=d.options,f=e.reverse,g=e.max-e.min,h=a.angle,i=a.startAngle,j=g/b,k=h/j,l=[];for(f&&(i+=h,k=-k),c=0;j>c;c++)l.push(A(i,I)),i+=k;return A(i)<=e.endAngle&&l.push(i),l},renderRanges:function(a){var b,c,d,e,f,g=this,h=[],i=g.rangeSegments(),j=i.length,k=g.options.reverse;if(j)for(e=g.getRadius(),f=0;j>f;f++)d=i[f],b=g.slotAngle(d[k?"to":"from"]),c=g.slotAngle(d[k?"from":"to"]),c-b!==0&&h.push(a.createRing(new n(g.ring.c,e.inner,e.outer,b,c-b),{fill:d.color,fillOpacity:d.opacity,zIndex:-1}));return h},rangeSegments:function(){function a(a,b,c,d){return{from:a,to:b,color:c,opacity:d}}var b,d,e,f,g,h=this,i=h.options,j=i.ranges||[],k=j.length,l=i.rangePlaceholderColor,m=[],n=i.min,o=i.max;if(k)for(m.push(a(n,o,l)),f=0;k>f;f++)for(b=c(j[f],n,o),d=m.length,g=0;d>g;g++)if(e=m[g],e.from<=b.from&&b.from<=e.to){m.push(a(b.from,b.to,b.color,b.opacity)),e.from<=b.to&&b.to<=e.to&&m.push(a(b.to,e.to,l,b.opacity)),e.to=b.from;break}return m},getRadius:function(){var a,b,c=this,d=c.options,e=d.rangeSize,f=d.rangeDistance,g=c.ring;return d.labels.position===T?(b=g.ir-f,a=b-e):(b=g.r,a=b-e,g.r-=e+f,g.ir-=e+f),{inner:a,outer:b}},getViewElements:function(a){var b=this,c=k.fn.getViewElements.call(b,a);return s(c,b.renderRanges(a)),s(c,b.renderTicks(a)),c}}),Z=k.extend({init:function(a){k.fn.init.call(this,a),this.render()},options:{margin:{},background:"",border:{color:G,width:0},minorTicks:{align:R}},reflow:function(a){var b,c=this,d=c.scale,e=c.pointer;d.reflow(a),b=d.box.clone(),e.scale=d,e.reflow(),b.wrap(e.box),c.box=b,c.fitScale(a),c.alignScale(a)},alignScale:function(a){var b=this,c=b.box.center(),d=a.center(),e=c.x-d.x,f=c.y-d.y,g=b.scale,h=b.pointer;g.ring.c.x-=e,g.ring.c.y-=f,g.reflow(a),h.reflow(),b.box=g.box.clone().wrap(h.box)},fitScale:function(a){for(var b,c,e,f,g=this,h=g.scale,i=h.ring,j=g.box,k=d.abs(g.getDiff(j,a)),l=A(k,I),m=A(-k,I),n=0;!(!(100>n)||(n++,l!=f&&(b=g.getPlotBox(l,a,i),b>=0&&2>=b))||m!=f&&(e=g.getPlotBox(m,a,i),e>=0&&2>=e)||(f=b>0&&e>0?2*l:0>b&&0>e?2*m:A((l+m)/2||1,I),c=g.getPlotBox(f,a,i),c>=0&&2>=c));)c>0?(m=f,e=c):(l=f,b=c)},getPlotBox:function(a,b,c){var d=this,e=d.scale,f=d.pointer;return c=c.clone(),c.r+=a,c.ir+=a,e.ring=c,e.reflow(b),f.scale=e,f.reflow(),d.box=e.box.clone().wrap(f.box),d.getDiff(d.box,b)},getDiff:function(a,b){return d.min(b.width()-a.width(),b.height()-a.height())},render:function(){var a,b=this,c=b.options;a=b.scale=new Y(c.scale),b.append(b.scale),b.pointer=new X(a,g({},c.pointer,{animation:{transitions:c.transitions}})),b.append(b.pointer)}}),$=l.extend({init:function(a){var b=this;b.options=g({},b.options,a),b.options=g({},b.options,{labels:{mirror:b.options.mirror}}),b.options.majorUnit=b.options.majorUnit||u(b.options.min,b.options.max),i.fn.init.call(b,b.options),b.options.minorUnit=b.options.minorUnit||b.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:R,color:G,width:M,visible:!0},minorTicks:{size:10,align:R,color:G,width:M,visible:!0},line:{width:M},labels:{position:R,padding:2},mirror:!1,_alignLines:!1},renderRanges:function(a){var b,d,e,f,g,h=this,i=h.options,k=i.min,l=i.max,m=i.ranges||[],n=i.vertical,o=i.labels.mirror,p=[],q=m.length,r=i.rangeSize||i.minorTicks.size/2;if(q)for(f=0;q>f;f++)b=c(m[f],k,l),g=h.getSlot(b.from,b.to),d=n?h.lineBox():g,e=n?g:h.lineBox(),n?d.x1-=r*(o?-1:1):e.y2+=r*(o?-1:1),p.push(a.createRect(new j(d.x1,e.y1,d.x2,e.y2),{fill:b.color,fillOpacity:b.opacity}));return p},getViewElements:function(a){var b=this,c=l.fn.getViewElements.call(b,a);return s(c,b.renderRanges(a)),c}}),_=W.extend({init:function(a,b){var c=this;W.fn.init.call(c,a,b),c.options=g({size:c.pointerSize(),track:{visible:x(b.track)}},c.options)},options:{shape:F,track:{border:{width:1}},color:G,border:{width:1},opacity:1,margin:w(3),animation:{type:F},visible:!0},repaint:function(){var a=this,b=a.scale,c=a.options,d=a.element,e=d._animation;e&&e.abort(),c.animation.transitions===!1?(a.getViewElements(a._view),d.points=a.element.points,d.refresh(v(c.id))):(c.animation=g({},c.animation,{endPosition:b.getSlot(b.options.min,c.value),reverse:b.options.reverse}),e=d._animation=c.shape===D?new r(d,c.animation):new q(d,c.animation),e.setup(),e.play())},reflow:function(){var a,b,c,d=this,e=d.options,f=d.scale,g=f.lineBox(),h=e.track.size||e.size,i=e.size/2,k=f.options.mirror,l=w(e.margin),m=f.options.vertical,n=m?l[k?"left":"right"]:l[k?"bottom":"top"];n=k?-n:n,m?(c=new j(g.x1+n,g.y1,g.x1+n,g.y2),k?c.x1-=h:c.x2+=h,e.shape!==F&&(b=new j(g.x2+n,g.y1-i,g.x2+n,g.y2+i),a=b)):(c=new j(g.x1,g.y1-n,g.x2,g.y1-n),k?c.y2+=h:c.y1-=h,e.shape!==F&&(b=new j(g.x1-i,g.y1-n,g.x2+i,g.y1-n),a=b)),d.trackBox=c,d.pointerRangeBox=b,d.box=a||c.clone().pad(e.border.width)},renderPointer:function(a){var b,c=this,d=c.scale,e=c.options,f=x(e.border)?{stroke:e.border.width?e.border.color||e.color:"",strokeWidth:e.border.width,dashType:e.border.dashType}:{},h=g({fill:e.color,fillOpacity:e.opacity,animation:g(e.animation,{startPosition:d.getSlot(d.options.min,e.value),size:e.size,vertical:d.options.vertical,reverse:d.options.reverse}),id:e.id,zIndex:2,align:!1},f),i=c.pointerShape(e.value);return e.shape===D?(h.animation.type=E,b=a.createPolyline(i,!0,h)):b=a.createRect(i,h),b},pointerShape:function(a){var b,c,d,e=this,f=e.options,g=e.scale,h=g.getSlot(a,g.options.min),i=f.size,k=e.pointerRangeBox,l=g.options.vertical,m=i/2,n=g.options.mirror?-1:1,o=g.options.reverse;return f.shape==D?l?(c=o?"y2":"y1",b=[new z(k.x1,h[c]-m),new z(k.x1-n*i,h[c]),new z(k.x1,h[c]+m)]):(c=o?"x1":"x2",b=[new z(h[c]-m,k.y2),new z(h[c],k.y2+n*i),new z(h[c]+m,k.y2)]):(d=e.trackBox,b=l?new j(d.x1,h.y1,d.x1+i,h.y2):new j(h.x1,d.y1,h.x2,d.y1+i)),b},pointerSize:function(){var a,b=this,c=b.options,d=b.scale,e=d.options.majorTicks.size;return a=c.shape===D?.6*e:.3*e,A(a)},renderTrack:function(a){var b=this,c=b.options,d=c.track,e=d.border||{},f=b.trackBox.clone().pad(e.width||0);return a.createRect(f,{fill:d.color,fillOpacity:d.opacity,stroke:e.width?e.color||d.color:"",strokeWidth:e.width,dashType:e.dashType,align:!1})},getViewElements:function(a){var b=this,c=b.options,d=[];return b.element=b.renderPointer(a),d.push(b.element),!c.track.visible||c.shape!==F&&""!==c.shape||d.push(b.renderTrack(a)),b._view=a,s(d,W.fn.getViewElements.call(b,a)),d}}),aa=k.extend({init:function(a){k.fn.init.call(this,a),this.render()},options:{plotArea:{margin:{},background:"",border:{color:G,width:0}},pointer:{},scale:{}},reflow:function(a){var b=this,c=b.scale,d=b.pointer;c.reflow(a),d.reflow(a),b.box=b.getBox(a),b.alignElements(),b.shrinkElements()},shrinkElements:function(){var a=this,b=a.scale,c=a.pointer,e=b.box.clone(),f=c.box,g=b.options.vertical?"y":"x";e[g+1]+=d.max(e[g+1]-f[g+1],0),e[g+2]-=d.max(f[g+2]-e[g+2],0),b.reflow(e),c.reflow(a.box)},getBox:function(a){var b,c=this,d=c.scale,e=c.pointer,f=a.center(),g=e.box.clone().wrap(d.box);return d.options.vertical?(b=g.width()/2,g=new j(f.x-b,a.y1,f.x+b,a.y2)):(b=g.height()/2,g=new j(a.x1,f.y-b,a.x2,f.y+b)),g},alignElements:function(){var a,b=this,c=b.scale,d=b.pointer,e=c.box,f=d.box.clone().wrap(c.box),g=b.box;c.options.vertical?(a=g.center().x-f.center().x,c.reflow(new j(e.x1+a,g.y1,e.x2+a,g.y2))):(a=g.center().y-f.center().y,c.reflow(new j(g.x1,e.y1+a,g.x2,e.y2+a))),d.reflow(b.box)},render:function(){var a,b=this,c=b.options;a=b.scale=new $(c.scale),b.append(b.scale),b.pointer=new _(a,g({},c.pointer,{animation:{transitions:c.transitions}})),b.append(b.pointer)},getViewElements:function(a){var b=this,c=b.options.plotArea,d=k.fn.getViewElements.call(b,a),e=c.border||{},f=[a.createRect(b.box,{fill:c.background,stroke:e.width?e.color:"",strokeWidth:e.width,dashType:e.dashType})];return s(f,d),f}}),ba=f.extend({init:function(a,b){var c,d,e,i,j=this,k=h.ui.themes||{};f.fn.init.call(j,a),j.wrapper=j.element,j._originalOptions=g({},b),c=g({},j.options,b),e=c.theme,i=k[e]||k[e.toLowerCase()],d=e&&i?i.gauge:{},j.options=g({},d,c),j.element.addClass("k-gauge"),j.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},value:function(a){var b=this,c=b._pointers[0];return 0===arguments.length?c.value():(b.options.pointer.value=a,void(b._view.renderElement?c.value(a):b.redraw()))},redraw:function(){var a,b=this,c=b.element,d=b._model=b._getModel();b._plotArea=d._plotArea,a=b._view=h.ViewFactory.current.create(d.options,b.options.renderAs),a&&(a.load(d),b._viewElement=a.renderTo(c[0]))},getSize:function(){return this._getSize()},_resize:function(){var a=this.options.transitions;this.options.transitions=!1,this.redraw(),this.options.transitions=a},_createModel:function(){var a=this,b=a.options,c=a._getSize();return new o(g({width:c.width,height:c.height,transitions:b.transitions},b.gaugeArea))},_getSize:function(){var a=this,b=a.element,c=b.width(),d=b.height();return c||(c=N),d||(d=L),{width:c,height:d}}});g(ba.fn,h.ExportMixin);var ca=ba.extend({init:function(a,b){var c=this;ba.fn.init.call(c,a,b),e.notify(c,h.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},_getModel:function(){var a,b=this,c=b.options,d=b._createModel();return a=d._plotArea=new Z(c),b._pointers=[a.pointer],d.append(a),d.reflow(),d}}),da=ba.extend({init:function(a,b){var c=this;ba.fn.init.call(c,a,b),e.notify(c,h.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},_getModel:function(){var a,b=this,c=b.options,d=b._createModel();return a=d._plotArea=new aa(c),b._pointers=[a.pointer],d.append(a),d.reflow(),d;

},_getSize:function(){var a=this,b=a.element,c=b.width(),d=b.height(),e=a.options.scale.vertical;return c||(c=e?O:N),d||(d=e?L:P),{width:c,height:d}}}),ea=t(U,p),fa=t(E,r),ga=t(F,q);e.ui.plugin(ca),e.ui.plugin(da),g(h,{Gauge:ba,RadialGaugePlotArea:Z,LinearGaugePlotArea:aa,RadialPointer:X,LinearPointer:_,LinearScale:$,RadialScale:Y,RadialPointerAnimationDecorator:ea,ArrowPointerAnimationDecorator:fa,BarIndicatorAnimationDecorator:ga})}(window.joy.jQuery),function(a,b){function c(a){return parseInt(a,2)}function d(a,b){var c=Number(a).toString(2);return c.length<b&&(c=new Array(b-c.length+1).join(0)+c),c}function e(a,b){for(var c=[],d=0;d<a.length;)c.push(a.substring(d,d+b)),d+=b;return c}function f(a,b,c,d){for(var e=0;e<a.length;e++)a[e][c][d]=b}function g(a,b,c,d){for(var e=0;e<K.length;e++)a[e][c][d]=K[e](c,d)?1^b:parseInt(b,10)}function h(){for(var a,b=1;255>b;b++)a=2*y[b-1],a>255&&(a=285^a),y[b]=a,x[a]=b;a=2*y[b-1]^285,y[b]=a,y[-1]=0}function i(){for(var a=68,b=2;a>=b;b++){var c=z[b-1],d=[b,0];z[b]=ea(c,d)}}function j(a,c){var d=[],e=a.length-1;do d[e]=y[(a[e]+c)%255],e--;while(a[e]!==b);return d}function k(a,b){return parseInt(a.charAt(b),10)}function l(a,b,c,d,e){b[a][d]=(b[a][d]<<1^e)%128,b[a][d]==J&&(c[a]+=40)}function m(a,b,c,d,e,f){c[a][f]==d?e[a][f]++:(c[a][f]=d,e[a][f]>=5&&(b[a]+=3+e[a][f]-5),e[a][f]=1)}function n(a,b){var c=Math.floor(a/b*100),d=c%5,e=Math.abs(c-d-50),f=Math.abs(c+5-d-50),g=10*Math.min(e/5,f/5);return g}var o=window.joy,p=a.extend,q=o.dataviz,r=o.ui.Widget,s=q.Box2D,t="0000",u="numeric",v="alphanumeric",w="byte",x={1:0},y={0:1},z=[[1,0],[1,25,0]],A={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},B=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],C=[1,0,1,1,1],D=[1,0,1],E={L:"01",M:"00",Q:"11",H:"10"},F="101010000010010",G="10100110111",H="1111100100101",I=["11101100","00010001"],J=93,K=[function(a,b){return(a+b)%2===0},function(a){return a%2===0},function(a,b){return b%3===0},function(a,b){return(a+b)%3===0},function(a,b){return(Math.floor(a/2)+Math.floor(b/3))%2===0},function(a,b){return a*b%2+a*b%3===0},function(a,b){return(a*b%2+a*b%3)%2===0},function(a,b){return((a+b)%2+a*b%3)%2===0}],L=/^\d+/,M="A-Z0-9 $%*+./:-",N="A-Z $%*+./:-",O=new RegExp("^["+N+"]+"),P=new RegExp("^["+M+"]+"),Q=new RegExp("^[^"+M+"]+"),R=8,S=5,T=8,U=17,V=9,W=16,X=Math.round,Y=o.Class.extend({getVersionIndex:function(a){return 10>a?0:a>26?2:1},getBitsCharacterCount:function(a){var b=this;return b.bitsInCharacterCount[b.getVersionIndex(a||40)]},getModeCountString:function(a,b){var c=this;return c.modeIndicator+d(a,c.getBitsCharacterCount(b))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),Z={};Z[u]=Y.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(a){return parseInt(a,10)},encode:function(a,b){for(var c=this,f=e(a,3),g=c.getModeCountString(a.length,b),h=0;h<f.length-1;h++)g+=d(f[h],10);return g+d(f[h],1+3*f[h].length)},getStringBitsLength:function(a,b){var c=a%3;return 4+this.getBitsCharacterCount(b)+10*Math.floor(a/3)+3*c+(0===c?0:1)}}),Z[v]=Y.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(a){return this.characters[a]},encode:function(a,b){for(var c,f=this,g=e(a,2),h=f.getModeCountString(a.length,b),i=0;i<g.length-1;i++)c=45*f.getValue(g[i].charAt(0))+f.getValue(g[i].charAt(1)),h+=d(c,11);return c=2==g[i].length?45*f.getValue(g[i].charAt(0))+f.getValue(g[i].charAt(1)):f.getValue(g[i].charAt(0)),h+d(c,1+5*g[i].length)},getStringBitsLength:function(a,b){return 4+this.getBitsCharacterCount(b)+11*Math.floor(a/2)+6*(a%2)}}),Z[w]=Y.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(a){var b=a.charCodeAt(0);if(127>=b||b>=160&&255>=b)return b;throw new Error("Unsupported character: "+a)},encode:function(a,b){for(var c=this,e=c.getModeCountString(a.length,b),f=0;f<a.length;f++)e+=d(c.getValue(a.charAt(f)),8);return e},getStringBitsLength:function(a,b){return 4+this.getBitsCharacterCount(b)+8*a}});var $={};for(var _ in Z)$[_]=new Z[_];var aa=function(a){var c=this,d=a.length-1,e=a.length-1,f=e,g=-1,h=0;c.move=function(){d+=g*h,h^=1,e=f-h},c.getNextCell=function(){for(;a[d][e]!==b;)c.move(),(0>d||d>=a.length)&&(g=-g,f-=8!=f?2:3,e=f,d=0>g?a.length-1:0);return{row:d,column:e}},c.getNextRemainderCell=function(){return c.move(),a[d][e]===b?{row:d,column:e}:void 0}},ba=function(a,b){for(var c,d,e,f=new aa(a[0]),h=0;h<b.length;h++)for(c=b[h],d=0;c.length>0;){for(var i=0;i<c.length;i++)for(var j=0;8>j;j++)e=f.getNextCell(),g(a,c[i][d].charAt(j),e.row,e.column);for(d++;c[0]&&d==c[0].length;)c.splice(0,1)}for(;e=f.getNextRemainderCell();)g(a,0,e.row,e.column)},ca=function(a,b){for(var c=8*b,d=0,e=0;a.length<c&&d<t.length;)a+=t.charAt(d++);for(a.length%8!==0&&(a+=new Array(9-a.length%8).join("0"));a.length<c;)a+=I[e],e^=1;return a},da=function(a,b){for(var c=[],d=a.length-2,e=d;e>=0;e--)c[e]=a[e]^b[e];return c},ea=function(a,c){for(var d=[],e=0;e<a.length;e++)for(var f=0;f<c.length;f++)d[e+f]=d[e+f]===b?(a[e]+(c[f]>=0?c[f]:0))%255:x[y[d[e+f]]^y[(a[e]+c[f])%255]];return d};h(),i();var fa=function(a,b){var c,e,f=z[b-1],g=new Array(b).concat(a),h=new Array(g.length-f.length).concat(f),i=a.length,k=[];for(e=0;i>e;e++)c=j(h,x[g[g.length-1]]),h.splice(0,1),g=da(c,g);for(e=g.length-1;e>=0;e--)k[b-1-e]=d(g[e],8);return k},ga=function(a,b){for(var d,e,f,g,h,i=0,j=[],k=[],l=b.groups,m=0;m<l.length;m++){f=l[m][0];for(var n=0;f>n;n++){e=l[m][1],d=[],g=[];for(var o=1;e>=o;o++)h=a.substring(i,i+8),d.push(h),g[e-o]=c(h),i+=8;j.push(d),k.push(fa(g,b.errorCodewordsPerBlock))}}return[j,k]},ha=function(a,b,c,d,e){var f,g,h=L.exec(a),i=h?h[0]:"",j=O.exec(a),k=j?j[0]:"",l=P.exec(a),m=l?l[0]:"";return i&&(i.length>=b||a.length==i.length||i.length>=c&&!P.test(a.charAt(i.length)))?(f=u,g=i):m&&(a.length==m.length||m.length>=d||e==v)?(f=v,g=i||k):(f=w,g=m?m+Q.exec(a.substring(m.length))[0]:Q.exec(a)[0]),{mode:f,modeString:g}},ia=function(a){var b,c=[],d=0;for(c.push(ha(a,R,S,T,b)),b=c[0].mode,a=a.substr(c[0].modeString.length);a.length>0;){var e=ha(a,U,V,W,b);e.mode!=b?(b=e.mode,c.push(e),d++):c[d].modeString+=e.modeString,a=a.substr(e.modeString.length)}return c},ja=function(a){for(var b,c=0,d=0;d<a.length;d++)b=$[a[d].mode],c+=b.getStringBitsLength(a[d].modeString.length);return Math.ceil(c/8)},ka=function(a,b){var c=0,d=B.length-1,e=Math.floor(B.length/2);do a<B[e][b].totalDataCodewords?d=e:c=e,e=c+Math.floor((d-c)/2);while(d-c>1);return a<=B[c][b].totalDataCodewords?e+1:d+1},la=function(a,b){for(var c,d="",e=0;e<a.length;e++)c=$[a[e].mode],d+=c.encode(a[e].modeString,b);return d},ma=function(a){var b,d=c(a),e="";if(0===d)return"101010000010010";b=na(c(a),G,15);for(var f=0;f<b.length;f++)e+=b.charAt(f)^F.charAt(f);return e},na=function(a,b,e){var f=c(b),g=b.length-1,h=a<<g,i=e-g,j=d(a,i),k=oa(h,f);return k=j+d(k,g)},oa=function(a,b){var c=b.toString(2).length,d=a.toString(2).length;do a^=b<<d-c,d=a.toString(2).length;while(d>=c);return a},pa=function(a){for(var b=[],c=17+4*a,d=0;d<K.length;d++){b[d]=new Array(c);for(var e=0;c>e;e++)b[d][e]=new Array(c)}return b},qa=function(a,b){var c,d,e=a[0],g=0,h=b.length;for(c=0,d=8;8>=c;c++)6!==c&&f(a,k(b,h-1-g++),c,d);for(c=8,d=7;d>=0;d--)6!==d&&f(a,k(b,h-1-g++),c,d);for(g=0,d=e.length-1,c=8;d>=e.length-8;d--)f(a,k(b,h-1-g++),c,d);for(f(a,1,e.length-8,8),c=e.length-7,d=8;c<e.length;c++)f(a,k(b,h-1-g++),c,d)},ra=function(a){return na(a,H,18)},sa=function(a,b){for(var c,d,e,g=a[0],h=g.length,i=0,j=h-11,l=h-11,m=0,n=0;n<b.length;n++)c=Math.floor(n/3),d=n%3,e=k(b,b.length-n-1),f(a,e,i+c,j+d),f(a,e,l+d,m+c)},ta=function(a,b,c,d){for(var e,g=b.length+2,h=b.length+1,i=0;i<b.length;i++)for(var j=i;g-i>j;j++)e=b[i],f(a,e,c+j,d+i),f(a,e,c+i,d+j),f(a,e,c+h-j,d+h-i),f(a,e,c+h-i,d+h-j)},ua=function(a,b,c,d){var e=c,g=d,h=a[0];do f(a,0,e,d),f(a,0,c,g),e+=b[0],g+=b[1];while(e>=0&&e<h.length)},va=function(a){var b=a[0].length;ta(a,C,0,0),ua(a,[-1,-1],7,7),ta(a,C,b-7,0),ua(a,[1,-1],b-8,7),ta(a,C,0,b-7),ua(a,[-1,1],7,b-8)},wa=function(a,c){if(!(2>c)){var d,e,f=a[0],g=f.length,h=Math.floor(c/7),i=[6],j=0;for((d=A[c])?e=(g-13-d)/h:d=e=(g-13)/(h+1),i.push(i[j++]+d);i[j]+e<g;)i.push(i[j++]+e);for(var k=0;k<i.length;k++)for(var l=0;l<i.length;l++)f[i[k]][i[l]]===b&&ta(a,D,i[k]-2,i[l]-2)}},xa=function(a){for(var b=6,c=6,d=1,e=a[0].length,g=8;e-8>g;g++)f(a,d,b,g),f(a,d,g,c),d^=1},ya=function(a){var b,c,d=[],e=[],f=[],g=[],h=[],i=0,j=1,k=a[0].length;for(c=0;c<a.length;c++)d[c]=0,f[c]=0,h[c]=[0,0],g[c]=[0,0],e[c]=[];for(c=0;k>c;c++)for(var o=0;k>o;o++)for(var p=0;p<a.length;p++)b=a[p],f[p]+=parseInt(b[c][o],10),e[p][i]===b[c][o]&&k>c+1&&o-1>=0&&b[c+1][o]==e[p][i]&&b[c+1][o-1]==e[p][i]&&(d[p]+=3),l(p,g,d,i,b[c][o]),l(p,g,d,j,b[o][c]),m(p,d,e,b[c][o],h,i),m(p,d,e,b[o][c],h,j);var q,r=k*k,s=Number.MAX_VALUE;for(c=0;c<d.length;c++)d[c]+=n(f[c],r),d[c]<s&&(s=d[c],q=c);return q},za=function(a,b){this.dataString=a,this.version=b},Aa=function(){this.getEncodingResult=function(a,b){var c=ia(a),d=ja(c),e=ka(d,b),f=la(c,e);return new za(f,e)}},Ba=function(){this.mode=$[this.encodingMode]};Ba.fn=Ba.prototype={encodingMode:w,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(a,b){var c=this,d=c.encode(a),e=c.getDataCodewordsCount(d),f=ka(e,b),g=c.mode.getModeCountString(d.length/8,f)+d;return new za(g,f)},getDataCodewordsCount:function(a){var b=this,c=a.length,d=Math.ceil((b.initialModeCountStringLength+c)/8);return d},encode:function(a){for(var b=this,c=b.utfBOM,d=0;d<a.length;d++)c+=b.encodeCharacter(a.charCodeAt(d));return c},encodeCharacter:function(a){var b=this.getBytesCount(a),c=b-1,e="";if(1==b)e=d(a,8);else{for(var f=8-b,g=0;c>g;g++)e=d(a>>6*g&63|128,8)+e;e=(a>>6*c|255>>f<<f).toString(2)+e}return e},getBytesCount:function(a){for(var b=this.ranges,c=0;c<b.length;c++)if(a<b[c])return c+1},ranges:[128,2048,65536,2097152,67108864]};var Ca=function(a){return a&&a.toLowerCase().indexOf("utf_8")>=0?new Ba:new Aa},Da=function(a,b,c){var e=new Ca(c),f=e.getEncodingResult(a,b),g=f.version,h=B[g-1][b],i=ca(f.dataString,h.totalDataCodewords),j=ga(i,h),k=pa(g);va(k),wa(k,g),xa(k),g>=7&&sa(k,d(0,18)),qa(k,d(0,15)),ba(k,j);var l=ya(k),m=k[l];g>=7&&sa([m],ra(g));var n=E[b]+d(l,3);return qa([m],ma(n)),m},Ea={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},Fa=r.extend({init:function(b,c){var d=this;r.fn.init.call(d,b,c),d.element=a(b),d.wrapper=d.element,d.element.addClass("k-qrcode"),d._view=q.ViewFactory.current.create({},d.options.renderAs),d.setOptions(c)},redraw:function(){var a=this,b=a._view;a._redraw(b),b.renderTo(a.element[0])},svg:function(){if(q.SVGView){var a=new q.SVGView;return this._redraw(a),a.render()}throw new Error("Unable to create SVGView. Check that joy.dataviz.svg.js is loaded.")},imageDataURL:function(){if(q.CanvasView){if(q.supportsCanvas()){var a=document.createElement("div"),b=new q.CanvasView;return this._redraw(b),b.renderTo(a).toDataURL()}return o.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw new Error("Unable to create CanvasView. Check that joy.dataviz.canvas.js is loaded.")},getSize:function(){return o.dimensions(this.element)},_resize:function(){this.redraw()},_redraw:function(a){var b,c,d,e,f,g,h=this,i=h._value,j=h.options.border||{},k=h.options.padding||0,l=j.width||0;j.width=l,i&&(d=Da(i,h.options.errorCorrection,h.options.encoding),e=h._getSize(),g=e-2*(l+k),b=h._calculateBaseUnit(g,d.length),f=d.length*b,c=h._calculateQuietZone(f,g,l,k),a.children=[],a.options.width=e,a.options.height=e,h._renderBackground(a,e,j),h._renderMatrix(a,d,b,c))},_getSize:function(){var a,b=this;if(b.options.size)a=parseInt(b.options.size,10);else{var c=b.element,d=Math.min(c.width(),c.height());a=d>0?d:Ea.DEFAULT_SIZE}return a},_calculateBaseUnit:function(a,b){var c=Math.floor(a/b);if(c<Ea.MIN_BASE_UNIT_SIZE)throw new Error("Insufficient size.");return c*b>=a&&c-1>=Ea.MIN_BASE_UNIT_SIZE&&c--,c},_calculateQuietZone:function(a,b,c,d){return c+d+(b-a)/2},_renderMatrix:function(a,b,c,d){for(var e,f,g,h,i=this,j=[],k=0;k<b.length;k++)for(e=d+k*c,h=0;h<b.length;){for(;0===b[k][h]&&h<b.length;)h++;if(h<b.length){for(f=h;1==b[k][h];)h++;g=new s(X(d+f*c),X(e),X(d+h*c),X(e+c)),j.push(g.points())}}a.children.push(a.createMultiLine(j,{fill:i.options.color,stroke:i.options.color,strokeWidth:0,align:!1}))},_renderBackground:function(a,b,c){var d=this;a.children.push(a.createRect(s(0,0,b,b).unpad(c.width/2),{fill:d.options.background,stroke:c.color,strokeWidth:c.width,align:!1}))},setOptions:function(a){var c=this;a=a||{},c.options=p(c.options,a),a.value!==b&&(c._value=c.options.value+""),c.redraw()},value:function(a){var c=this;return a===b?c._value:(c._value=a+"",void c.redraw())},options:{name:"QRCode",renderAs:"canvas",encoding:"ISO_8859_1",value:"",errorCorrection:Ea.DEFAULT_ERROR_CORRECTION_LEVEL,background:Ea.DEFAULT_BACKGROUND,color:Ea.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}});o.ui.plugin(Fa),o.deepExtend(q,{QRCode:Fa,QRCodeDefaults:Ea,QRCodeFunctions:{FreeCellVisitor:aa,fillData:ba,padDataString:ca,generateErrorCodewords:fa,xorPolynomials:da,getBlocks:ga,multiplyPolynomials:ea,chooseMode:ha,getModes:ia,getDataCodewordsCount:ja,getVersion:ka,getDataString:la,encodeFormatInformation:ma,encodeBCH:na,dividePolynomials:oa,initMatrices:pa,addFormatInformation:qa,encodeVersionInformation:ra,addVersionInformation:sa,addCentricPattern:ta,addFinderSeparator:ua,addFinderPatterns:va,addAlignmentPatterns:wa,addTimingFunctions:xa,scoreMaskMatrixes:ya,encodeData:Da,UTF8Encoder:Ba},QRCodeFields:{modes:$,powersOfTwo:x,powersOfTwoResult:y,generatorPolynomials:z}})}(window.joy.jQuery),function(a,b){function c(a){return"number"==typeof a?[a]:a}var d=window.joy,e=d.dataviz,f=d.ui.Chart,g=d.data.ObservableArray,h=e.SharedTooltip,i=d.deepExtend,j=a.isArray,k=e.inArray,l=Math,m="k-",n=150,o=150,p="bar",q="bullet",r="pie",s=[p,q],t=f.extend({init:function(b,d){var e=this,h=e.stage=a("<span />"),n=d||{};b=a(b).addClass(m+"sparkline").empty().append(h),e._initialWidth=l.floor(b.width()),n=c(n),(j(n)||n instanceof g)&&(n={seriesDefaults:{data:n}}),n.series||(n.series=[{data:c(n.data)}]),i(n,{seriesDefaults:{type:n.type}}),(k(n.series[0].type,s)||k(n.seriesDefaults.type,s))&&(n=i({},{categoryAxis:{crosshair:{visible:!1}}},n)),f.fn.init.call(e,b,n)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5},_applyDefaults:function(a){var b=this,c=e.ViewFactory.current.create({},a.renderAs);e.CanvasView&&c instanceof e.CanvasView&&i(a,{categoryAxis:{crosshair:{visible:!1}}}),f.fn._applyDefaults.apply(b,arguments)},_modelOptions:function(){var a,b=this,c=b.options,d=b._initialWidth,e=b.stage;return b.stage[0].innerHTML="&nbsp;",a=i({width:d?d:b._autoWidth(),height:e.height(),transitions:c.transitions},c.chartArea,{inline:!0,align:!1}),e.css({width:a.width,height:a.height}),a},_createTooltip:function(){var a,b=this,c=b.options,d=b.element;return a=b._sharedTooltip()?new u(d,b._plotArea,c.tooltip):f.fn._createTooltip.call(b)},_renderView:function(){var a=this;return a.element.empty().append(a.stage),a._view.renderTo(a.stage[0])},_autoWidth:function(){var a,b,c,d=this,f=d.options,g=e.getSpacing(f.chartArea.margin),h=f.series,i=d.dataSource.total(),j=0;for(b=0;b<h.length;b++){if(c=h[b],c.type===p)return n;if(c.type===q)return o;if(c.type===r)return d.stage.height();c.data&&(j=l.max(j,c.data.length))}return a=l.max(i,j)*f.pointWidth,a>0&&(a+=g.left+g.right),a}}),u=h.extend({options:{animation:{duration:0}},_anchor:function(a,b){var c=h.fn._anchor.call(this,a,b);return c.y=-this.element.height()-this.options.offset,c},_hideElement:function(){this.element.hide()}});d.ui.plugin(t),i(e,{})}(window.joy.jQuery),function(a,b){function c(){}function d(a){return c.prototype=a,new c}var e=window.joy,f=e.Class,g=e.Observable,h=e.deepExtend,i=Math,j=a.proxy,k=e.dataviz,l=k.defined,m=k.filterSeriesByType,n=e.template,o=e.ui.Chart,p=k.Selection,q=k.addDuration,r=k.last,s=k.limitValue,t=k.lteDateIndex,u=k.renderTemplate,v=k.toDate,w=k.toTime,x=28,y="change",z="k-",A="drag",B="dragEnd",C="_navigator",D=C,E=k.EQUALLY_SPACED_SERIES,F=3,G="zoom",H="zoomEnd",I=o.extend({init:function(b,c){a(b).addClass(z+"chart"),o.fn.init.call(this,b,c)},_applyDefaults:function(a,b){var c=this,d=c.element.width()||k.DEFAULT_WIDTH,e={seriesDefaults:{categoryField:a.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:i.floor(d/x)}}};b&&(b=h({},b,e)),c._navigator||J.setup(a,b),o.fn._applyDefaults.call(c,a,b)},_initDataSource:function(a){var b,c,d=a||{},e=d.dataSource,f=e&&e.serverFiltering,g=[].concat(d.categoryAxis)[0],i=d.navigator||{},j=i.select,l=j&&j.from&&j.to;f&&l&&(b=[].concat(e.filter||[]),c=new k.DateCategoryAxis(h({baseUnit:"fit"},g,{categories:[j.from,j.to]})),e.filter=J.buildFilter(c.range().min,j.to).concat(b)),o.fn._initDataSource.call(this,a)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= joy.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}},_resize:function(){var a=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=a},_redraw:function(){var a=this,b=a._navigator;b&&b.dataSource?b.redrawSlaves():a._fullRedraw()},_fullRedraw:function(){var a=this,b=a._navigator;b||(b=a._navigator=new J(a)),b.filterAxes(),o.fn._redraw.call(a),b.redraw()},_onDataChanged:function(){var a=this;o.fn._onDataChanged.call(a),a._dataBound=!0},_bindCategoryAxis:function(a,b,c){var d,e=this,f=e.options.categoryAxis,g=f.length;if(o.fn._bindCategoryAxis.apply(this,arguments),a.name===D)for(;g>c;)d=f[c++],d.pane==C&&(d.categories=a.categories)},_trackSharedTooltip:function(a){var b=this,c=b._plotArea,d=c.paneByPoint(a);d&&d.options.name===C?b._unsetActivePoint():o.fn._trackSharedTooltip.call(b,a)},destroy:function(){var a=this;a._navigator.destroy(),o.fn.destroy.call(a)}}),J=g.extend({init:function(a){var b=this;b.chart=a,b.options=h({},b.options,a.options.navigator),b._initDataSource(),l(b.options.hint.visible)||(b.options.hint.visible=b.options.visible),a.bind(A,j(b._drag,b)),a.bind(B,j(b._dragEnd,b)),a.bind(G,j(b._zoom,b)),a.bind(H,j(b._zoomEnd,b))},options:{},_initDataSource:function(){var a=this,b=a.options,c=b.autoBind,d=b.dataSource;l(c)||(c=a.chart.options.autoBind),a._dataChangedHandler=j(a._onDataChanged,a),d&&(a.dataSource=e.data.DataSource.create(d).bind(y,a._dataChangedHandler),c&&a.dataSource.fetch())},_onDataChanged:function(){var a,b,c,d,e,f=this,g=f.chart,h=g.options.series,i=h.length,j=g.options.categoryAxis,k=j.length,l=f.dataSource.view();for(a=0;i>a;a++)c=h[a],c.axis==D&&g._isBindable(c)&&(c.data=l);for(b=0;k>b;b++)d=j[b],d.pane==C&&(d.name==D?(g._bindCategoryAxis(d,l,b),e=d.categories):d.categories=e);

g._model&&(f.redraw(),f.filterAxes(),(!g.options.dataSource||g.options.dataSource&&g._dataBound)&&f.redrawSlaves())},destroy:function(){var a=this,b=a.dataSource;b&&b.unbind(y,a._dataChangeHandler),a.selection&&a.selection.destroy()},redraw:function(){this._redrawSelf();var b=this,c=b.chart,e=b.options,f=b.mainAxis(),g=d(f),h=f.options.categories,i=b.options.select||{},j=b.selection,k=f.range(),l=k.min,m=k.max,n=i.from||l,o=i.to||m;h.length>0&&(j&&(j.destroy(),j.wrapper.remove()),g.box=f.box,j=b.selection=new p(c,g,{min:l,max:m,from:n,to:o,selectStart:a.proxy(b._selectStart,b),select:a.proxy(b._select,b),selectEnd:a.proxy(b._selectEnd,b),mousewheel:{zoom:"left"}}),e.hint.visible&&(b.hint=new K(c.element,{min:l,max:m,template:e.hint.template,format:e.hint.format})))},_redrawSelf:function(a){var b=this.chart._plotArea;b&&b.redraw(r(b.panes),a)},redrawSlaves:function(){var a=this,b=a.chart,c=b._plotArea,d=c.panes.slice(0,-1);c.srcSeries=b.options.series,c.redraw(d)},_drag:function(a){var b,c,d,e=this,f=e.chart,g=f._eventCoordinates(a.originalEvent),h=e.mainAxis(),i=h.range(),j=h.pane.box.containsPoint(g),k=f._plotArea.categoryAxis,l=a.axisRanges[k.options.name],m=e.options.select,n=e.selection;l&&!j&&n&&(b=m.from&&m.to?w(m.to)-w(m.from):w(n.options.to)-w(n.options.from),c=v(s(w(l.min),i.min,w(i.max)-b)),d=v(s(w(c)+b,w(i.min)+b,i.max)),e.options.select={from:c,to:d},e._liveDrag()&&(e.filterAxes(),e.redrawSlaves()),n.set(c,d),e.showHint(c,d))},_dragEnd:function(){var a=this;a.filterAxes(),a.filterDataSource(),a.redrawSlaves(),a.hint&&a.hint.hide()},_liveDrag:function(){var a=e.support,b=a.touch,c=a.browser,d=c.mozilla,f=c.msie&&c.version<9;return!b&&!d&&!f},readSelection:function(){var a=this,b=a.selection,c=b.options,d=a.options.select;d.from=c.from,d.to=c.to},filterAxes:function(){var a,b,c=this,d=c.options.select||{},e=c.chart,f=e.options.categoryAxis,g=d.from,h=d.to;for(a=0;a<f.length;a++)b=f[a],b.pane!==C&&(b.min=v(g),b.max=v(h))},filterDataSource:function(){var a,b=this,c=b.options.select||{},d=b.chart,e=d.dataSource,f=e&&e.options.serverFiltering;b.dataSource&&f&&(a=new k.DateCategoryAxis(h({baseUnit:"fit"},d.options.categoryAxis[0],{categories:[c.from,c.to]})).options,e.filter(J.buildFilter(q(a.min,-a.baseUnitStep,a.baseUnit),q(a.max,a.baseUnitStep,a.baseUnit))))},_zoom:function(a){var b,c,d=this,f=d.chart,g=a.delta,h=f._plotArea.categoryAxis,j=d.options.select,k=d.selection,l=d.mainAxis().options.categories;k&&(b=t(k.options.from,l),c=t(k.options.to,l),a.originalEvent.preventDefault(),i.abs(g)>1&&(g*=F),c-b>1?(k.expand(g),d.readSelection()):(h.options.min=j.from,j.from=h.scaleRange(-a.delta).min),e.support.touch||(d.filterAxes(),d.redrawSlaves()),k.set(j.from,j.to),d.showHint(d.options.select.from,d.options.select.to))},_zoomEnd:function(a){this._dragEnd(a)},showHint:function(a,b){var c=this,d=c.chart,e=d._plotArea;c.hint&&c.hint.show(a,b,e.backgroundBox())},_selectStart:function(a){var b=this.chart;b._selectStart.call(b,a)},_select:function(a){var b=this,c=b.chart;b.showHint(a.from,a.to),c._select.call(c,a)},_selectEnd:function(a){var b=this,c=b.chart;b.hint&&b.hint.hide(),b.readSelection(),b.filterAxes(),b.filterDataSource(),b.redrawSlaves(),c._selectEnd.call(c,a)},mainAxis:function(){var a=this.chart._plotArea;return a?a.namedCategoryAxes[D]:void 0}});J.setup=function(a,b){a=a||{},b=b||{};var c=h({},b.navigator,a.navigator),d=a.panes=[].concat(a.panes),e=h({},c.pane,{name:C});c.visible||(e.visible=!1,e.height=.1),d.push(e),J.attachAxes(a,c),J.attachSeries(a,c,b)},J.attachAxes=function(a,b){var c,d,e=b.series||[];c=a.categoryAxis=[].concat(a.categoryAxis),d=a.valueAxis=[].concat(a.valueAxis);var f=m(e,E),g=0===f.length,i=h({type:"date",pane:C,roundToBaseUnit:!g,justified:g,_collapse:!1,tooltip:{visible:!1},labels:{step:1},autoBind:!b.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1],days:[1],weeks:[],months:[1],years:[1]},_overlap:!1}),j=b.categoryAxis;c.push(h({},i,{maxDateGroups:200},j,{name:D,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),h({},i,j,{name:D+"_labels",maxDateGroups:20,baseUnitStep:"auto",autoBaseUnitSteps:{minutes:[]},majorTicks:{visible:!0}}),h({},i,j,{name:D+"_ticks",maxDateGroups:200,majorTicks:{visible:!0,width:.5},labels:{visible:!1,mirror:!0}})),d.push({name:D,pane:C,majorGridLines:{visible:!1},visible:!1})},J.attachSeries=function(a,b,c){var d,e=a.series=a.series||[],f=[].concat(b.series||[]),g=c.seriesColors,i=b.seriesDefaults;for(d=0;d<f.length;d++)e.push(h({color:g[d%g.length],categoryField:b.dateField,visibleInLegend:!1,tooltip:{visible:!1}},i,f[d],{axis:D,categoryAxis:D,autoBind:!b.dataSource}))},J.buildFilter=function(a,b){return[{field:"Date",operator:"gte",value:v(a)},{field:"Date",operator:"lt",value:v(b)}]};var K=f.extend({init:function(b,c){var d=this;d.options=h({},d.options,c),d.container=b,d.chartPadding={top:parseInt(b.css("paddingTop"),10),left:parseInt(b.css("paddingLeft"),10)},d.template=d.template,d.template||(d.template=d.template=u("<div class='"+z+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+z+"tooltip'>&nbsp;</div><div class='"+z+"scroll' /></div>")),d.element=a(d.template()).appendTo(b)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(a,b,c){var d,f=this,g=v(w(a)+w(b-a)/2),h=f.options,i=e.format(f.options.format,a,b),j=f.element.find("."+z+"tooltip"),k=f.element.find("."+z+"scroll"),l=.4*c.width(),m=c.center().x-l,o=c.center().x,p=o-m,q=h.max-h.min,r=p/q,s=g-h.min;f._hideTimeout&&clearTimeout(f._hideTimeout),f._visible||(f.element.stop(!1,!0).css("visibility","hidden").show(),f._visible=!0),h.template&&(d=n(h.template),i=d({from:a,to:b})),j.html(i).css({left:c.center().x-j.outerWidth()/2,top:c.y1}),k.css({width:l,left:m+s*r,top:c.y1+parseInt(j.css("margin-top"),10)+parseInt(j.css("border-top-width"),10)+j.height()/2}),f.element.css("visibility","visible")},hide:function(){var a=this;a._hideTimeout&&clearTimeout(a._hideTimeout),a._hideTimeout=setTimeout(function(){a._visible=!1,a.element.fadeOut("slow")},a.options.hideDelay)}});e.ui.plugin(I),h(k,{Navigator:J})}(window.joy.jQuery);