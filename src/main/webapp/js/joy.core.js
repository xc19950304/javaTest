/*! by joyone.cn 厦门展网信息技术有限公司  joyone 2015-04-30  1.0.20 */
!function($,undefined){function Class(){}function compilePart(a,b){if(b){return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}var c=a.charAt(0),d=a.substring(1);return"="===c?"+("+d+")+":":"===c?"+e("+d+")+":";"+a+";o+="}function pad(a,b,c){return a+="",b=b||2,c=b-a.length,c?zeros[b].substring(0,c)+a:a}function getShadows(a){var b=a.css(joy.support.transitions.css+"box-shadow")||a.css("box-shadow"),c=b?b.match(boxShadowRegExp)||[0,0,0,0,0]:[0,0,0,0,0],d=math.max(+c[3],+(c[4]||0));return{left:-c[1]+d,right:+c[1]+d,bottom:+c[2]+d}}function wrap(a,b){var c,d=support.browser,e="rtl"==a.css("direction");if(a.parent().hasClass("k-animation-container")){var f=a.parent(".k-animation-container"),g=f[0].style;f.is(":hidden")&&f.show(),c=percentRegExp.test(g.width)||percentRegExp.test(g.height),c||f.css({width:a.outerWidth(),height:a.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var h=getShadows(a),i=a[0].style.width,j=a[0].style.height,k=percentRegExp.test(i),l=percentRegExp.test(j);d.opera&&(h.left=h.right=h.bottom=5),c=k||l,!k&&(!b||b&&i)&&(i=a.outerWidth()),!l&&(!b||b&&j)&&(j=a.outerHeight()),a.wrap($("<div/>").addClass("k-animation-container").css({width:i,height:j,marginLeft:h.left*(e?1:-1),paddingLeft:h.left,paddingRight:h.right,paddingBottom:h.bottom})),c&&a.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return d.msie&&math.floor(d.version)<=7&&(a.css({zoom:1}),a.children(".k-menu").width(a.width())),a.parent()}function deepExtend(a){var b=1,c=arguments.length;for(b=1;c>b;b++){deepExtendOne(a,arguments[b])}return a}function deepExtendOne(a,b){var c,d,e,f,g=joy.data.ObservableArray,h=joy.data.DataSource,i=joy.data.HierarchicalDataSource;for(c in b){d=b[c],e=typeof d,e===OBJECT&&null!==d&&d.constructor!==Array&&d.constructor!==g&&d.constructor!==h&&d.constructor!==i?d instanceof Date?a[c]=new Date(d.getTime()):isFunction(d.clone)?a[c]=d.clone():(f=a[c],a[c]=typeof f===OBJECT?f||{}:{},deepExtendOne(a[c],d)):e!==UNDEFINED&&(a[c]=d)}return a}function testRx(a,b,c){for(var d in b){if(b.hasOwnProperty(d)&&b[d].test(a)){return d}}return c!==undefined?c:a}function toHyphens(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})}function toCamelCase(a){return a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})}function getComputedStyles(a,b){var c,d={};return document.defaultView&&document.defaultView.getComputedStyle?(c=document.defaultView.getComputedStyle(a,""),b&&$.each(b,function(a,b){d[b]=c.getPropertyValue(b)})):(c=a.currentStyle,b&&$.each(b,function(a,b){d[b]=c[toCamelCase(b)]})),joy.size(d)||(d=c),d}function size(a){var b,c=0;for(b in a){a.hasOwnProperty(b)&&"toJSON"!=b&&c++}return c}function getOffset(a,b,c){b||(b="offset");var d=a[b]();support.mobileOS;return support.browser.msie&&(support.pointers||support.msPointers)&&!c&&(d.top-=window.pageYOffset-document.documentElement.scrollTop,d.left-=window.pageXOffset-document.documentElement.scrollLeft),d}function parseEffects(a){var b={};return each("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b}function fx(a){return new joy.effects.Element(a)}function prepareAnimationOptions(a,b,c,d){return typeof a===STRING&&(isFunction(b)&&(d=b,b=400,c=!1),isFunction(c)&&(d=c,c=!1),typeof b===BOOLEAN&&(c=b,b=400),a={effects:a,duration:b,reverse:c,complete:d}),extend({effects:{},duration:400,reverse:!1,init:noop,teardown:noop,hide:!1},a,{completeCallback:a.complete,complete:noop})}function animate(a,b,c,d,e){for(var f,g=0,h=a.length;h>g;g++){f=$(a[g]),f.queue(function(){effects.promise(f,prepareAnimationOptions(b,c,d,e))})}return a}function toggleClass(a,b,c,d){return b&&(b=b.split(" "),each(b,function(b,c){a.toggleClass(c,d)})),a}function htmlEncode(a){return(""+a).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;").replace(quoteRegExp,"&quot;").replace(aposRegExp,"&#39;")}function parseOption(a,b){var c;if(c=a.getAttribute(joy.ns+b),null!=c&&0==c.indexOf("lg:")){var d=joy.getLang();c=d[c.substr(3)]}if(null!=c&&0==c.indexOf("lgc:")){var d=joy.getCommonLang();c=d[c.substr(4)]}return null===c?c=undefined:"null"===c?c=null:"true"===c?c=!0:"false"===c?c=!1:numberRegExp.test(c)?c=parseFloat(c):jsonRegExp.test(c)&&!jsonFormatRegExp.test(c)&&(c=new Function("return ("+c+")")()),c}function parseOptions(a,b){var c,d,e={};for(c in b){d=parseOption(a,c),d!==undefined&&(templateRegExp.test(c)&&(d=joy.template($("#"+d).html())),e[c]=d)}return e}function containmentComparer(a,b){return $.contains(a,b)?-1:1}function resizableWidget(){var a=$(this);return $.inArray(a.attr("data-role"),["slider","rangeslider"])>0||a.is(":visible")}function focusable(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&visible(a)}function visible(a){return !$(a).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")||$.expr.filters.hidden(this)}).length}function joyJQuery(a,b){return new joyJQuery.fn.init(a,b)}function mousewheelHandler(a){var b=a||window.event,c=[].slice.call(arguments,1),d=0,e=0,f=0;return a=$.event.fix(b),a.type="mousewheel",b.wheelDelta&&(d=b.wheelDelta/120),b.detail&&(d=-b.detail/3),f=d,b.axis!==undefined&&b.axis===b.HORIZONTAL_AXIS&&(f=0,e=-1*d),b.wheelDeltaY!==undefined&&(f=b.wheelDeltaY/120),b.wheelDeltaX!==undefined&&(e=-1*b.wheelDeltaX/120),c.unshift(a,d,e,f),($.event.dispatch||$.event.handle).apply(this,c)}var joy=window.joy=window.joy||{cultures:{}},extend=$.extend,each=$.each,isArray=$.isArray,proxy=$.proxy,noop=$.noop,math=Math,Template,JSON=window.JSON||{},support={},percentRegExp=/%/,formatRegExp=/\{(\d+)(:[^\}]+)?\}/g,boxShadowRegExp=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,numberRegExp=/^(\+|-?)\d+(\.?)\d*$/,FUNCTION="function",STRING="string",NUMBER="number",OBJECT="object",NULL="null",BOOLEAN="boolean",UNDEFINED="undefined",getterCache={},setterCache={},slice=[].slice;joy.version="2014.1.318",Class.extend=function(a){var b,c,d=function(){},e=this,f=a&&a.init?a.init:function(){e.apply(this,arguments)};d.prototype=e.prototype,c=f.fn=f.prototype=new d;for(b in a){c[b]=null!=a[b]&&a[b].constructor===Object?extend(!0,{},d.prototype[b],a[b]):a[b]}return c.constructor=f,f.extend=e.extend,f},Class.prototype._initOptions=function(a){this.options=deepExtend({},this.options,a)};var isFunction=joy.isFunction=function(a){return"function"==typeof a},preventDefault=function(){this._defaultPrevented=!0},isDefaultPrevented=function(){return this._defaultPrevented===!0},Observable=Class.extend({init:function(){this._events={}},bind:function(a,b,c){var d,e,f,g,h,i=this,j=typeof a===STRING?[a]:a,k=typeof b===FUNCTION;if(b===undefined){for(d in a){i.bind(d,a[d])}return i}for(d=0,e=j.length;e>d;d++){a=j[d],g=k?b:b[a],g&&(c&&(f=g,g=function(){i.unbind(a,g),f.apply(i,arguments)}),h=i._events[a]=i._events[a]||[],h.push(g))}return i},one:function(a,b){return this.bind(a,b,!0)},first:function(a,b){var c,d,e,f,g=this,h=typeof a===STRING?[a]:a,i=typeof b===FUNCTION;for(c=0,d=h.length;d>c;c++){a=h[c],e=i?b:b[a],e&&(f=g._events[a]=g._events[a]||[],f.unshift(e))}return g},trigger:function(a,b){var c,d,e=this,f=e._events[a];if(f){if(isArray(b)){for(f=f.slice(),c=0,d=f.length;d>c;c++){f[c].apply(e,b)}return !1}for(b=b||{},b.sender=e,b._defaultPrevented=!1,b.preventDefault=preventDefault,b.isDefaultPrevented=isDefaultPrevented,f=f.slice(),c=0,d=f.length;d>c;c++){f[c].call(e,b)}return b._defaultPrevented===!0}return !1},unbind:function(a,b){var c,d=this,e=d._events[a];if(a===undefined){d._events={}}else{if(e){if(b){for(c=e.length-1;c>=0;c--){e[c]===b&&e.splice(c,1)}}else{d._events[a]=[]}}}return d}}),argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g,zeros=["","0","00","000","0000"];Template={paramName:"data",useWithBlock:!0,render:function(a,b){var c,d,e="";for(c=0,d=b.length;d>c;c++){e+=a(b[c])}return e},compile:function(a,b){var c,d,e,f=extend({},this,b),g=f.paramName,h=g.match(argumentNameRegExp)[0],i=f.useWithBlock,j="var o,e=joy.htmlEncode;";if(isFunction(a)){return 2===a.length?function(b){return a($,{data:b}).join("")}:a}for(j+=i?"with("+g+"){":"",j+="o=",d=a.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=e($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#"),e=0;e<d.length;e++){j+=compilePart(d[e],e%2===0)}j+=i?";}":";",j+="return o;",j=j.replace(sharpRegExp,"#");try{return c=new Function(h,j),c._slotCount=Math.floor(d.length/2),c}catch(k){throw new Error(joy.format("Invalid template:'{0}' Generated code:'{1}'",a,j))}}},function(){function a(a){return f.lastIndex=0,f.test(a)?'"'+a.replace(f,function(a){var b=g[a];return typeof b===STRING?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(f,g){var i,j,k,l,m,n,o=c,p=g[f];if(p&&typeof p===OBJECT&&typeof p.toJSON===FUNCTION&&(p=p.toJSON(f)),typeof e===FUNCTION&&(p=e.call(g,f,p)),n=typeof p,n===STRING){return a(p)}if(n===NUMBER){return isFinite(p)?String(p):NULL}if(n===BOOLEAN||n===NULL){return String(p)}if(n===OBJECT){if(!p){return NULL}if(c+=d,m=[],"[object Array]"===h.apply(p)){for(l=p.length,i=0;l>i;i++){m[i]=b(i,p)||NULL}return k=0===m.length?"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+o+"]":"["+m.join(",")+"]",c=o,k}if(e&&typeof e===OBJECT){for(l=e.length,i=0;l>i;i++){typeof e[i]===STRING&&(j=e[i],k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k))}}else{for(j in p){Object.hasOwnProperty.call(p,j)&&(k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k))}}return k=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+o+"}":"{"+m.join(",")+"}",c=o,k}}var c,d,e,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h={}.toString;typeof Date.prototype.toJSON!==FUNCTION&&(Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?pad(a.getUTCFullYear(),4)+"-"+pad(a.getUTCMonth()+1)+"-"+pad(a.getUTCDate())+"T"+pad(a.getUTCHours())+":"+pad(a.getUTCMinutes())+":"+pad(a.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof JSON.stringify!==FUNCTION&&(JSON.stringify=function(a,f,g){var h;if(c="",d="",typeof g===NUMBER){for(h=0;g>h;h+=1){d+=" "}}else{typeof g===STRING&&(d=g)}if(e=f,f&&typeof f!==FUNCTION&&(typeof f!==OBJECT||typeof f.length!==NUMBER)){throw new Error("JSON.stringify")}return b("",{"":a})})}(),function(){function formatDate(a,b){var c=joy.getPluginLang(),d=c.calendars.standard,e=d.days,f=d.months;return b=d.patterns[b]||b,b.replace(dateFormatRegExp,function(b){var c;return"d"===b?c=a.getDate():"dd"===b?c=pad(a.getDate()):"ddd"===b?c=e.namesAbbr[a.getDay()]:"dddd"===b?c=e.names[a.getDay()]:"M"===b?c=a.getMonth()+1:"MM"===b?c=pad(a.getMonth()+1):"MMM"===b?c=f.namesAbbr[a.getMonth()]:"MMMM"===b?c=f.names[a.getMonth()]:"yy"===b?c=pad(a.getFullYear()%100):"yyyy"===b?c=pad(a.getFullYear(),4):"h"===b?c=a.getHours()%12||12:"hh"===b?c=pad(a.getHours()%12||12):"H"===b?c=a.getHours():"HH"===b?c=pad(a.getHours()):"m"===b?c=a.getMinutes():"mm"===b?c=pad(a.getMinutes()):"s"===b?c=a.getSeconds():"ss"===b?c=pad(a.getSeconds()):"f"===b?c=math.floor(a.getMilliseconds()/100):"ff"===b?c=math.floor(a.getMilliseconds()/10):"fff"===b?c=a.getMilliseconds():"tt"===b&&(c=a.getHours()<12?d.AM[0]:d.PM[0]),c!==undefined?c:b.slice(1,b.length-1)})}function formatNumber(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=joy.getPluginLang(),A=z.numberFormat,B=A.groupSize[0],C=A[COMMA],D=A[POINT],E=A.decimals,F=A.pattern[0],G=[],H=0>a,I=EMPTY,J=EMPTY,K=-1;if(a===undefined){return EMPTY}if(!isFinite(a)){return a}if(!b){return z.name.length?a.toLocaleString():a.toString()}if(g=standardFormatRegExp.exec(b)){if(b=g[1].toLowerCase(),d="c"===b,e="p"===b,(d||e)&&(A=d?A.currency:A.percent,B=A.groupSize[0],C=A[COMMA],D=A[POINT],E=A.decimals,c=A.symbol,F=A.pattern[H?0:1]),f=g[2],f&&(E=+f),"e"===b){return f?a.toExponential(E):a.toExponential()}if(e&&(a*=100),a=round(a,E),H=0>a,a=a.split(POINT),h=a[0],i=a[1],H&&(h=h.substring(1)),J=h,j=h.length,j>=B){for(J=EMPTY,l=0;j>l;l++){l>0&&(j-l)%B===0&&(J+=C),J+=h.charAt(l)}}if(i&&(J+=D+i),"n"===b&&!H){return J}for(a=EMPTY,l=0,m=F.length;m>l;l++){n=F.charAt(l),a+="n"===n?J:"$"===n||"%"===n?c:n}return a}if(H&&(a=-a),(b.indexOf("'")>-1||b.indexOf('"')>-1||b.indexOf("\\")>-1)&&(b=b.replace(literalRegExp,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");return G.push(c),PLACEHOLDER})),b=b.split(";"),H&&b[1]){b=b[1],p=!0}else{if(0===a){if(b=b[2]||b[0],-1==b.indexOf(SHARP)&&-1==b.indexOf(ZERO)){return b}}else{b=b[0]}}if(v=b.indexOf("%"),w=b.indexOf("$"),e=-1!=v,d=-1!=w,e&&(a*=100),d&&"\\"===b[w-1]&&(b=b.split("\\").join(""),d=!1),(d||e)&&(A=d?A.currency:A.percent,B=A.groupSize[0],C=A[COMMA],D=A[POINT],E=A.decimals,c=A.symbol),o=b.indexOf(COMMA)>-1,o&&(b=b.replace(commaRegExp,EMPTY)),q=b.indexOf(POINT),m=b.length,-1!=q?(i=a.toString().split("e"),i=i[1]?round(a,Math.abs(i[1])):i[0],i=i.split(POINT)[1]||EMPTY,s=b.lastIndexOf(ZERO)-q,r=b.lastIndexOf(SHARP)-q,t=s>-1,u=r>-1,l=i.length,t||u||(b=b.substring(0,q)+b.substring(q+1),m=b.length,q=-1,l=0),t&&s>r?l=s:r>s&&(u&&l>r?l=r:t&&s>l&&(l=s)),l>-1&&(a=round(a,l))):a=round(a),r=b.indexOf(SHARP),x=s=b.indexOf(ZERO),K=-1==r&&-1!=s?s:-1!=r&&-1==s?r:r>s?s:r,r=b.lastIndexOf(SHARP),s=b.lastIndexOf(ZERO),y=-1==r&&-1!=s?s:-1!=r&&-1==s?r:r>s?r:s,K==m&&(y=K),-1!=K){if(J=a.toString().split(POINT),h=J[0],i=J[1]||EMPTY,j=h.length,k=i.length,H&&-1*a>=0&&(H=!1),o){if(j===B&&q-x>j){h=C+h}else{if(j>B){for(J=EMPTY,l=0;j>l;l++){l>0&&(j-l)%B===0&&(J+=C),J+=h.charAt(l)}h=J}}}for(a=b.substring(0,K),H&&!p&&(a+="-"),l=K;m>l;l++){if(n=b.charAt(l),-1==q){if(j>y-l){a+=h;break}}else{if(-1!=s&&l>s&&(I=EMPTY),j>=q-l&&q-l>-1&&(a+=h,l=q),q===l){a+=(i?D:EMPTY)+i,l+=y-q+1;continue}}n===ZERO?(a+=n,I=n):n===SHARP&&(a+=I)}if(y>=K&&(a+=b.substring(y+1)),d||e){for(J=EMPTY,l=0,m=a.length;m>l;l++){n=a.charAt(l),J+="$"===n||"%"===n?c:n}a=J}if(m=G.length){for(l=0;m>l;l++){a=a.replace(PLACEHOLDER,G[l])}}}return a}var dateFormatRegExp=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,standardFormatRegExp=/^(n|c|p|e)(\d*)$/i,literalRegExp=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,commaRegExp=/\,/g,EMPTY="",POINT=".",COMMA=",",SHARP="#",ZERO="0",PLACEHOLDER="??",objectToString={}.toString;joy.getPluginLang=function(){return joy.pluginLang||{}},joy.getLang=function(){return joy.lang[JOY_FILE_NAME]},joy.getCommonLang=function(){return joy.commonLang||{}};var round=function(value,precision){with(precision=precision||0,value=value.toString().split("e"),value=Math.round(+(value[0]+"e"+(value[1]?+value[1]+precision:precision))),value=value.toString().split("e"),value=+(value[0]+"e"+(value[1]?+value[1]-precision:-precision)),Math){return round(value*pow(10,precision))/pow(10,precision)+""}},toString=function(a,b){if(b){if("[object Date]"===objectToString.call(a)){return formatDate(a,b)}if(typeof a===NUMBER){return formatNumber(a,b)}}return a!==undefined?a:""};joy.format=function(a){var b=arguments;return a.replace(formatRegExp,function(a,c,d){var e=b[parseInt(c,10)+1];return toString(e,d?d.substring(1):"")})},joy._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},joy._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},joy._round=round,joy.toString=toString}(),function(){function a(a,b,c){return !(a>=b&&c>=a)}function b(a){return a.charAt(0)}function c(a){return $.map(a,b)}function d(a,b){b||23!==a.getHours()||a.setHours(a.getHours()+2)}function e(a){for(var b=0,c=a.length,d=[];c>b;b++){d[b]=(a[b]+"").toLowerCase()}return d}function f(a){var b,c={};for(b in a){c[b]=e(a[b])}return c}function g(b,e){if(!b){return null}var g,h,i,l,m,n,p,q,r,s,t,u,v,w,x=function(a){for(var b=0;e[J]===a;){b++,J++}return b>0&&(J-=1),b},y=function(a){var c=o[a]||new RegExp("^\\d{1,"+a+"}"),d=b.substr(K,a).match(c);return d?(d=d[0],K+=d.length,parseInt(d,10)):null},z=function(a,c){for(var d,e,f,g=0,h=a.length;h>g;g++){if(d=a[g],e=d.length,f=b.substr(K,e),c&&(f=f.toLowerCase()),f==d){return K+=e,g+1}}return null},A=function(){var a=!1;return b.charAt(K)===e[J]&&(K++,a=!0),a},B=joyLang.calendars.standard,C=null,D=null,E=null,F=null,G=null,H=null,I=null,J=0,K=0,L=!1,M=new Date,N=B.twoDigitYearMax||2029,O=M.getFullYear();for(e||(e="d"),l=B.patterns[e],l&&(e=l),e=e.split(""),i=e.length;i>J;J++){if(g=e[J],L){"'"===g?L=!1:A()}else{if("d"===g){if(h=x("d"),B._lowerDays||(B._lowerDays=f(B.days)),E=3>h?y(2):z(B._lowerDays[3==h?"namesAbbr":"names"],!0),null===E||a(E,1,31)){return null}}else{if("M"===g){if(h=x("M"),B._lowerMonths||(B._lowerMonths=f(B.months)),D=3>h?y(2):z(B._lowerMonths[3==h?"namesAbbr":"names"],!0),null===D||a(D,1,12)){return null}D-=1}else{if("y"===g){if(h=x("y"),C=y(h),null===C){return null}2==h&&("string"==typeof N&&(N=O+parseInt(N,10)),C=O-O%100+C,C>N&&(C-=100))}else{if("h"===g){if(x("h"),F=y(2),12==F&&(F=0),null===F||a(F,0,11)){return null}}else{if("H"===g){if(x("H"),F=y(2),null===F||a(F,0,23)){return null}}else{if("m"===g){if(x("m"),G=y(2),null===G||a(G,0,59)){return null}}else{if("s"===g){if(x("s"),H=y(2),null===H||a(H,0,59)){return null}}else{if("f"===g){if(h=x("f"),w=b.substr(K,h).match(o[3]),I=y(h),null!==I&&(w=w[0].length,3>w&&(I*=Math.pow(10,3-w)),h>3&&(I=parseInt(I.toString().substring(0,3),10))),null===I||a(I,0,999)){return null}}else{if("t"===g){if(h=x("t"),r=B.AM,s=B.PM,1===h&&(r=c(r),s=c(s)),m=z(s),!m&&!z(r)){return null}}else{if("z"===g){if(n=!0,h=x("z"),"Z"===b.substr(K,1)){if(!p){return null}A();continue}if(q=b.substr(K,6).match(h>2?k:j),!q){return null}if(q=q[0],K=q.length,q=q.split(":"),t=parseInt(q[0],10),a(t,-12,13)){return null}if(h>2&&(u=parseInt(q[1],10),isNaN(u)||a(u,0,59))){return null}}else{if("T"===g){p=A()}else{if("'"===g){L=!0,A()}else{if(!A()){return null}}}}}}}}}}}}}}}return v=null!==F||null!==G||H||null,null===C&&null===D&&null===E&&v?(C=O,D=M.getMonth(),E=M.getDate()):(null===C&&(C=O),null===E&&(E=1)),m&&12>F&&(F+=12),n?(t&&(F+=-t),u&&(G+=-u),b=new Date(Date.UTC(C,D,E,F,G,H,I))):(b=new Date(C,D,E,F,G,H,I),d(b,F)),100>C&&b.setFullYear(C),b.getDate()!==E&&n===undefined?null:b}var h=/\u00A0/g,i=/[eE][\-+]?[0-9]+/,j=/[+|\-]\d{1,2}/,k=/[+|\-]\d{1,2}:\d{2}/,l=/^\/Date\((.*?)\)\/$/,m=/[+-]/,n=["G","g","d","F","D","y","m","T","t"],o={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},p={}.toString;joy.parseDate=function(a,b){if("[object Date]"===p.call(a)){return a}var c,d,e,f=0,h=null;if("number"==typeof a&&(a=a.toString()),a&&0===a.indexOf("/D")&&(h=l.exec(a))){return e=h=h[1],h=parseInt(h,10),e=e.substring(1).split(m)[1],e&&(h-=parseInt(e,10)*joy.date.MS_PER_MINUTE),new Date(h)}if(joyLang=joy.getPluginLang(),!b){for(b=[],d=joyLang.calendars.standard.patterns,c=n.length;c>f;f++){b[f]=d[n[f]]}f=0,b=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","yyyy","yyyy-MM","HH:mm:ss","HH:mm"].concat(b)}for(b=isArray(b)?b:[b],c=b.length;c>f;f++){if(h=g(a,b[f])){return h}}return h},joy.parseInt=function(a){var b=joy.parseFloat(a);return b&&(b=0|b),b},joy.parseFloat=function(a,b){if(!a&&0!==a){return null}if(typeof a===NUMBER){return a}a=a.toString(),joyLang=joy.getPluginLang();var c,d,e=joyLang.numberFormat,f=e.percent,g=e.currency,j=g.symbol,k=f.symbol,l=a.indexOf("-");return i.test(a)?(a=parseFloat(a.replace(e["."],".")),isNaN(a)&&(a=null),a):l>0?null:(l=l>-1,a.indexOf(j)>-1||b&&b.toLowerCase().indexOf("c")>-1?(e=g,c=e.pattern[0].replace("$",j).split("n"),a.indexOf(c[0])>-1&&a.indexOf(c[1])>-1&&(a=a.replace(c[0],"").replace(c[1],""),l=!0)):a.indexOf(k)>-1&&(d=!0,e=f,j=k),a=a.replace("-","").replace(j,"").replace(h," ").split(e[","].replace(h," ")).join("").replace(e["."],"."),a=parseFloat(a),isNaN(a)?a=null:l&&(a*=-1),a&&d&&(a/=100),a)}}(),function(){support.scrollbar=function(){var a,b=document.createElement("div");return b.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",b.innerHTML="&nbsp;",document.body.appendChild(b),a=b.offsetWidth-b.scrollWidth,document.body.removeChild(b),a},support.isRtl=function(a){return $(a).closest(".k-rtl").length>0};var a=document.createElement("table");try{a.innerHTML="<tr><td></td></tr>",support.tbodyInnerHtml=!0}catch(b){support.tbodyInnerHtml=!1}support.touch="ontouchstart" in window,support.msPointers=window.MSPointerEvent,support.pointers=window.PointerEvent;var c=support.transitions=!1,d=support.transforms=!1,e="HTMLElement" in window?HTMLElement.prototype:[];support.hasHW3D="WebKitCSSMatrix" in window&&"m11" in new window.WebKitCSSMatrix||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style,each(["Moz","webkit","O","ms"],function(){var b=this.toString(),e=typeof a.style[b+"Transition"]===STRING;if(e||typeof a.style[b+"Transform"]===STRING){var f=b.toLowerCase();return d={css:"ms"!=f?"-"+f+"-":"",prefix:b,event:"o"===f||"webkit"===f?f:""},e&&(c=d,c.event=c.event?c.event+"TransitionEnd":"transitionend"),!1}}),a=null,support.transforms=d,support.transitions=c,support.devicePixelRatio=window.devicePixelRatio===undefined?1:window.devicePixelRatio;try{support.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,support.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(b){support.screenWidth=window.screen.availWidth,support.screenHeight=window.screen.availHeight}support.detectOS=function(a){var b,c=!1,d=[],e=!/mobile safari/i.test(a),f={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},g={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},h={tablet:/playbook|ipad|fire/i},i={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome|crios/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var j in f){if(f.hasOwnProperty(j)&&(d=a.match(f[j]))){if("windows"==j&&"plugins" in navigator){return !1}c={},c.device=j,c.tablet=testRx(j,h,!1),c.browser=testRx(a,i,"default"),c.name=testRx(j,g),c[c.name]=!0,c.majorVersion=d[2],c.minorVersion=d[3].replace("_","."),b=c.minorVersion.replace(".","").substr(0,2),c.flatVersion=c.majorVersion+b+new Array(3-(b.length<3?b.length:2)).join("0"),c.cordova=typeof window.PhoneGap!==UNDEFINED||typeof window.cordova!==UNDEFINED,c.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||c.cordova,c.android&&(support.devicePixelRatio<1.5&&c.flatVersion<400||e)&&(support.screenWidth>800||support.screenHeight>800)&&(c.tablet=j);break}}return c};var f=support.mobileOS=support.detectOS(navigator.userAgent);support.wpDevicePixelRatio=f.wp?screen.width/320:0,support.kineticScrollNeeded=f&&(support.touch||support.msPointers||support.pointers),support.hasNativeScrolling=!1,(f.ios||f.android&&f.majorVersion>2||f.wp)&&(support.hasNativeScrolling=f),support.mouseAndTouchPresent=support.touch&&!(support.mobileOS.ios||support.mobileOS.android),support.detectBrowser=function(a){var b=!1,c=[],d={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var e in d){if(d.hasOwnProperty(e)&&(c=a.match(d[e]))){b={},b[e]=!0,b[c[1].toLowerCase()]=!0,b.version=parseInt(document.documentMode||c[2],10);break}}return b},support.browser=support.detectBrowser(navigator.userAgent),support.zoomLevel=function(){try{return support.touch?document.documentElement.clientWidth/window.innerWidth:support.browser.msie&&support.browser.version>=10?(top||window).document.documentElement.offsetWidth/(top||window).innerWidth:1}catch(a){return 1}},support.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(support.browser.msie&&support.browser.version<8),function(a){var b,c=parseInt(a.version,10);a.msie?b="ie":a.mozilla?b="ff":a.safari?b="safari":a.webkit?b="webkit":a.opera&&(b="opera"),b&&$(document.documentElement).addClass("k-"+b+" k-"+b+c)}(support.browser),support.eventCapture=document.documentElement.addEventListener;var g=document.createElement("input");support.placeholder="placeholder" in g,support.propertyChangeEvent="onpropertychange" in g,support.input=function(){for(var a,b=["number","date","time","month","week","datetime","datetime-local"],c=b.length,d="test",e={},f=0;c>f;f++){a=b[f],g.setAttribute("type",a),g.value=d,e[a.replace("-","")]="text"!==g.type&&g.value!==d}return e}(),g.style.cssText="float:left;",support.cssFloat=!!g.style.cssFloat,g=null,support.stableSort=function(){for(var a=513,b=[{index:0,field:"b"}],c=1;a>c;c++){b.push({index:c,field:"a"})}return b.sort(function(a,b){return a.field>b.field?1:a.field<b.field?-1:0}),1===b[0].index}(),support.matchesSelector=e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.matchesSelector||function(a){for(var b=document.querySelectorAll?(this.parentNode||document).querySelectorAll(a)||[]:$(a),c=b.length;c--;){if(b[c]==this){return !0}}return !1},support.pushState=window.history&&window.history.pushState;var h=document.documentMode;support.hashChange="onhashchange" in window&&!(support.browser.msie&&(!h||8>=h))}();var directions={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},effects={};$.extend(effects,{enabled:!0,Element:function(a){this.element=$(a)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),effects.promiseShim=effects.promise,"joyAnimate" in $.fn||extend($.fn,{joyStop:function(a,b){return this.stop(a,b)},joyAnimate:function(a,b,c,d){return animate(this,a,b,c,d)},joyAddClass:function(a,b){return joy.toggleClass(this,a,b,!0)},joyRemoveClass:function(a,b){return joy.toggleClass(this,a,b,!1)},joyToggleClass:function(a,b,c){return joy.toggleClass(this,a,b,c)}});var ampRegExp=/&/g,ltRegExp=/</g,quoteRegExp=/"/g,aposRegExp=/'/g,gtRegExp=/>/g,eventTarget=function(a){return a.target};support.touch&&(eventTarget=function(a){var b="originalEvent" in a?a.originalEvent.changedTouches:"changedTouches" in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target},each(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(a,b){$.fn[b]=function(a){return this.bind(b,a)}})),support.touch?support.mobileOS?(support.mousedown="touchstart",support.mouseup="touchend",support.mousemove="touchmove",support.mousecancel="touchcancel",support.click="touchend",support.resize="orientationchange"):(support.mousedown="mousedown touchstart",support.mouseup="mouseup touchend",support.mousemove="mousemove touchmove",support.mousecancel="mouseleave touchcancel",support.click="click",support.resize="resize"):support.pointers?(support.mousemove="pointermove",support.mousedown="pointerdown",support.mouseup="pointerup",support.mousecancel="pointercancel",support.click="pointerup",support.resize="orientationchange resize"):support.msPointers?(support.mousemove="MSPointerMove",support.mousedown="MSPointerDown",support.mouseup="MSPointerUp",support.mousecancel="MSPointerCancel",support.click="MSPointerUp",support.resize="orientationchange resize"):(support.mousemove="mousemove",support.mousedown="mousedown",support.mouseup="mouseup",support.mousecancel="mouseleave",support.click="click",support.resize="resize");var wrapExpression=function(a,b){var c,d,e,f,g=b||"d",h=1;for(d=0,e=a.length;e>d;d++){f=a[d],""!==f&&(c=f.indexOf("["),0!==c&&(-1==c?f="."+f:(h++,f="."+f.substring(0,c)+" || {})"+f.substring(c))),h++,g+=f+(e-1>d?" || {})":")"))}return new Array(h).join("(")+g},localUrlRe=/^([a-z]+:)?\/\//i;extend(joy,{ui:joy.ui||{},fx:joy.fx||fx,effects:joy.effects||effects,mobile:joy.mobile||{},data:joy.data||{},dataviz:joy.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:joy.support||support,animate:joy.animate||animate,ns:"",attr:function(a){return"data-"+joy.ns+a},getShadows:getShadows,wrap:wrap,deepExtend:deepExtend,getComputedStyles:getComputedStyles,size:size,toCamelCase:toCamelCase,toHyphens:toHyphens,getOffset:joy.getOffset||getOffset,parseEffects:joy.parseEffects||parseEffects,toggleClass:joy.toggleClass||toggleClass,directions:joy.directions||directions,Observable:Observable,Class:Class,Template:Template,template:proxy(Template.compile,Template),render:proxy(Template.render,Template),stringify:proxy(JSON.stringify,JSON),eventTarget:eventTarget,htmlEncode:htmlEncode,isLocalUrl:function(a){return a&&!localUrlRe.test(a)},expr:function(a,b,c){return a=a||"",typeof b==STRING&&(c=b,b=!1),c=c||"d",a&&"["!==a.charAt(0)&&(a="."+a),a=b?wrapExpression(a.split("."),c):c+a},getter:function(a,b){return getterCache[a]=getterCache[a]||new Function("d","return "+joy.expr(a,b))},setter:function(a){return setterCache[a]=setterCache[a]||new Function("d,value",joy.expr(a)+"=value")},accessor:function(a){return{get:joy.getter(a),set:joy.setter(a)}},guid:function(){var a,b,c="";for(a=0;32>a;a++){b=16*math.random()|0,(8==a||12==a||16==a||20==a)&&(c+="-"),c+=(12==a?4:16==a?3&b|8:b).toString(16)}return c},roleSelector:function(a){return a.replace(/(\S+)/g,"["+joy.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},logToConsole:function(a){var b=window.console;"undefined"!=typeof b&&b.log&&b.log(a)}});var Widget=Observable.extend({init:function(a,b){var c=this;c.element=joy.jQuery(a).handler(c),Observable.fn.init.call(c),b=c.options=extend(!0,{},c.options,b),c.element.attr(joy.attr("role"))||c.element.attr(joy.attr("role"),(b.name||"").toLowerCase()),c.element.data("objectKey","joy"+b.prefix+b.name),c.element.data("joy"+b.prefix+b.name,c),c.bind(c.events,b)},getElement:function(){return this.element},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].joyBindingTarget},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c),a.attr(c,isNaN(d)?0:d)},setOptions:function(a){this._setEvents(a),$.extend(this.options,a)},_setEvents:function(a){for(var b,c=this,d=0,e=c.events.length;e>d;d++){b=c.events[d],c.options[b]&&a[b]&&c.unbind(b,c.options[b])
}c.bind(c.events,a)},resize:function(a){var b=this.getSize(),c=this._size;(a||!c||b.width!==c.width||b.height!==c.height)&&(this._resize(b),this.trigger("resize",b),this._size=b)},getSize:function(){return joy.dimensions(this.element)},size:function(a){return a?void this.setSize(a):this.getSize()},setSize:$.noop,_resize:$.noop,destroy:function(){var a=this;a.element.removeData("joy"+a.options.prefix+a.options.name),a.element.removeData("handler"),a.unbind()}});joy.dimensions=function(a,b){var c=a[0];return b&&a.css(b),{width:c.offsetWidth,height:c.offsetHeight}},joy.notify=noop;var templateRegExp=/template$/i,jsonRegExp=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,jsonFormatRegExp=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,dashRegExp=/([A-Z])/g;joy.initWidget=function(a,b,c){var d,e,f,g,h,i,j,k;if(c?c.roles&&(c=c.roles):c=joy.ui.roles,a=a.nodeType?a:a[0],i=a.getAttribute("class"),i=i.split(" ")[0],i&&(f=-1===i.indexOf(".")?c[i]:joy.getter(i)(window))){for(k=parseOption(a,"dataSource"),b=$.extend({},parseOptions(a,f.fn.options),b),k&&(b.dataSource=typeof k===STRING?joy.getter(k)(window):k),g=0,h=f.fn.events.length;h>g;g++){e=f.fn.events[g],j=parseOption(a,e),j!==undefined&&(b[e]=joy.getter(j)(window))}return d=$(a).data("joy"+f.fn.options.prefix+f.fn.options.name),d?d.setOptions(b):d=new f(a,b),d}},joy.rolesFromNamespaces=function(a){var b,c,d=[];for(a[0]||(a=[joy.ui,joy.dataviz.ui]),b=0,c=a.length;c>b;b++){d[b]=a[b].roles}return extend.apply(null,[{}].concat(d.reverse()))},joy.init=function(a){var b=joy.rolesFromNamespaces(slice.call(arguments,1)),c=joy.ui.selector;$(c.join(",")).each(function(){joy.initWidget(this,{},b)})},joy.destroy=function(a){$(a).find("[data-"+joy.ns+"role]").addBack().each(function(){var a=joy.widgetInstance($(this));a&&a.destroy()})},joy.resize=function(a){var b=$(a).find("[data-"+joy.ns+"role]").addBack().filter(resizableWidget);if(b.length){var c=$.makeArray(b);c.sort(containmentComparer),$.each(c,function(){var a=joy.widgetInstance($(this));a&&a.resize()})}},joy.parseOptions=parseOptions,extend(joy.ui,{Widget:Widget,selector:new Array,roles:{},progress:function(a,b){var c,d,e,f,g=a.find(".k-loading-mask"),h=joy.support,i=h.browser;b?g.length||(c=h.isRtl(a),d=c?"right":"left",f=a.scrollLeft(),e=i.webkit&&c?a[0].scrollWidth-a.width()-2*f:0,g=$("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",a.scrollTop()).css(d,Math.abs(f)+e).prependTo(a)):g&&g.remove()},plugin:function(a,b,c){var d,e=a.fn.options.name;b=b||joy.ui,c=c||"",b[e]=a;var f="joy-"+e.toLowerCase();b.selector.push("."+f),b.roles[f]=a,d="getJoy"+c+e,e="joy"+c+e,$.fn[e]=function(b){var c,d=this;return typeof b===STRING?(c=slice.call(arguments,1),this.each(function(){var a,f,g=$.data(this,e);if(!g){throw new Error(joy.format("Cannot call method '{0}' of {1} before it is initialized",b,e))}if(a=g[b],typeof a!==FUNCTION){throw new Error(joy.format("Cannot find method '{0}' of {1}",b,e))}return f=a.apply(g,c),f!==undefined?(d=f,!1):void 0})):this.each(function(){new a(this,b)}),d},$.fn[d]=function(){return this.data(e)}}});var ContainerNullObject={bind:function(){return this},nullObject:!0},MobileWidget=Widget.extend({init:function(a,b){Widget.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Widget.fn.destroy.call(this),this.element.joyDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(joy.roleSelector("view splitview modalview drawer"));return joy.widgetInstance(a,joy.mobile.ui)},viewHasNativeScrolling:function(){var a=this.view();return a&&a.options.useNativeScrolling},container:function(){var a=this.element.closest(joy.roleSelector("view layout modalview drawer"));return joy.widgetInstance(a,joy.mobile.ui)||ContainerNullObject}});extend(joy.mobile,{init:function(a){joy.init(a,joy.mobile.ui,joy.ui,joy.dataviz.ui)},appLevelNativeScrolling:function(){return joy.mobile.application&&joy.mobile.application.options&&joy.mobile.application.options.useNativeScrolling},ui:{Widget:MobileWidget,roles:{},plugin:function(a){joy.ui.plugin(a,joy.mobile.ui,"Mobile")}}}),joy.touchScroller=function(a,b){return $(a).map(function(a,c){return c=$(c),support.kineticScrollNeeded&&joy.mobile.ui.Scroller&&!c.data("joyMobileScroller")?(c.joyMobileScroller(b),c.data("joyMobileScroller")):!1})[0]},joy.preventDefault=function(a){a.preventDefault()},joy.widgetInstance=function(a,b){var c,d,e=a.data(joy.ns+"role"),f=[];if(e){if("content"===e&&(e="scroller"),b){if(b[0]){for(c=0,d=b.length;d>c;c++){f.push(b[c].roles[e])}}else{f.push(b.roles[e])}}else{f=[joy.ui.roles[e],joy.dataviz.ui.roles[e],joy.mobile.ui.roles[e]]}for(e.indexOf(".")>=0&&(f=[joy.getter(e)(window)]),c=0,d=f.length;d>c;c++){var g=f[c];if(g){var h=a.data("joy"+g.fn.options.prefix+g.fn.options.name);if(h){return h}}}}},joy.onResize=function(a){var b=a;return support.mobileOS.android&&(b=function(){setTimeout(a,600)}),$(window).on(support.resize,b),b},joy.unbindResize=function(a){$(window).off(support.resize,a)},joy.attrValue=function(a,b){return a.data(joy.ns+b)},joy.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},$.extend($.expr[":"],{joyFocusable:function(a){var b=$.attr(a,"tabindex");return focusable(a,!isNaN(b)&&b>-1)}});var MOUSE_EVENTS=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],EXCLUDE_BUST_CLICK_SELECTOR="label, input, [data-rel=external]",MouseEventNormalizer={setupMouseMute:function(){var a=0,b=MOUSE_EVENTS.length,c=document.documentElement;if(!MouseEventNormalizer.mouseTrap&&support.eventCapture){MouseEventNormalizer.mouseTrap=!0,MouseEventNormalizer.bustClick=!1,MouseEventNormalizer.captureMouse=!1;for(var d=function(a){MouseEventNormalizer.captureMouse&&("click"===a.type?MouseEventNormalizer.bustClick&&!$(a.target).is(EXCLUDE_BUST_CLICK_SELECTOR)&&(a.preventDefault(),a.stopPropagation()):a.stopPropagation())};b>a;a++){c.addEventListener(MOUSE_EVENTS[a],d,!0)}}},muteMouse:function(a){MouseEventNormalizer.captureMouse=!0,a.data.bustClick&&(MouseEventNormalizer.bustClick=!0),clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID),MouseEventNormalizer.mouseTrapTimeoutID=setTimeout(function(){MouseEventNormalizer.captureMouse=!1,MouseEventNormalizer.bustClick=!1},400)}},eventMap={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};support.touch&&(support.mobileOS.ios||support.mobileOS.android)?eventMap={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:support.pointers?eventMap={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:support.msPointers&&(eventMap={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!support.msPointers||"onmspointerenter" in window||$.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}});var getEventMap=function(a){return eventMap[a]||a},eventRegEx=/([^ ]+)/g;joy.applyEventMap=function(a,b){return a=a.replace(eventRegEx,getEventMap),b&&(a=a.replace(eventRegEx,"$1."+b)),a};var on=$.fn.on;extend(!0,joyJQuery,$),joyJQuery.fn=joyJQuery.prototype=new $,joyJQuery.fn.constructor=joyJQuery,joyJQuery.fn.init=function(a,b){return b&&b instanceof $&&!(b instanceof joyJQuery)&&(b=joyJQuery(b)),$.fn.init.call(this,a,b,rootjQuery)},joyJQuery.fn.init.prototype=joyJQuery.fn;var rootjQuery=joyJQuery(document);extend($.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(a){return this.data("joyNS",a||joy.guid()),this},on:function(){var a=this,b=a.data("joyNS");if(1===arguments.length){return on.call(a,arguments[0])}var c=a,d=slice.call(arguments);typeof d[d.length-1]===UNDEFINED&&d.pop();var e=d[d.length-1],f=joy.applyEventMap(d[0],b);if(support.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement){MouseEventNormalizer.setupMouseMute();var g=2===d.length?null:d[1],h=f.indexOf("click")>-1&&f.indexOf("touchend")>-1;on.call(this,{touchstart:MouseEventNormalizer.muteMouse,touchend:MouseEventNormalizer.unMuteMouse},g,{bustClick:h})}return typeof e===STRING&&(c=a.data("handler"),e=c[e],d[d.length-1]=function(a){e.call(c,a)}),d[0]=f,on.apply(a,d),a},joyDestroy:function(a){return a=a||this.data("joyNS"),a&&this.off("."+a),this}}),joy.jQuery=joyJQuery,joy.eventMap=eventMap,joy.timezone=function(){function a(a,b){var c,d,e,f=b[3],g=b[4],h=b[5],i=b[8];return i||(b[8]=i={}),i[a]?i[a]:(isNaN(g)?0===g.indexOf("last")?(c=new Date(Date.UTC(a,k[f]+1,1,h[0]-24,h[1],h[2],0)),d=l[g.substr(4,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e-(d>e?7:0))):g.indexOf(">=")>=0&&(c=new Date(Date.UTC(a,k[f],g.substr(5),h[0],h[1],h[2],0)),d=l[g.substr(0,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e+(e>d?7:0))):c=new Date(Date.UTC(a,k[f],g,h[0],h[1],h[2],0)),i[a]=c)}function b(b,c,d){if(c=c[d],!c){var e=d.split(":"),f=0;return e.length>1&&(f=60*e[0]+Number(e[1])),[-1000000,"max","-","Jan",1,[0,0,0],f,"-"]}var g=new Date(b).getUTCFullYear();c=jQuery.grep(c,function(a){var b=a[0],c=a[1];return g>=b&&(c>=g||b==g&&"only"==c||"max"==c)}),c.push(b),c.sort(function(b,c){return"number"!=typeof b&&(b=Number(a(g,b))),"number"!=typeof c&&(c=Number(a(g,c))),b-c});var h=c[jQuery.inArray(b,c)-1]||c[c.length-1];return isNaN(h)?h:null}function c(a,b,c){var d=b[c];if("string"==typeof d&&(d=b[d]),!d){throw new Error('Timezone "'+c+'" is either incorrect, or joy.timezones.min.js is not included.')}for(var e=d.length-1;e>=0;e--){var f=d[e][3];if(f&&a>f){break}}var g=d[e+1];if(!g){throw new Error('Timezone "'+c+'" not found on '+a+".")}return g}function d(a,d,e,f){typeof a!=NUMBER&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var g=c(a,d,f);return{zone:g,rule:b(a,e,g[1])}}function e(a,b){if("Etc/UTC"==b||"Etc/GMT"==b){return 0}var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule;return f?e[0]-f[6]:e[0]}function f(a,b){var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule,g=e[2];return g.indexOf("/")>=0?g.split("/")[f&&+f[6]?1:0]:g.indexOf("%s")>=0?g.replace("%s",f&&"-"!=f[7]?f[7]:""):g}function g(a,b,c){typeof b==STRING&&(b=this.offset(a,b)),typeof c==STRING&&(c=this.offset(a,c));var d=a.getTimezoneOffset();a=new Date(a.getTime()+60000*(b-c));var e=a.getTimezoneOffset();return new Date(a.getTime()+60000*(e-d))}function h(a,b){return this.convert(a,a.getTimezoneOffset(),b)}function i(a,b){return this.convert(a,b,a.getTimezoneOffset())}function j(a){return this.apply(new Date(a),"Etc/UTC")}var k={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},l={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:e,convert:g,apply:h,remove:i,abbr:f,toLocalDate:j}}(),joy.date=function(){function a(a,b){return 0===b&&23===a.getHours()?(a.setHours(a.getHours()+2),!0):!1}function b(b,c,d){var e=b.getHours();d=d||1,c=(c-b.getDay()+7*d)%7,b.setDate(b.getDate()+c),a(b,e)}function c(a,c,d){return a=new Date(a),b(a,c,d),a}function d(a){return new Date(a.getFullYear(),a.getMonth(),1)}function e(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=d(a),e=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return e&&b.setHours(c.getHours()+e/60),b}function f(b){return b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0),a(b,0),b}function g(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function h(a){return a.getTime()-f(a)}function i(a,b,c){var d,e=h(b),f=h(c);return a&&e!=f?(b>=c&&(c+=q),d=h(a),e>d&&(d+=q),e>f&&(f+=q),d>=e&&f>=d):!0}function j(a,b,c){var d,e=b.getTime(),f=c.getTime();return e>=f&&(f+=q),d=a.getTime(),d>=e&&f>=d}function k(b,c){var d=b.getHours();return b=new Date(b),l(b,c*q),a(b,d),b}function l(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*p))}function m(){return f(new Date)}function n(a){return f(a).getTime()==m().getTime()}function o(a){var b=new Date(1980,1,1,0,0,0);return a&&b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}var p=60000,q=86400000;return{adjustDST:a,dayOfWeek:c,setDayOfWeek:b,getDate:f,isInDateRange:j,isInTimeRange:i,isToday:n,nextDay:function(a){return k(a,1)},previousDay:function(a){return k(a,-1)},toUtcTime:g,MS_PER_DAY:q,MS_PER_HOUR:60*p,MS_PER_MINUTE:p,setTime:l,addDays:k,today:m,toInvariantTime:o,firstDayOfMonth:d,lastDayOfMonth:e,getMilliseconds:h}}(),joy.stripWhitespace=function(a){for(var b=document.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(b){return b.parentNode==a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);b.nextNode();){b.referenceNode&&!b.referenceNode.textContent.trim()&&b.referenceNode.parentNode.removeChild(b.referenceNode)}};var animationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1000/60)};joy.animationFrame=function(a){animationFrame.call(window,a)};var animationQueue=[];joy.queueAnimation=function(a){animationQueue[animationQueue.length]=a,1===animationQueue.length&&joy.runNextAnimation()},joy.runNextAnimation=function(){joy.animationFrame(function(){animationQueue[0]&&(animationQueue.shift()(),animationQueue[0]&&joy.runNextAnimation())})},joy.parseQueryStringParams=function(a){for(var b=a.split("?")[1]||"",c={},d=b.split(/&|=/),e=d.length,f=0;e>f;f+=2){""!==d[f]&&(c[decodeURIComponent(d[f])]=decodeURIComponent(d[f+1]))}return c};var OS=joy.support.mobileOS,invalidZeroEvents=OS&&OS.android,mobileChrome=invalidZeroEvents&&"chrome"==OS.browser;joy.elementUnderCursor=function(a){return mobileChrome?document.elementFromPoint(a.x.screen,a.y.screen):document.elementFromPoint(a.x.client,a.y.client)},joy.wheelDeltaY=function(a){var b,c=a.originalEvent,d=c.wheelDeltaY;return c.wheelDelta?(d===undefined||d)&&(b=c.wheelDelta):c.detail&&c.axis===c.VERTICAL_AXIS&&(b=10*-c.detail),b},joy.getByteLength=function(a){for(var b,c=0,d=0;d<a.length;d++){b=a.charAt(d),c+=escape(b).length==6*b.length?2:1}return c},joy.getUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},joy.getJSON=function(a,b,c,d){joy.isFunction(b)&&(joy.isFunction(c)&&(d=c),c=b,b=null),$.getJSON(a,b,function(a){return a.success?void c(a.resultObject):("noSecurity"==a.resultObject&&(parent&&(parent.location=NoSecurityUrl),window.location=NoSecurityUrl),"webNoSecurity"==a.resultObject&&(parent&&(parent.location=WebNoSecurityUrl),window.location=WebNoSecurityUrl),"agencyNoSecurity"==a.resultObject&&(parent&&(parent.location=AgencyNoSecurityUrl),window.location=AgencyNoSecurityUrl),d&&d(a.resultObject),joy.showMessage(a.resultObject,"error"),!1)})},joy.postJSON=function(a,b,c,d){joy.isFunction(b)&&(joy.isFunction(c)&&(d=c),c=b,b=null),$.post(a,b,function(a){return a.success?void c(a.resultObject):("noSecurity"==a.resultObject&&(parent&&(parent.location=NoSecurityUrl),window.location=NoSecurityUrl),"webNoSecurity"==a.resultObject&&(parent&&(parent.location=WebNoSecurityUrl),window.location=WebNoSecurityUrl),"agencyNoSecurity"==a.resultObject&&(parent&&(parent.location=AgencyNoSecurityUrl),window.location=AgencyNoSecurityUrl),d?d(a.resultObject):joy.showMessage(a.resultObject,"error"),!1)},"json")},joy.getAsa=function(a,b,c){var d=new easyXDM.Rpc({swf:ASA_URL+"cors/easyxdm.swf",remote:ASA_URL+"cors/"},{remote:{request:{}}});d.request({url:ASA_URL+a,method:"GET",timeout:360000},function(a){b(a)},function(a){c&&c(a)})},joy.getASAJSON=function(a,b,c,d,e,f){var g=new easyXDM.Rpc({swf:ASA_URL+"cors/easyxdm.swf",remote:ASA_URL+"cors/"},{remote:{request:{}}});c=f?joy.json2xmlAsa(b,c,f):joy.json2xmlAsa(b,c),"get"==b?g.request({url:ASA_URL+a,method:"GET",data:c,timeout:360000},function(a){a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");var b=$.xml2json(a);d(b)},function(a){e&&e(a)}):g.request({url:ASA_URL+a,method:"POST",headers:{"Content-Type":"text/xml;charset=utf-8"},data:c,timeout:360000},function(a){a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");var c=$.xml2json(a),f=c.Body?c.Body[b+"Response"][b+"Result"]:c["soap:Body"][b+"Response"][b+"Result"];(f.oilmapweb||f.NewDataSet||f.oildata)&&f.oilmapweb?f.oilmapweb.error?(joy.showMessage(f.oilmapweb.error,"error"),e&&e(f.oilmapweb.error)):d(f.oilmapweb.result):d(f)},function(a){e&&e(a)})},joy.getJSONAsa=function(a,b,c,d,e){var f=new easyXDM.Rpc({swf:ASA_URL+"cors/easyxdm.swf",remote:ASA_URL+"cors/"},{remote:{request:{}}});joy.isFunction(c)?(d=c,c=joy.json2xmlAsa(b,{})):c=e?joy.json2xmlAsa(b,c,e):joy.json2xmlAsa(b,c),"get"==b?f.request({url:ASA_URL+a,method:"GET",data:c,timeout:360000},function(a){a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");var b=$.xml2json(a);d(b)}):f.request({url:ASA_URL+a,method:"POST",headers:{"Content-Type":"text/xml;charset=utf-8"},data:c,timeout:360000},function(a){a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">");var c=$.xml2json(a),e=c.Body?c.Body[b+"Response"][b+"Result"]:c["soap:Body"][b+"Response"][b+"Result"];(e.oilmapweb||e.NewDataSet||e.oildata)&&e.oilmapweb?e.oilmapweb.error?joy.showMessage(e.oilmapweb.error,"error"):d(e.oilmapweb.result):d(e)})},joy.json2xmlAsa=function(method,data,url){if("get"==method){return data}url||(url="http://map.asascience.com/oilmapwebservice20");var xml='<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:s="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">';xml+="<SOAP-ENV:Body>",xml+="<tns:"+method+' xmlns:tns="'+url+'">';var user=joy.getCookie("user");if(null!=user){var userobj=eval("("+user+")");xml+="<tns:user_id>"+userobj.asaId+"</tns:user_id>",xml+="<tns:session>"+userobj.asaSessionId+"</tns:session>",xml+="<tns:SessionID>"+userobj.asaSessionId+"</tns:SessionID>"}for(var p in data){xml+="<tns:"+p+">"+data[p]+"</tns:"+p+">"}return xml+="</tns:"+method+">",xml+="</SOAP-ENV:Body>",xml+="</SOAP-ENV:Envelope>"},joy.getParaMap=function(a){var b={};for(var c in a){b["map['"+c+"']"]=a[c]}return b},joy.setCookie=function(a,b,c){c||(c=24);var d=new Date;d.setTime(d.getTime()+60*c*60*1000),document.cookie=a+"="+escape(b)+";expires="+d.toGMTString()+"; path=/"},joy.getCookie=function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?unescape(b[2]):null},joy.delCookie=function(a){var b=new Date;b.setTime(b.getTime()-1);var c=getCookie(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString()+"; path=/")},joy.caret=function(a,b,c){var d,e=b!==undefined;if(c===undefined&&(c=b),a[0]&&(a=a[0]),!e||!a.disabled){try{if(a.selectionStart!==undefined){e?(a.focus(),a.setSelectionRange(b,c)):b=[a.selectionStart,a.selectionEnd]}else{if(document.selection){if($(a).is(":visible")&&a.focus(),d=a.createTextRange(),e){d.collapse(!0),d.moveStart("character",b),d.moveEnd("character",c-b),d.select()}else{var f,g,h=d.duplicate();d.moveToBookmark(document.selection.createRange().getBookmark()),h.setEndPoint("EndToStart",d),f=h.text.length,g=f+d.text.length,b=[f,g]}}}}catch(i){b=[]}return b}},$().ready(function(){var a=joy.getPluginLang();a.common.ajaxError;$.ajaxSetup({cache:!1,traditional:!0,error:function(a,b){return !1}}),joy.init()});var mousewheelTypes=["DOMMouseScroll","mousewheel"];if($.event.fixHooks){for(var i=mousewheelTypes.length;i;){$.event.fixHooks[mousewheelTypes[--i]]=$.event.mouseHooks}}$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var a=mousewheelTypes.length;a;){this.addEventListener(mousewheelTypes[--a],mousewheelHandler,!1)}}else{this.onmousewheel=mousewheelHandler}},teardown:function(){if(this.removeEventListener){for(var a=mousewheelTypes.length;a;){this.removeEventListener(mousewheelTypes[--a],mousewheelHandler,!1)}}else{this.onmousewheel=null}}},$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery);